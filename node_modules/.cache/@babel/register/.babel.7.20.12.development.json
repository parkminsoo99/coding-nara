{"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/main.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _socket = _interopRequireDefault(require(\"socket.io\"));\nvar _http = _interopRequireDefault(require(\"http\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar express = require('express');\nvar session = require('express-session');\nvar bodyParser = require('body-parser');\nvar FileStore = require('session-file-store')(session);\nvar app = express();\nvar port = 54213;\nvar qs = require('querystring');\nvar authRouter = require('./lib_login/auth');\nvar main_Router = require('./lib/main_page');\nvar curi_Router = require('./lib/curi_page');\nvar ask_Router = require('./lib/ask_page');\nvar mypage_Router = require('./lib/my_page');\nvar enroll_Router = require('./lib/enroll_page');\nvar review_Router = require('./lib/review_page');\nvar handleListen = function handleListen() {\n  return console.log(\"Listen on http://localhost:54213\");\n};\nvar _dirname = _path[\"default\"].resolve();\n/*nsp check로 package.json에 있는 dependencies를 체크하여 문제가 있는 것들을 알려준다.*/\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n  extended: false\n}));\n// app.set(\"views\", path.join(__dirname, \"views\"));\n// app.set(\"view engine\", \"pug\");\napp.use(\"/js\", express[\"static\"](_dirname + \"/js\"));\napp.use(\"/CSS\", express[\"static\"](_dirname + \"/CSS\"));\napp.use(\"/static\", express[\"static\"](_dirname + \"/static\"));\napp.use(\"/image\", express[\"static\"](_dirname + \"/image\"));\napp.set('views', _dirname + \"/views\");\napp.set(\"view engine\", \"ejs\");\napp.use(session({\n  secret: '~~~',\n  // 원하는 문자 입력\n  resave: false,\n  saveUninitialized: true,\n  store: new FileStore({\n    logFn: function logFn() {}\n  })\n}));\n/*보안*/\nvar helmet = require('helmet');\napp.use(helmet());\napp.use(helmet.xssFilter());\napp.disable(\"x-powered-by\");\napp.use(helmet.frameguard(\"deny\"));\napp.use(helmet.noSniff());\napp.use(function (req, res, next) {\n  res.removeHeader(\"Cross-Origin-Embedder-Policy\");\n  next();\n});\napp.use(helmet.contentSecurityPolicy({\n  directives: {\n    \"default-src\": [\"'self'\", \"'unsafe-inline'\"],\n    \"frame-src\": ['*'],\n    \"form-action\": [\"'self'\", '*.inicis.com', '*.localhost:54213'],\n    \"script-src\": [\"'self'\", '*.naver.com', \"unpkg.com\", \"*.googleapis.com\", \"*.cloudflare.com\", \"*.jsdelivr.net\", \"*.startbootstrap.com\", \"*.kakaocdn.net\", '*.jquery.com', '*.iamport.kr', '*.inicis.com', \"'unsafe-inline'\"],\n    \"script-src-attr\": [\"'self'\", \"'unsafe-inline'\"],\n    \"img-src\": [\"'self'\", 'data:', \"*.naver.com\", \"*.kakaocdn.net\", \"localhost:54213\", \"'unsafe-inline'\"],\n    \"connect-src\": [\"'self'\", \"'unsafe-inline'\", \"unpkg.com\"],\n    \"media-src\": [\"'self'\", \"'unsafe-inline'\"]\n  }\n}));\n\n/*CSRF*/\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\n\n/*DDOS*/\nvar rateLimit = require(\"express-rate-limit\");\nvar apiLimiter = rateLimit({\n  windowMs: 1 * 60 * 1000,\n  max: 30,\n  standardHeaders: true,\n  legacyHeaders: false\n});\napp.get('/', function (req, res) {\n  apiLimiter, res.redirect('/main');\n});\n\n// // 인증 라우터\napp.use('/auth', apiLimiter, authRouter);\n\n// 메인 페이지\napp.use('/main', apiLimiter, main_Router);\n\n//커리큘럼\napp.use('/curriculum', apiLimiter, curi_Router);\napp.use('/ask', apiLimiter, ask_Router);\n\n//고객센터\napp.use('/enroll', apiLimiter, enroll_Router);\napp.use('/review', apiLimiter, review_Router);\napp.use('/myinfo', apiLimiter, mypage_Router); //마이페이지\n\n// 서버 만들고\nvar httpServer = _http[\"default\"].createServer(app);\n// 소켓 서버랑 합치기\nvar wsServer = (0, _socket[\"default\"])(httpServer);\n\n//소켓 연결시\nwsServer.on(\"connection\", function (socket) {\n  apiLimiter,\n  // join Room\n  socket.on(\"join_room\", function (roomName) {\n    apiLimiter, socket.join(roomName);\n    socket.to(roomName).emit(\"welcome\");\n  });\n\n  // offer\n  socket.on(\"offer\", function (offer, roomName) {\n    apiLimiter, socket.to(roomName).emit(\"offer\", offer);\n  });\n\n  // answer\n  socket.on(\"answer\", function (answer, roomName) {\n    apiLimiter, socket.to(roomName).emit(\"answer\", answer);\n  });\n\n  //ice\n  socket.on(\"ice\", function (ice, roomName) {\n    apiLimiter, socket.to(roomName).emit(\"ice\", ice);\n  });\n});\nhttpServer.listen(port, apiLimiter, handleListen);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInNlc3Npb24iLCJib2R5UGFyc2VyIiwiRmlsZVN0b3JlIiwiYXBwIiwicG9ydCIsInFzIiwiYXV0aFJvdXRlciIsIm1haW5fUm91dGVyIiwiY3VyaV9Sb3V0ZXIiLCJhc2tfUm91dGVyIiwibXlwYWdlX1JvdXRlciIsImVucm9sbF9Sb3V0ZXIiLCJyZXZpZXdfUm91dGVyIiwiaGFuZGxlTGlzdGVuIiwiY29uc29sZSIsImxvZyIsIl9fZGlybmFtZSIsInBhdGgiLCJyZXNvbHZlIiwidXNlIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInNldCIsInNlY3JldCIsInJlc2F2ZSIsInNhdmVVbmluaXRpYWxpemVkIiwic3RvcmUiLCJsb2dGbiIsImhlbG1ldCIsInhzc0ZpbHRlciIsImRpc2FibGUiLCJmcmFtZWd1YXJkIiwibm9TbmlmZiIsInJlcSIsInJlcyIsIm5leHQiLCJyZW1vdmVIZWFkZXIiLCJjb250ZW50U2VjdXJpdHlQb2xpY3kiLCJkaXJlY3RpdmVzIiwiVG9rZW5zIiwidG9rZW5zIiwicmF0ZUxpbWl0IiwiYXBpTGltaXRlciIsIndpbmRvd01zIiwibWF4Iiwic3RhbmRhcmRIZWFkZXJzIiwibGVnYWN5SGVhZGVycyIsImdldCIsInJlZGlyZWN0IiwiaHR0cFNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJ3c1NlcnZlciIsIlNvY2tldElPIiwib24iLCJzb2NrZXQiLCJyb29tTmFtZSIsImpvaW4iLCJ0byIsImVtaXQiLCJvZmZlciIsImFuc3dlciIsImljZSIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS1tYXN0ZXIvIiwic291cmNlcyI6WyJtYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgU29ja2V0SU8gZnJvbSBcInNvY2tldC5pb1wiO1xuaW1wb3J0IGh0dHAgZnJvbSBcImh0dHBcIjtcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJylcbmNvbnN0IHNlc3Npb24gPSByZXF1aXJlKCdleHByZXNzLXNlc3Npb24nKVxuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XG5jb25zdCBGaWxlU3RvcmUgPSByZXF1aXJlKCdzZXNzaW9uLWZpbGUtc3RvcmUnKShzZXNzaW9uKVxuY29uc3QgYXBwID0gZXhwcmVzcygpXG5jb25zdCBwb3J0ID0gNTQyMTNcbnZhciBxcyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG52YXIgYXV0aFJvdXRlciA9IHJlcXVpcmUoJy4vbGliX2xvZ2luL2F1dGgnKTtcbnZhciBtYWluX1JvdXRlciA9IHJlcXVpcmUoJy4vbGliL21haW5fcGFnZScpO1xudmFyIGN1cmlfUm91dGVyID0gcmVxdWlyZSgnLi9saWIvY3VyaV9wYWdlJyk7XG52YXIgYXNrX1JvdXRlciA9IHJlcXVpcmUoJy4vbGliL2Fza19wYWdlJyk7XG52YXIgbXlwYWdlX1JvdXRlciA9IHJlcXVpcmUoJy4vbGliL215X3BhZ2UnKTtcbnZhciBlbnJvbGxfUm91dGVyID0gcmVxdWlyZSgnLi9saWIvZW5yb2xsX3BhZ2UnKTtcbnZhciByZXZpZXdfUm91dGVyID0gcmVxdWlyZSgnLi9saWIvcmV2aWV3X3BhZ2UnKTtcbmNvbnN0IGhhbmRsZUxpc3RlbiA9ICgpID0+IGNvbnNvbGUubG9nKFwiTGlzdGVuIG9uIGh0dHA6Ly9sb2NhbGhvc3Q6NTQyMTNcIik7XG5jb25zdCBfX2Rpcm5hbWUgPSBwYXRoLnJlc29sdmUoKTtcbi8qbnNwIGNoZWNr66GcIHBhY2thZ2UuanNvbuyXkCDsnojripQgZGVwZW5kZW5jaWVz66W8IOyytO2BrO2VmOyXrCDrrLjsoJzqsIAg7J6I64qUIOqyg+uTpOydhCDslYzroKTspIDri6QuKi9cbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xuLy8gYXBwLnNldChcInZpZXdzXCIsIHBhdGguam9pbihfX2Rpcm5hbWUsIFwidmlld3NcIikpO1xuLy8gYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwicHVnXCIpO1xuYXBwLnVzZShcIi9qc1wiLCBleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUgKyBcIi9qc1wiKSk7XG5hcHAudXNlKFwiL0NTU1wiLCBleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUgKyBcIi9DU1NcIikpO1xuYXBwLnVzZShcIi9zdGF0aWNcIiwgZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsgXCIvc3RhdGljXCIpKTtcbmFwcC51c2UoXCIvaW1hZ2VcIiwgZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsgXCIvaW1hZ2VcIikpO1xuXG5hcHAuc2V0KCd2aWV3cycsIF9fZGlybmFtZSArIFwiL3ZpZXdzXCIgKTtcbmFwcC5zZXQoXCJ2aWV3IGVuZ2luZVwiLCBcImVqc1wiKTtcblxuYXBwLnVzZShzZXNzaW9uKHtcbiAgc2VjcmV0OiAnfn5+JyxcdC8vIOybkO2VmOuKlCDrrLjsnpAg7J6F66ClXG4gIHJlc2F2ZTogZmFsc2UsXG4gIHNhdmVVbmluaXRpYWxpemVkOiB0cnVlLFxuICBzdG9yZTpuZXcgRmlsZVN0b3JlKHtsb2dGbjogZnVuY3Rpb24oKXt9fSksXG5cbn0pKVxuLyrrs7TslYgqL1xudmFyIGhlbG1ldCA9IHJlcXVpcmUoJ2hlbG1ldCcpO1xuYXBwLnVzZShoZWxtZXQoKSk7XG5hcHAudXNlKGhlbG1ldC54c3NGaWx0ZXIoKSk7XG5hcHAuZGlzYWJsZShcIngtcG93ZXJlZC1ieVwiKTtcbmFwcC51c2UoaGVsbWV0LmZyYW1lZ3VhcmQoXCJkZW55XCIpKTtcbmFwcC51c2UoaGVsbWV0Lm5vU25pZmYoKSk7XG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICByZXMucmVtb3ZlSGVhZGVyKFwiQ3Jvc3MtT3JpZ2luLUVtYmVkZGVyLVBvbGljeVwiKTtcbiAgbmV4dCgpO1xufSk7XG5hcHAudXNlKGhlbG1ldC5jb250ZW50U2VjdXJpdHlQb2xpY3koe1xuICBkaXJlY3RpdmVzOiB7XG4gICAgXCJkZWZhdWx0LXNyY1wiOltcIidzZWxmJ1wiLFwiJ3Vuc2FmZS1pbmxpbmUnXCJdLFxuICAgIFwiZnJhbWUtc3JjXCIgOlsnKiddLFxuICAgIFwiZm9ybS1hY3Rpb25cIiA6IFtcIidzZWxmJ1wiLCcqLmluaWNpcy5jb20nLCcqLmxvY2FsaG9zdDo1NDIxMyddLFxuICAgIFwic2NyaXB0LXNyY1wiOiBbXCInc2VsZidcIiwnKi5uYXZlci5jb20nLFwidW5wa2cuY29tXCIsXCIqLmdvb2dsZWFwaXMuY29tXCIsXCIqLmNsb3VkZmxhcmUuY29tXCIsXCIqLmpzZGVsaXZyLm5ldFwiLFwiKi5zdGFydGJvb3RzdHJhcC5jb21cIixcIioua2FrYW9jZG4ubmV0XCIsJyouanF1ZXJ5LmNvbScsJyouaWFtcG9ydC5rcicsJyouaW5pY2lzLmNvbScsXCIndW5zYWZlLWlubGluZSdcIl0sXG4gICAgXCJzY3JpcHQtc3JjLWF0dHJcIiA6IFtcIidzZWxmJ1wiLFwiJ3Vuc2FmZS1pbmxpbmUnXCJdLFxuICAgIFwiaW1nLXNyY1wiOiBbXCInc2VsZidcIiwgJ2RhdGE6JywgXCIqLm5hdmVyLmNvbVwiLCBcIioua2FrYW9jZG4ubmV0XCIsXCJsb2NhbGhvc3Q6NTQyMTNcIixcIid1bnNhZmUtaW5saW5lJ1wiXSxcbiAgICBcImNvbm5lY3Qtc3JjXCIgOiBbXCInc2VsZidcIixcIid1bnNhZmUtaW5saW5lJ1wiLFwidW5wa2cuY29tXCJdLFxuICAgIFwibWVkaWEtc3JjXCIgOiBbXCInc2VsZidcIixcIid1bnNhZmUtaW5saW5lJ1wiXSxcbiAgfSxcbn0pKTtcblxuLypDU1JGKi9cbnZhciBUb2tlbnMgPSByZXF1aXJlKFwiY3NyZlwiKTtcbnZhciB0b2tlbnMgPSBuZXcgVG9rZW5zKCk7XG5cbi8qRERPUyovXG52YXIgcmF0ZUxpbWl0ID0gcmVxdWlyZShcImV4cHJlc3MtcmF0ZS1saW1pdFwiKTsgXG5jb25zdCBhcGlMaW1pdGVyID0gIHJhdGVMaW1pdCh7IFxuICB3aW5kb3dNczogMSo2MCoxMDAwLCBcbiAgbWF4OiAzMCxcbiAgc3RhbmRhcmRIZWFkZXJzOiB0cnVlLFxuICBsZWdhY3lIZWFkZXJzOiBmYWxzZSxcbn0pXG5cblxuYXBwLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xuICBhcGlMaW1pdGVyLFxuICByZXMucmVkaXJlY3QoJy9tYWluJyk7XG59KVxuXG5cbi8vIC8vIOyduOymnSDrnbzsmrDthLBcbmFwcC51c2UoJy9hdXRoJywgYXBpTGltaXRlciwgYXV0aFJvdXRlcik7XG5cbi8vIOuplOyduCDtjpjsnbTsp4BcbmFwcC51c2UoJy9tYWluJywgYXBpTGltaXRlciwgbWFpbl9Sb3V0ZXIpO1xuXG4vL+y7pOumrO2BmOufvFxuYXBwLnVzZSgnL2N1cnJpY3VsdW0nLCBhcGlMaW1pdGVyLCBjdXJpX1JvdXRlcik7XG5cbmFwcC51c2UoJy9hc2snLCBhcGlMaW1pdGVyLCBhc2tfUm91dGVyKTtcblxuLy/qs6DqsJ3shLzthLBcbmFwcC51c2UoJy9lbnJvbGwnLCBhcGlMaW1pdGVyLCBlbnJvbGxfUm91dGVyKTtcblxuYXBwLnVzZSgnL3JldmlldycsIGFwaUxpbWl0ZXIsIHJldmlld19Sb3V0ZXIpO1xuXG5hcHAudXNlKCcvbXlpbmZvJywgYXBpTGltaXRlciwgbXlwYWdlX1JvdXRlcik7Ly/rp4jsnbTtjpjsnbTsp4BcblxuXG4vLyDshJzrsoQg66eM65Ok6rOgXG5jb25zdCBodHRwU2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXBwKTtcbi8vIOyGjOy8kyDshJzrsoTrnpEg7ZWp7LmY6riwXG5jb25zdCB3c1NlcnZlciA9IFNvY2tldElPKGh0dHBTZXJ2ZXIpO1xuXG4vL+yGjOy8kyDsl7DqsrDsi5xcbndzU2VydmVyLm9uKFwiY29ubmVjdGlvblwiLCAoc29ja2V0KSA9PiB7XG4gIGFwaUxpbWl0ZXIsXG4gIC8vIGpvaW4gUm9vbVxuICBzb2NrZXQub24oXCJqb2luX3Jvb21cIiwgKHJvb21OYW1lKSA9PiB7XG4gICAgYXBpTGltaXRlcixcbiAgICBzb2NrZXQuam9pbihyb29tTmFtZSk7XG4gICAgc29ja2V0LnRvKHJvb21OYW1lKS5lbWl0KFwid2VsY29tZVwiKTtcbiAgfSk7XG5cbiAgLy8gb2ZmZXJcbiAgc29ja2V0Lm9uKFwib2ZmZXJcIiwgKG9mZmVyLCByb29tTmFtZSkgPT4ge1xuICAgIGFwaUxpbWl0ZXIsXG4gICAgc29ja2V0LnRvKHJvb21OYW1lKS5lbWl0KFwib2ZmZXJcIiwgb2ZmZXIpO1xuICB9KTtcblxuICAvLyBhbnN3ZXJcbiAgc29ja2V0Lm9uKFwiYW5zd2VyXCIsIChhbnN3ZXIsIHJvb21OYW1lKSA9PiB7XG4gICAgYXBpTGltaXRlcixcbiAgICBzb2NrZXQudG8ocm9vbU5hbWUpLmVtaXQoXCJhbnN3ZXJcIiwgYW5zd2VyKTtcbiAgfSk7XG5cbiAgLy9pY2VcbiAgc29ja2V0Lm9uKFwiaWNlXCIsIChpY2UsIHJvb21OYW1lKSA9PiB7XG4gICAgYXBpTGltaXRlcixcbiAgICBzb2NrZXQudG8ocm9vbU5hbWUpLmVtaXQoXCJpY2VcIiwgaWNlKTtcbiAgfSk7XG59KTtcblxuaHR0cFNlcnZlci5saXN0ZW4ocG9ydCwgYXBpTGltaXRlcixoYW5kbGVMaXN0ZW4pO1xuXG4gIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUF3QjtBQUN4QixJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsSUFBTUMsT0FBTyxHQUFHRCxPQUFPLENBQUMsaUJBQWlCLENBQUM7QUFDMUMsSUFBTUUsVUFBVSxHQUFHRixPQUFPLENBQUMsYUFBYSxDQUFDO0FBQ3pDLElBQU1HLFNBQVMsR0FBR0gsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUNDLE9BQU8sQ0FBQztBQUN4RCxJQUFNRyxHQUFHLEdBQUdMLE9BQU8sRUFBRTtBQUNyQixJQUFNTSxJQUFJLEdBQUcsS0FBSztBQUNsQixJQUFJQyxFQUFFLEdBQUdOLE9BQU8sQ0FBQyxhQUFh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","map":{"version":3,"names":["express","require","session","bodyParser","FileStore","app","port","qs","authRouter","main_Router","curi_Router","ask_Router","mypage_Router","enroll_Router","review_Router","handleListen","console","log","__dirname","path","resolve","use","json","urlencoded","extended","set","secret","resave","saveUninitialized","store","logFn","helmet","xssFilter","disable","frameguard","noSniff","req","res","next","removeHeader","contentSecurityPolicy","directives","Tokens","tokens","rateLimit","apiLimiter","windowMs","max","standardHeaders","legacyHeaders","get","redirect","httpServer","http","createServer","wsServer","SocketIO","on","socket","roomName","join","to","emit","offer","answer","ice","listen"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-master/","sources":["main.js"],"sourcesContent":["import path from \"path\";\nimport SocketIO from \"socket.io\";\nimport http from \"http\";\nconst express = require('express')\nconst session = require('express-session')\nconst bodyParser = require('body-parser');\nconst FileStore = require('session-file-store')(session)\nconst app = express()\nconst port = 54213\nvar qs = require('querystring');\nvar authRouter = require('./lib_login/auth');\nvar main_Router = require('./lib/main_page');\nvar curi_Router = require('./lib/curi_page');\nvar ask_Router = require('./lib/ask_page');\nvar mypage_Router = require('./lib/my_page');\nvar enroll_Router = require('./lib/enroll_page');\nvar review_Router = require('./lib/review_page');\nconst handleListen = () => console.log(\"Listen on http://localhost:54213\");\nconst __dirname = path.resolve();\n/*nsp check로 package.json에 있는 dependencies를 체크하여 문제가 있는 것들을 알려준다.*/\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\n// app.set(\"views\", path.join(__dirname, \"views\"));\n// app.set(\"view engine\", \"pug\");\napp.use(\"/js\", express.static(__dirname + \"/js\"));\napp.use(\"/CSS\", express.static(__dirname + \"/CSS\"));\napp.use(\"/static\", express.static(__dirname + \"/static\"));\napp.use(\"/image\", express.static(__dirname + \"/image\"));\n\napp.set('views', __dirname + \"/views\" );\napp.set(\"view engine\", \"ejs\");\n\napp.use(session({\n  secret: '~~~',\t// 원하는 문자 입력\n  resave: false,\n  saveUninitialized: true,\n  store:new FileStore({logFn: function(){}}),\n\n}))\n/*보안*/\nvar helmet = require('helmet');\napp.use(helmet());\napp.use(helmet.xssFilter());\napp.disable(\"x-powered-by\");\napp.use(helmet.frameguard(\"deny\"));\napp.use(helmet.noSniff());\napp.use((req, res, next) => {\n  res.removeHeader(\"Cross-Origin-Embedder-Policy\");\n  next();\n});\napp.use(helmet.contentSecurityPolicy({\n  directives: {\n    \"default-src\":[\"'self'\",\"'unsafe-inline'\"],\n    \"frame-src\" :['*'],\n    \"form-action\" : [\"'self'\",'*.inicis.com','*.localhost:54213'],\n    \"script-src\": [\"'self'\",'*.naver.com',\"unpkg.com\",\"*.googleapis.com\",\"*.cloudflare.com\",\"*.jsdelivr.net\",\"*.startbootstrap.com\",\"*.kakaocdn.net\",'*.jquery.com','*.iamport.kr','*.inicis.com',\"'unsafe-inline'\"],\n    \"script-src-attr\" : [\"'self'\",\"'unsafe-inline'\"],\n    \"img-src\": [\"'self'\", 'data:', \"*.naver.com\", \"*.kakaocdn.net\",\"localhost:54213\",\"'unsafe-inline'\"],\n    \"connect-src\" : [\"'self'\",\"'unsafe-inline'\",\"unpkg.com\"],\n    \"media-src\" : [\"'self'\",\"'unsafe-inline'\"],\n  },\n}));\n\n/*CSRF*/\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\n\n/*DDOS*/\nvar rateLimit = require(\"express-rate-limit\"); \nconst apiLimiter =  rateLimit({ \n  windowMs: 1*60*1000, \n  max: 30,\n  standardHeaders: true,\n  legacyHeaders: false,\n})\n\n\napp.get('/', (req, res) => {\n  apiLimiter,\n  res.redirect('/main');\n})\n\n\n// // 인증 라우터\napp.use('/auth', apiLimiter, authRouter);\n\n// 메인 페이지\napp.use('/main', apiLimiter, main_Router);\n\n//커리큘럼\napp.use('/curriculum', apiLimiter, curi_Router);\n\napp.use('/ask', apiLimiter, ask_Router);\n\n//고객센터\napp.use('/enroll', apiLimiter, enroll_Router);\n\napp.use('/review', apiLimiter, review_Router);\n\napp.use('/myinfo', apiLimiter, mypage_Router);//마이페이지\n\n\n// 서버 만들고\nconst httpServer = http.createServer(app);\n// 소켓 서버랑 합치기\nconst wsServer = SocketIO(httpServer);\n\n//소켓 연결시\nwsServer.on(\"connection\", (socket) => {\n  apiLimiter,\n  // join Room\n  socket.on(\"join_room\", (roomName) => {\n    apiLimiter,\n    socket.join(roomName);\n    socket.to(roomName).emit(\"welcome\");\n  });\n\n  // offer\n  socket.on(\"offer\", (offer, roomName) => {\n    apiLimiter,\n    socket.to(roomName).emit(\"offer\", offer);\n  });\n\n  // answer\n  socket.on(\"answer\", (answer, roomName) => {\n    apiLimiter,\n    socket.to(roomName).emit(\"answer\", answer);\n  });\n\n  //ice\n  socket.on(\"ice\", (ice, roomName) => {\n    apiLimiter,\n    socket.to(roomName).emit(\"ice\", ice);\n  });\n});\n\nhttpServer.listen(port, apiLimiter,handleListen);\n\n "],"mappings":"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"}},"mtime":1675074714828},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib_login/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib_login/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar express = require('express');\nvar router = express.Router();\nvar qs = require('querystring');\nvar db = require('../db');\nvar axios = require('axios');\n/*네이버 로그인 관련 변수*/\n//var api_url = 'https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=' + client_id + '&redirect_uri=' + redirectURI + '&state=' + state;\nvar client_id = 'sIwGUXdmGRyOPin4mTnj';\nvar client_secret = 'bWV7qU9Ngl';\nvar state = \"1004\";\nvar redirectURI = encodeURI(\"http://localhost:54213/auth/naver/login\");\nvar api_url = 'https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=' + client_id + '&redirect_uri=' + redirectURI + '&state=' + state;\nvar request = require('request-promise');\nvar date = require('date-and-time');\nvar start = Date.now();\nvar date_now = new Date(start);\n///\nvar platform_type = '';\nvar sanitizeHtml = require('sanitize-html');\nvar bcrypt = require('bcrypt');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nvar saltRounds = 10;\n/*카카오 로그인 관련 객체*/\nvar kakaoData = {\n  client_id: 'f28ca6f29082d1991b42941c3178fe60',\n  client_secret: 'fOdmb6jteLfVhsfoWVvqm4Us5CgRc6DS',\n  redirect_url: 'http://localhost:54213/auth/kakao/login',\n  logout_redirect_url: 'http://localhost:54213/auth/kakao/logout'\n};\n\n// 로그인 화면\nrouter.get('/login', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (request.session.type == 'kakao') request.session.destroy();else if (request.session.type == 'naver') request.session.destroy();\n    response.render('auth_login_main', {\n      API_URL: api_url\n    });\n  }\n});\nrouter.get('/naver/login', /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var token, code, _state, naver_api_url, options, result, _token, info_options, info_result, info_result_json;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          console.log('naver in');\n          req.session.secret = tokens.secretSync();\n          token = tokens.create(req.session.secret);\n          if (tokens.verify(req.session.secret, token)) {\n            _context.next = 7;\n            break;\n          }\n          throw new Error('invalid token!');\n        case 7:\n          platform_type = 'naver';\n          // 토큰을 발급받으려면 query string으로 넘겨야 할 정보들이다.\n          code = req.query.code;\n          _state = req.query.state; // 로그인 API를 사용해 access token을 발급받는다.\n          naver_api_url = 'https://nid.naver.com/oauth2.0/token?grant_type=authorization_code&client_id=' + client_id + '&client_secret=' + client_secret + '&redirect_uri=' + redirectURI + '&code=' + code + '&state=' + _state;\n          options = {\n            url: naver_api_url,\n            headers: {\n              'X-Naver-Client-Id': client_id,\n              'X-Naver-Client-Secret': client_secret\n            }\n          };\n          _context.next = 14;\n          return request.get(options);\n        case 14:\n          result = _context.sent;\n          // string 형태로 값이 담기니 JSON 형식으로 parse를 해줘야 한다.\n          _token = JSON.parse(result).access_token; // 발급 받은 access token을 사용해 회원 정보 조회 API를 사용한다.\n          info_options = {\n            url: 'https://openapi.naver.com/v1/nid/me',\n            headers: {\n              'Authorization': 'Bearer ' + _token\n            }\n          };\n          _context.next = 19;\n          return request.get(info_options);\n        case 19:\n          info_result = _context.sent;\n          // string 형태로 값이 담기니 JSON 형식으로 parse를 해줘야 한다.\n          info_result_json = JSON.parse(info_result).response;\n          db.query(\"SELECT * FROM Student WHERE Email_Address = ?\", [info_result_json.email], function (error, results1) {\n            if (error) throw error;\n            if (results1.length > 0) {\n              // db에서의 반환값이 있으면 로그인 성공\n              req.session.type = platform_type;\n              req.session.email = info_result_json.email;\n              req.session.is_logined = true; // 세션 정보 갱신\n              req.session.nickname = info_result_json.name;\n              req.session.mobile = info_result_json.mobile;\n              req.session.save(function () {\n                res.redirect(\"/\");\n              });\n            } else {\n              req.session.type = platform_type;\n              req.session.email = info_result_json.email;\n              req.session.is_logined = true; // 세션 정보 갱신\n              req.session.nickname = info_result_json.name;\n              req.session.mobile = info_result_json.mobile;\n              req.session.save(function () {\n                res.redirect('/auth/register');\n              });\n            }\n          });\n        case 22:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nrouter.get('/kakao/in', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    var kakaoAuthroize = \"https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=\".concat(kakaoData.client_id, \"&redirect_uri=\").concat(kakaoData.redirect_url);\n    res.redirect(kakaoAuthroize);\n  }\n});\nrouter.get('/kakao/logout', /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var token, kakaoAuthroize;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          req.session.secret = tokens.secretSync();\n          token = tokens.create(req.session.secret);\n          if (tokens.verify(req.session.secret, token)) {\n            _context2.next = 6;\n            break;\n          }\n          throw new Error('invalid token!');\n        case 6:\n          req.session.destroy();\n          kakaoAuthroize = 'https://kauth.kakao.com/oauth/logout?client_id=f28ca6f29082d1991b42941c3178fe60&logout_redirect_uri=http://localhost:54213/';\n          res.redirect(kakaoAuthroize);\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nrouter.get('/kakao/login', /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var token, url, body, header, response, _token2, user, nickname, email;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          req.session.secret = tokens.secretSync();\n          token = tokens.create(req.session.secret);\n          if (tokens.verify(req.session.secret, token)) {\n            _context3.next = 6;\n            break;\n          }\n          throw new Error('invalid token!');\n        case 6:\n          _context3.prev = 6;\n          platform_type = \"kakao\";\n          console.log('platform', platform_type);\n          console.log('inin');\n          url = 'https://kauth.kakao.com/oauth/token';\n          body = qs.stringify({\n            grant_type: 'authorization_code',\n            client_id: kakaoData.client_id,\n            client_secret: kakaoData.client_secret,\n            redirect_url: kakaoData.redirect_url,\n            code: req.query.code\n          });\n          header = {\n            'content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\n          };\n          _context3.next = 15;\n          return axios.post(url, body, header);\n        case 15:\n          response = _context3.sent;\n          _token2 = response.data.access_token;\n          console.log(\"res\", response.data.account_email);\n          _context3.next = 20;\n          return axios.get('https://kapi.kakao.com/v2/user/me', {\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8',\n              'Authorization': \"Bearer \".concat(_token2)\n            }\n          });\n        case 20:\n          user = _context3.sent;\n          nickname = user.data.properties.nickname;\n          email = user.data.kakao_account.email;\n          db.query(\"SELECT * FROM Student WHERE Email_Address = ?\", [email], function (error, results1) {\n            console.log('result1', results1);\n            if (error) throw error;\n            if (results1.length > 0) {\n              // db에서의 반환값이 있으면 로그인 성공\n              req.session.type = platform_type;\n              req.session.email = email;\n              req.session.is_logined = true; // 세션 정보 갱신\n              req.session.nickname = nickname;\n              req.session.save(function () {\n                res.redirect(\"/\");\n              });\n            } else {\n              console.log('토큰!', _token2);\n              req.session.type = platform_type;\n              req.session.email = email;\n              req.session.is_logined = true; // 세션 정보 갱신\n              req.session.nickname = nickname;\n              req.session.save(function () {\n                res.redirect('/auth/register');\n              });\n            }\n          });\n          _context3.next = 30;\n          break;\n        case 26:\n          _context3.prev = 26;\n          _context3.t0 = _context3[\"catch\"](6);\n          console.log('실패!');\n          res.redirect('/');\n        case 30:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[6, 26]]);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n// 회원가입 화면\nrouter.get('/register', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (request.session.type == 'naver') {\n      console.log('naver_register_in');\n      response.render('auth_register_naver', {\n        Email: request.session.email,\n        Nickname: request.session.nickname,\n        Mobile: request.session.mobile\n      });\n    } else if (request.session.type == 'kakao') {\n      console.log('kakao_register_in');\n      response.render('auth_register_kakao', {\n        Email: request.session.email,\n        Nickname: request.session.nickname\n      });\n    } else {\n      response.render('auth_register_main');\n    }\n  }\n});\nrouter.post('/login_process', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    var Login_ID = request.body.Login_ID;\n    var password = request.body.pwd;\n    var sanitizeHtml_Login_ID = sanitizeHtml(Login_ID);\n    var sanitizeHtml_password = sanitizeHtml(password);\n    if (sanitizeHtml_Login_ID != '' && sanitizeHtml_password != '') {\n      if (Login_ID && password) {\n        // id와 pw가 입력되었는지 확인\n        db.query('SELECT * FROM Student WHERE Login_ID = ?', [Login_ID], function (error, results, fields) {\n          if (error) throw error;\n          if (results.length > 0) {\n            // db에서의 반환값이 있으면 로그인 성공\n            bcrypt.compare(password, results[0].Password, function (err, result) {\n              if (result) {\n                console.log(results[0].Email_Address);\n                request.session.is_logined = true; // 세션 정보 갱신\n                request.session.nickname = Login_ID;\n                request.session.email = results[0].Email_Address;\n                request.session.Student_Id = results[0].Student_ID;\n                request.session.save(function () {\n                  response.redirect(\"/\");\n                });\n              } else {\n                response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uB85C\\uADF8\\uC778 \\uC815\\uBCF4\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n                                document.location.href=\\\"/auth/login\\\";</script>\");\n              }\n            });\n          } else {\n            response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uB85C\\uADF8\\uC778 \\uC815\\uBCF4\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n                        document.location.href=\\\"/auth/login\\\";</script>\");\n          }\n        });\n      } else {\n        response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC544\\uC774\\uB514\\uC640 \\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694!\\\"); \\n                document.location.href=\\\"/auth/login\\\";</script>\");\n      }\n    } else {\n      response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uB85C\\uADF8\\uC778 \\uC815\\uBCF4\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n            document.location.href=\\\"/auth/login\\\";</script>\");\n    }\n  }\n});\n\n// 로그아웃\nrouter.get('/logout', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    request.session.destroy(function (err) {\n      response.redirect('/');\n    });\n  }\n});\nrouter.get('/naverLogin', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    response.render('auth_login_naver');\n  }\n});\n\n// 회원가입 프로세스\nrouter.post('/register_process', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (request.session.type == 'naver') {\n      var Login_ID = sanitizeHtml(request.session.email);\n      var Name = sanitizeHtml(request.session.nickname);\n      var Password = sanitizeHtml(request.body.pwd);\n      var Platform_type = sanitizeHtml('naver');\n      var Password2 = sanitizeHtml(request.body.pwd2);\n      var Phone_Number = sanitizeHtml(request.body.number);\n      var Address = sanitizeHtml(request.body.address);\n      var Email_Address = sanitizeHtml(request.session.email);\n      var Recommand_ID = sanitizeHtml('');\n      if (Address) {\n        db.query(\"insert into Student(Platform_type ,Name, Phone_Number, \\n                    Email_Address, Login_ID, Address, Date, Recommand_ID, Point) values\\n                    (?,?,?,?,?,?,?,\\n                    ?, ?)\", [Platform_type, request.session.nickname, request.session.mobile, request.session.email, request.session.email, Address, date_now, Recommand_ID, 0], function (error, result) {\n          if (error) throw error;\n          response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uD68C\\uC6D0\\uAC00\\uC785\\uC774 \\uC644\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4!\\\");\\n                    document.location.href=\\\"/\\\";</script>\");\n        });\n      } else {\n        response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC785\\uB825\\uB418\\uC9C0 \\uC54A\\uC740 \\uC815\\uBCF4\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n                document.location.href=\\\"/auth/register\\\";</script>\");\n      }\n    } else if (request.session.type == 'kakao') {\n      console.log('kakao_register_in');\n      console.log(request);\n      var Login_ID = sanitizeHtml(request.session.email);\n      var Name = sanitizeHtml(request.session.nickname);\n      var Password = sanitizeHtml(request.body.pwd);\n      var Platform_type = sanitizeHtml('');\n      var Password2 = sanitizeHtml(request.body.pwd2);\n      var Phone_Number = sanitizeHtml(request.body.number);\n      var Address = sanitizeHtml(request.body.address);\n      var Email_Address = sanitizeHtml(request.session.email);\n      var Recommand_ID = sanitizeHtml('');\n      if (Phone_Number && Address) {\n        db.query(\"insert into Student(Platform_type ,Name, Phone_Number, \\n                    Email_Address, Login_ID, Address, Date, Recommand_ID, Point) values\\n                    (?,?,?,?,?,?,?,\\n                    ?, ?)\", [request.session.type, request.session.nickname, Phone_Number, request.session.email, request.session.email, Address, date_now, Recommand_ID, 0], function (error, result) {\n          if (error) throw error;\n          response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uD68C\\uC6D0\\uAC00\\uC785\\uC774 \\uC644\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4!\\\");\\n                    document.location.href=\\\"/\\\";</script>\");\n        });\n      } else {\n        response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC785\\uB825\\uB418\\uC9C0 \\uC54A\\uC740 \\uC815\\uBCF4\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n                document.location.href=\\\"/auth/register\\\";</script>\");\n      }\n    } else {\n      var Login_ID = sanitizeHtml(request.body.Login_ID);\n      var Name = sanitizeHtml(request.body.username);\n      var Password = sanitizeHtml(request.body.pwd);\n      var Platform_type = sanitizeHtml('');\n      var Password2 = sanitizeHtml(request.body.pwd2);\n      var Phone_Number = sanitizeHtml(request.body.number);\n      var Address = sanitizeHtml(request.body.address);\n      var Email_Address = sanitizeHtml(request.body.email);\n      var Recommand_ID = sanitizeHtml(0);\n      var Point = sanitizeHtml(0);\n      if (Login_ID && Name && Password && Password2 && Phone_Number && Address && Email_Address) {\n        //필수정보\n        db.query('SELECT * FROM Student WHERE Login_ID = ?', [Login_ID], function (error, results, fields) {\n          // DB에 같은 이름의 회원아이디가 있는지 확인\n          console.log(results);\n          if (error) throw error;\n          if (results.length <= 0 && Password == Password2) {\n            // DB에 같은 이름의 회원아이디가 없고, 비밀번호가 올바르게 입력된 경우\n            db.query('SELECT * FROM Student WHERE recommendID = ?', [Recommand_ID], function (error, results_ID, fields) {});\n            bcrypt.hash(Password, saltRounds, function (err, hash) {\n              if (err) throw err;\n              db.query('INSERT INTO Student (Platform_type , Name , Phone_Number , Email_Address , Login_ID , Password , Address , Date , Recommand_ID, Point ) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', [Platform_type, Name, Phone_Number, Email_Address, Login_ID, hash, date_now, Address, Recommand_ID, Point], function (error, data) {\n                if (error) throw error;\n                response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uD68C\\uC6D0\\uAC00\\uC785\\uC774 \\uC644\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4!\\\");\\n                            document.location.href=\\\"/\\\";</script>\");\n              });\n            });\n          } else if (Password != Password2) {\n            // 비밀번호가 올바르게 입력되지 않은 경우\n            response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC785\\uB825\\uB41C \\uBE44\\uBC00\\uBC88\\uD638\\uAC00 \\uC11C\\uB85C \\uB2E4\\uB985\\uB2C8\\uB2E4.\\\"); \\n                        document.location.href=\\\"/auth/register\\\";</script>\");\n          } else {\n            // DB에 같은 이름의 회원아이디가 있는 경우\n            response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC774\\uBBF8 \\uC874\\uC7AC\\uD558\\uB294 \\uC544\\uC774\\uB514 \\uC785\\uB2C8\\uB2E4.\\\"); \\n                        document.location.href=\\\"/auth/register\\\";</script>\");\n          }\n        });\n      } else {\n        // 입력되지 않은 정보가 있는 경우\n        response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC785\\uB825\\uB418\\uC9C0 \\uC54A\\uC740 \\uC815\\uBCF4\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n                document.location.href=\\\"/auth/register\\\";</script>\");\n      }\n    }\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInFzIiwiZGIiLCJheGlvcyIsImNsaWVudF9pZCIsImNsaWVudF9zZWNyZXQiLCJzdGF0ZSIsInJlZGlyZWN0VVJJIiwiZW5jb2RlVVJJIiwiYXBpX3VybCIsInJlcXVlc3QiLCJkYXRlIiwic3RhcnQiLCJEYXRlIiwibm93IiwiZGF0ZV9ub3ciLCJwbGF0Zm9ybV90eXBlIiwic2FuaXRpemVIdG1sIiwiYmNyeXB0IiwiVG9rZW5zIiwidG9rZW5zIiwic2FsdFJvdW5kcyIsImtha2FvRGF0YSIsInJlZGlyZWN0X3VybCIsImxvZ291dF9yZWRpcmVjdF91cmwiLCJnZXQiLCJyZXNwb25zZSIsInNlc3Npb24iLCJzZWNyZXQiLCJzZWNyZXRTeW5jIiwidG9rZW4iLCJjcmVhdGUiLCJ2ZXJpZnkiLCJFcnJvciIsInR5cGUiLCJkZXN0cm95IiwicmVuZGVyIiwiQVBJX1VSTCIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJjb2RlIiwicXVlcnkiLCJuYXZlcl9hcGlfdXJsIiwib3B0aW9ucyIsInVybCIsImhlYWRlcnMiLCJyZXN1bHQiLCJKU09OIiwicGFyc2UiLCJhY2Nlc3NfdG9rZW4iLCJpbmZvX29wdGlvbnMiLCJpbmZvX3Jlc3VsdCIsImluZm9fcmVzdWx0X2pzb24iLCJlbWFpbCIsImVycm9yIiwicmVzdWx0czEiLCJsZW5ndGgiLCJpc19sb2dpbmVkIiwibmlja25hbWUiLCJuYW1lIiwibW9iaWxlIiwic2F2ZSIsInJlZGlyZWN0Iiwia2FrYW9BdXRocm9pemUiLCJib2R5Iiwic3RyaW5naWZ5IiwiZ3JhbnRfdHlwZSIsImhlYWRlciIsInBvc3QiLCJkYXRhIiwiYWNjb3VudF9lbWFpbCIsInVzZXIiLCJwcm9wZXJ0aWVzIiwia2FrYW9fYWNjb3VudCIsIkVtYWlsIiwiTmlja25hbWUiLCJNb2JpbGUiLCJMb2dpbl9JRCIsInBhc3N3b3JkIiwicHdkIiwic2FuaXRpemVIdG1sX0xvZ2luX0lEIiwic2FuaXRpemVIdG1sX3Bhc3N3b3JkIiwicmVzdWx0cyIsImZpZWxkcyIsImNvbXBhcmUiLCJQYXNzd29yZCIsImVyciIsIkVtYWlsX0FkZHJlc3MiLCJTdHVkZW50X0lkIiwiU3R1ZGVudF9JRCIsInNlbmQiLCJOYW1lIiwiUGxhdGZvcm1fdHlwZSIsIlBhc3N3b3JkMiIsInB3ZDIiLCJQaG9uZV9OdW1iZXIiLCJudW1iZXIiLCJBZGRyZXNzIiwiYWRkcmVzcyIsIlJlY29tbWFuZF9JRCIsInVzZXJuYW1lIiwiUG9pbnQiLCJyZXN1bHRzX0lEIiwiaGFzaCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW5nLXllb25namFlL0Rlc2t0b3AvY29kaW5nLW5hcmEtbWFzdGVyL2xpYl9sb2dpbi8iLCJzb3VyY2VzIjpbImF1dGguanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnZhciBxcyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG52YXIgZGIgPSByZXF1aXJlKCcuLi9kYicpO1xuY29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpO1xuLyrrhKTsnbTrsoQg66Gc6re47J24IOq0gOugqCDrs4DsiJgqL1xuLy92YXIgYXBpX3VybCA9ICdodHRwczovL25pZC5uYXZlci5jb20vb2F1dGgyLjAvYXV0aG9yaXplP3Jlc3BvbnNlX3R5cGU9Y29kZSZjbGllbnRfaWQ9JyArIGNsaWVudF9pZCArICcmcmVkaXJlY3RfdXJpPScgKyByZWRpcmVjdFVSSSArICcmc3RhdGU9JyArIHN0YXRlO1xudmFyIGNsaWVudF9pZCA9ICdzSXdHVVhkbUdSeU9QaW40bVRuaic7XG52YXIgY2xpZW50X3NlY3JldCA9ICdiV1Y3cVU5TmdsJztcbnZhciBzdGF0ZSA9IFwiMTAwNFwiO1xudmFyIHJlZGlyZWN0VVJJID0gZW5jb2RlVVJJKFwiaHR0cDovL2xvY2FsaG9zdDo1NDIxMy9hdXRoL25hdmVyL2xvZ2luXCIpO1xudmFyIGFwaV91cmwgPSAnaHR0cHM6Ly9uaWQubmF2ZXIuY29tL29hdXRoMi4wL2F1dGhvcml6ZT9yZXNwb25zZV90eXBlPWNvZGUmY2xpZW50X2lkPScgKyBjbGllbnRfaWQgKyAnJnJlZGlyZWN0X3VyaT0nICsgcmVkaXJlY3RVUkkgKyAnJnN0YXRlPScgKyBzdGF0ZTtcbmNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKCdyZXF1ZXN0LXByb21pc2UnKTtcbmNvbnN0IGRhdGUgPSByZXF1aXJlKCdkYXRlLWFuZC10aW1lJyk7XG5sZXQgc3RhcnQgPSBEYXRlLm5vdygpO1xuY29uc3QgZGF0ZV9ub3cgPSBuZXcgRGF0ZShzdGFydCk7XG4vLy9cbnZhciBwbGF0Zm9ybV90eXBlID0gJyc7XG52YXIgc2FuaXRpemVIdG1sID0gcmVxdWlyZSgnc2FuaXRpemUtaHRtbCcpO1xudmFyIGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpO1xudmFyIFRva2VucyA9IHJlcXVpcmUoXCJjc3JmXCIpO1xudmFyIHRva2VucyA9IG5ldyBUb2tlbnMoKTtcbmNvbnN0IHNhbHRSb3VuZHMgPSAxMDtcbi8q7Lm07Lm07JikIOuhnOq3uOyduCDqtIDroKgg6rCd7LK0Ki9cbmNvbnN0IGtha2FvRGF0YSA9IHtcbiAgICBjbGllbnRfaWQgOiAnZjI4Y2E2ZjI5MDgyZDE5OTFiNDI5NDFjMzE3OGZlNjAnLFxuICAgIGNsaWVudF9zZWNyZXQgOiAnZk9kbWI2anRlTGZWaHNmb1dWdnFtNFVzNUNnUmM2RFMnLFxuICAgIHJlZGlyZWN0X3VybCA6ICdodHRwOi8vbG9jYWxob3N0OjU0MjEzL2F1dGgva2FrYW8vbG9naW4nLFxuICAgIGxvZ291dF9yZWRpcmVjdF91cmwgOiAnaHR0cDovL2xvY2FsaG9zdDo1NDIxMy9hdXRoL2tha2FvL2xvZ291dCdcbn1cblxuLy8g66Gc6re47J24IO2ZlOuptFxucm91dGVyLmdldCgnL2xvZ2luJywgZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgICB9ZWxzZXtcbiAgICAgICAgaWYocmVxdWVzdC5zZXNzaW9uLnR5cGUgPT0gJ2tha2FvJykgcmVxdWVzdC5zZXNzaW9uLmRlc3Ryb3koKTtcbiAgICAgICAgZWxzZSBpZihyZXF1ZXN0LnNlc3Npb24udHlwZSA9PSAnbmF2ZXInKSByZXF1ZXN0LnNlc3Npb24uZGVzdHJveSgpO1xuICAgICAgICByZXNwb25zZS5yZW5kZXIoJ2F1dGhfbG9naW5fbWFpbicse1xuICAgICAgICAgICAgQVBJX1VSTCA6IGFwaV91cmxcbiAgICAgICAgfSlcbiAgICB9XG59KTtcblxucm91dGVyLmdldCgnL25hdmVyL2xvZ2luJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ25hdmVyIGluJylcbiAgICByZXEuc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICAgIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxLnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxLnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgICBwbGF0Zm9ybV90eXBlID0gJ25hdmVyJztcbiAgICAgICAgICAgIC8vIO2GoO2BsOydhCDrsJzquInrsJvsnLzroKTrqbQgcXVlcnkgc3RyaW5n7Jy866GcIOuEmOqyqOyVvCDtlaAg7KCV67O065Ok7J2064ukLlxuICAgICAgICBjb25zdCBjb2RlID0gcmVxLnF1ZXJ5LmNvZGU7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gcmVxLnF1ZXJ5LnN0YXRlO1xuXG4gICAgICAgICAgICAvLyDroZzqt7jsnbggQVBJ66W8IOyCrOyaqe2VtCBhY2Nlc3MgdG9rZW7snYQg67Cc6riJ67Cb64qU64ukLlxuICAgICAgICBjb25zdCBuYXZlcl9hcGlfdXJsID0gJ2h0dHBzOi8vbmlkLm5hdmVyLmNvbS9vYXV0aDIuMC90b2tlbj9ncmFudF90eXBlPWF1dGhvcml6YXRpb25fY29kZSZjbGllbnRfaWQ9JysgY2xpZW50X2lkICsgJyZjbGllbnRfc2VjcmV0PScgKyBjbGllbnRfc2VjcmV0ICsgJyZyZWRpcmVjdF91cmk9JyArIHJlZGlyZWN0VVJJICsgJyZjb2RlPScgKyBjb2RlICsgJyZzdGF0ZT0nICsgc3RhdGU7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICB1cmw6IG5hdmVyX2FwaV91cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ1gtTmF2ZXItQ2xpZW50LUlkJzogY2xpZW50X2lkLCBcbiAgICAgICAgICAgICAgICAnWC1OYXZlci1DbGllbnQtU2VjcmV0JzogY2xpZW50X3NlY3JldFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3QuZ2V0KG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gc3RyaW5nIO2Yle2DnOuhnCDqsJLsnbQg64u06riw64uIIEpTT04g7ZiV7Iud7Jy866GcIHBhcnNl66W8IO2VtOykmOyVvCDtlZzri6QuXG4gICAgICAgIGNvbnN0IHRva2VuID0gSlNPTi5wYXJzZShyZXN1bHQpLmFjY2Vzc190b2tlbjtcblxuICAgICAgICAvLyDrsJzquIkg67Cb7J2AIGFjY2VzcyB0b2tlbuydhCDsgqzsmqntlbQg7ZqM7JuQIOygleuztCDsobDtmowgQVBJ66W8IOyCrOyaqe2VnOuLpC5cbiAgICAgICAgY29uc3QgaW5mb19vcHRpb25zID0ge1xuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9vcGVuYXBpLm5hdmVyLmNvbS92MS9uaWQvbWUnLFxuICAgICAgICAgICAgaGVhZGVyczogeydBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgdG9rZW59XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaW5mb19yZXN1bHQgPSBhd2FpdCByZXF1ZXN0LmdldChpbmZvX29wdGlvbnMpO1xuICAgICAgICAgICAgLy8gc3RyaW5nIO2Yle2DnOuhnCDqsJLsnbQg64u06riw64uIIEpTT04g7ZiV7Iud7Jy866GcIHBhcnNl66W8IO2VtOykmOyVvCDtlZzri6QuXG4gICAgICAgIGNvbnN0IGluZm9fcmVzdWx0X2pzb24gPSBKU09OLnBhcnNlKGluZm9fcmVzdWx0KS5yZXNwb25zZTtcbiAgICAgICAgXG4gICAgICAgIGRiLnF1ZXJ5KGBTRUxFQ1QgKiBGUk9NIFN0dWRlbnQgV0hFUkUgRW1haWxfQWRkcmVzcyA9ID9gLCBbaW5mb19yZXN1bHRfanNvbi5lbWFpbF0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IscmVzdWx0czEpe1xuICAgICAgICAgICAgICAgICAgICBpZihlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzMS5sZW5ndGggPiAwKSB7ICAgICAgIC8vIGRi7JeQ7ISc7J2YIOuwmO2ZmOqwkuydtCDsnojsnLzrqbQg66Gc6re47J24IOyEseqztVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24udHlwZSA9IHBsYXRmb3JtX3R5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi5lbWFpbCA9IGluZm9fcmVzdWx0X2pzb24uZW1haWw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi5pc19sb2dpbmVkID0gdHJ1ZTsgICAgICAvLyDshLjshZgg7KCV67O0IOqwseyLoFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24ubmlja25hbWUgPSBpbmZvX3Jlc3VsdF9qc29uLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi5tb2JpbGUgPSBpbmZvX3Jlc3VsdF9qc29uLm1vYmlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLnNhdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5yZWRpcmVjdChgL2ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLnR5cGUgPSBwbGF0Zm9ybV90eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24uZW1haWwgPSBpbmZvX3Jlc3VsdF9qc29uLmVtYWlsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24uaXNfbG9naW5lZCA9IHRydWU7ICAgICAgLy8g7IS47IWYIOygleuztCDqsLHsi6BcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLm5pY2tuYW1lID0gaW5mb19yZXN1bHRfanNvbi5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24ubW9iaWxlID0gaW5mb19yZXN1bHRfanNvbi5tb2JpbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi5zYXZlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMucmVkaXJlY3QoJy9hdXRoL3JlZ2lzdGVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTsgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG59KVxucm91dGVyLmdldCgnL2tha2FvL2luJywocmVxLHJlcykgPT4ge1xuICAgIHJlcS5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXEuc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXEuc2Vzc2lvbi5zZWNyZXQsIHRva2VuKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gICAgfWVsc2V7XG4gICAgICAgIGNvbnN0IGtha2FvQXV0aHJvaXplID0gYGh0dHBzOi8va2F1dGgua2FrYW8uY29tL29hdXRoL2F1dGhvcml6ZT9yZXNwb25zZV90eXBlPWNvZGUmY2xpZW50X2lkPSR7a2FrYW9EYXRhLmNsaWVudF9pZH0mcmVkaXJlY3RfdXJpPSR7a2FrYW9EYXRhLnJlZGlyZWN0X3VybH1gXG4gICAgICAgIHJlcy5yZWRpcmVjdChrYWthb0F1dGhyb2l6ZSk7XG4gICAgfVxufSlcblxucm91dGVyLmdldCgnL2tha2FvL2xvZ291dCcsIGFzeW5jIChyZXEscmVzKT0+e1xuICAgIHJlcS5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXEuc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXEuc2Vzc2lvbi5zZWNyZXQsIHRva2VuKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gICAgfWVsc2V7XG4gICAgICAgIHJlcS5zZXNzaW9uLmRlc3Ryb3koKTtcbiAgICAgICAgY29uc3Qga2FrYW9BdXRocm9pemUgPSAnaHR0cHM6Ly9rYXV0aC5rYWthby5jb20vb2F1dGgvbG9nb3V0P2NsaWVudF9pZD1mMjhjYTZmMjkwODJkMTk5MWI0Mjk0MWMzMTc4ZmU2MCZsb2dvdXRfcmVkaXJlY3RfdXJpPWh0dHA6Ly9sb2NhbGhvc3Q6NTQyMTMvJ1xuICAgICAgICByZXMucmVkaXJlY3Qoa2FrYW9BdXRocm9pemUpO1xuICAgIH1cbiAgfSlcbnJvdXRlci5nZXQoJy9rYWthby9sb2dpbicsIGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVxLnNlc3Npb24uc2VjcmV0ID0gdG9rZW5zLnNlY3JldFN5bmMoKTtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcS5zZXNzaW9uLnNlY3JldCk7XG4gICAgaWYgKCF0b2tlbnMudmVyaWZ5KHJlcS5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgICB9ZWxzZXtcbiAgICAgICAgdHJ5e1xuICAgICAgICAgICAgcGxhdGZvcm1fdHlwZSA9IFwia2FrYW9cIjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwbGF0Zm9ybScscGxhdGZvcm1fdHlwZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW5pbicpO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gJ2h0dHBzOi8va2F1dGgua2FrYW8uY29tL29hdXRoL3Rva2VuJ1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHFzLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgZ3JhbnRfdHlwZSA6ICdhdXRob3JpemF0aW9uX2NvZGUnLFxuICAgICAgICAgICAgICAgIGNsaWVudF9pZDoga2FrYW9EYXRhLmNsaWVudF9pZCxcbiAgICAgICAgICAgICAgICBjbGllbnRfc2VjcmV0IDoga2FrYW9EYXRhLmNsaWVudF9zZWNyZXQsXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RfdXJsIDoga2FrYW9EYXRhLnJlZGlyZWN0X3VybCxcbiAgICAgICAgICAgICAgICBjb2RlIDogcmVxLnF1ZXJ5LmNvZGVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjb25zdCBoZWFkZXIgPSB7J2NvbnRlbnQtVHlwZScgOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnfVxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KHVybCxib2R5LGhlYWRlcik7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZXNcIiwgcmVzcG9uc2UuZGF0YS5hY2NvdW50X2VtYWlsKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8va2FwaS5rYWthby5jb20vdjIvdXNlci9tZScse1xuICAgICAgICAgICAgICAgIGhlYWRlcnMgOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnIDogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOmBCZWFyZXIgJHt0b2tlbn1gXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGNvbnN0IHsgbmlja25hbWUgfSA9IHVzZXIuZGF0YS5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCB9ID0gdXNlci5kYXRhLmtha2FvX2FjY291bnQ7XG4gICAgICAgICAgICBkYi5xdWVyeShgU0VMRUNUICogRlJPTSBTdHVkZW50IFdIRVJFIEVtYWlsX0FkZHJlc3MgPSA/YCwgW2VtYWlsXSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGVycm9yLHJlc3VsdHMxKXtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0MScscmVzdWx0czEpO1xuICAgICAgICAgICAgICAgIGlmKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0czEubGVuZ3RoID4gMCkgeyAgICAgICAvLyBkYuyXkOyEnOydmCDrsJjtmZjqsJLsnbQg7J6I7Jy866m0IOuhnOq3uOyduCDshLHqs7VcbiAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24udHlwZSA9IHBsYXRmb3JtX3R5cGU7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmVtYWlsID0gZW1haWw7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmlzX2xvZ2luZWQgPSB0cnVlOyAgICAgIC8vIOyEuOyFmCDsoJXrs7Qg6rCx7IugXG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLm5pY2tuYW1lID0gbmlja25hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLnNhdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnJlZGlyZWN0KGAvYCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn7Yag7YGwIScsIHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24udHlwZSA9IHBsYXRmb3JtX3R5cGU7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmVtYWlsID0gZW1haWw7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmlzX2xvZ2luZWQgPSB0cnVlOyAgICAgIC8vIOyEuOyFmCDsoJXrs7Qg6rCx7IugXG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLm5pY2tuYW1lID0gbmlja25hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLnNhdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnJlZGlyZWN0KCcvYXV0aC9yZWdpc3RlcicpO1xuICAgICAgICAgICAgICAgICAgICB9KTsgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9Y2F0Y2h7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn7Iuk7YyoIScpO1xuICAgICAgICAgICAgcmVzLnJlZGlyZWN0KCcvJyk7XG4gICAgICAgIH1cbiAgICB9XG59KVxuLy8g7ZqM7JuQ6rCA7J6FIO2ZlOuptFxucm91dGVyLmdldCgnL3JlZ2lzdGVyJywgZnVuY3Rpb24ocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICByZXF1ZXN0LnNlc3Npb24uc2VjcmV0ID0gdG9rZW5zLnNlY3JldFN5bmMoKTtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgICBpZihyZXF1ZXN0LnNlc3Npb24udHlwZT09J25hdmVyJyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbmF2ZXJfcmVnaXN0ZXJfaW4nKVxuICAgICAgICAgICAgcmVzcG9uc2UucmVuZGVyKCdhdXRoX3JlZ2lzdGVyX25hdmVyJyx7XG4gICAgICAgICAgICAgICAgRW1haWwgOiByZXF1ZXN0LnNlc3Npb24uZW1haWwsXG4gICAgICAgICAgICAgICAgTmlja25hbWUgOiByZXF1ZXN0LnNlc3Npb24ubmlja25hbWUsXG4gICAgICAgICAgICAgICAgTW9iaWxlIDogcmVxdWVzdC5zZXNzaW9uLm1vYmlsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYocmVxdWVzdC5zZXNzaW9uLnR5cGU9PSdrYWthbycpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2tha2FvX3JlZ2lzdGVyX2luJylcbiAgICAgICAgICAgIHJlc3BvbnNlLnJlbmRlcignYXV0aF9yZWdpc3Rlcl9rYWthbycse1xuICAgICAgICAgICAgICAgIEVtYWlsIDogcmVxdWVzdC5zZXNzaW9uLmVtYWlsLFxuICAgICAgICAgICAgICAgIE5pY2tuYW1lIDogcmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgcmVzcG9uc2UucmVuZGVyKCdhdXRoX3JlZ2lzdGVyX21haW4nKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5yb3V0ZXIucG9zdCgnL2xvZ2luX3Byb2Nlc3MnLCBmdW5jdGlvbiAocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICByZXF1ZXN0LnNlc3Npb24uc2VjcmV0ID0gdG9rZW5zLnNlY3JldFN5bmMoKTtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgICB2YXIgTG9naW5fSUQgPSByZXF1ZXN0LmJvZHkuTG9naW5fSUQ7XG4gICAgICAgIHZhciBwYXNzd29yZCA9IHJlcXVlc3QuYm9keS5wd2Q7XG4gICAgICAgIHZhciBzYW5pdGl6ZUh0bWxfTG9naW5fSUQgPSBzYW5pdGl6ZUh0bWwoTG9naW5fSUQpO1xuICAgICAgICB2YXIgc2FuaXRpemVIdG1sX3Bhc3N3b3JkID0gc2FuaXRpemVIdG1sKHBhc3N3b3JkKTtcbiAgICAgICAgaWYoc2FuaXRpemVIdG1sX0xvZ2luX0lEICE9ICcnICYmIHNhbml0aXplSHRtbF9wYXNzd29yZCAhPSAnJyApe1xuICAgICAgICAgICAgaWYgKExvZ2luX0lEICYmIHBhc3N3b3JkKSB7ICAgICAgICAgICAgIC8vIGlk7JmAIHB36rCAIOyeheugpeuQmOyXiOuKlOyngCDtmZXsnbhcbiAgICAgICAgICAgICAgICBkYi5xdWVyeSgnU0VMRUNUICogRlJPTSBTdHVkZW50IFdIRVJFIExvZ2luX0lEID0gPycsIFtMb2dpbl9JRF0sIGZ1bmN0aW9uKGVycm9yLCByZXN1bHRzLCBmaWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID4gMCkgeyAgICAgICAvLyBkYuyXkOyEnOydmCDrsJjtmZjqsJLsnbQg7J6I7Jy866m0IOuhnOq3uOyduCDshLHqs7VcbiAgICAgICAgICAgICAgICAgICAgICAgIGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLHJlc3VsdHNbMF0uUGFzc3dvcmQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHRzWzBdLkVtYWlsX0FkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LnNlc3Npb24uaXNfbG9naW5lZCA9IHRydWU7ICAgICAgLy8g7IS47IWYIOygleuztCDqsLHsi6BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lID0gTG9naW5fSUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3Quc2Vzc2lvbi5lbWFpbCA9IHJlc3VsdHNbMF0uRW1haWxfQWRkcmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LnNlc3Npb24uU3R1ZGVudF9JZCA9IHJlc3VsdHNbMF0uU3R1ZGVudF9JRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5zZXNzaW9uLnNhdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5yZWRpcmVjdChgL2ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2VuZChgPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+YWxlcnQoXCLroZzqt7jsnbgg7KCV67O06rCAIOydvOy5mO2VmOyngCDslYrsirXri4jri6QuXCIpOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9hdXRoL2xvZ2luXCI7PC9zY3JpcHQ+YCk7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi66Gc6re47J24IOygleuztOqwgCDsnbzsuZjtlZjsp4Ag7JWK7Iq164uI64ukLlwiKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPVwiL2F1dGgvbG9naW5cIjs8L3NjcmlwdD5gKTsgICAgXG4gICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5zZW5kKGA8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj5hbGVydChcIuyVhOydtOuUlOyZgCDruYTrsIDrsojtmLjrpbwg7J6F66Cl7ZWY7IS47JqUIVwiKTsgXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9hdXRoL2xvZ2luXCI7PC9zY3JpcHQ+YCk7ICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi66Gc6re47J24IOygleuztOqwgCDsnbzsuZjtlZjsp4Ag7JWK7Iq164uI64ukLlwiKTsgXG4gICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPVwiL2F1dGgvbG9naW5cIjs8L3NjcmlwdD5gKTsgXG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLy8g66Gc6re47JWE7JuDXG5yb3V0ZXIuZ2V0KCcvbG9nb3V0JywgZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgICB9ZWxzZXtcbiAgICAgICAgcmVxdWVzdC5zZXNzaW9uLmRlc3Ryb3koZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgcmVzcG9uc2UucmVkaXJlY3QoJy8nKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cblxuXG5cbnJvdXRlci5nZXQoJy9uYXZlckxvZ2luJywgZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgICB9ZWxzZXtcbiAgICAgICAgcmVzcG9uc2UucmVuZGVyKCdhdXRoX2xvZ2luX25hdmVyJylcbiAgICB9XG59KTtcblxuIFxuLy8g7ZqM7JuQ6rCA7J6FIO2UhOuhnOyEuOyKpFxucm91dGVyLnBvc3QoJy9yZWdpc3Rlcl9wcm9jZXNzJywgZnVuY3Rpb24ocmVxdWVzdCwgcmVzcG9uc2UpIHsgIFxuICAgIHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICAgIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxdWVzdC5zZXNzaW9uLnNlY3JldCk7XG4gICAgaWYgKCF0b2tlbnMudmVyaWZ5KHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQsIHRva2VuKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gICAgfWVsc2V7XG4gICAgICAgIGlmKHJlcXVlc3Quc2Vzc2lvbi50eXBlPT0nbmF2ZXInKXtcbiAgICAgICAgICAgIHZhciBMb2dpbl9JRCA9IHNhbml0aXplSHRtbChyZXF1ZXN0LnNlc3Npb24uZW1haWwpO1xuICAgICAgICAgICAgdmFyIE5hbWUgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lKTtcbiAgICAgICAgICAgIHZhciBQYXNzd29yZCA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkucHdkKTsgICAgXG4gICAgICAgICAgICB2YXIgUGxhdGZvcm1fdHlwZSAgPSBzYW5pdGl6ZUh0bWwoJ25hdmVyJyk7XG4gICAgICAgICAgICB2YXIgUGFzc3dvcmQyID0gc2FuaXRpemVIdG1sKHJlcXVlc3QuYm9keS5wd2QyKTtcbiAgICAgICAgICAgIHZhciBQaG9uZV9OdW1iZXIgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5ib2R5Lm51bWJlcik7XG4gICAgICAgICAgICB2YXIgQWRkcmVzcyA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkuYWRkcmVzcyk7XG4gICAgICAgICAgICB2YXIgRW1haWxfQWRkcmVzcyA9IHNhbml0aXplSHRtbChyZXF1ZXN0LnNlc3Npb24uZW1haWwpO1xuICAgICAgICAgICAgdmFyIFJlY29tbWFuZF9JRCA9IHNhbml0aXplSHRtbCgnJyk7XG4gICAgICAgICAgICBpZihBZGRyZXNzKXtcbiAgICAgICAgICAgICAgICBkYi5xdWVyeShgaW5zZXJ0IGludG8gU3R1ZGVudChQbGF0Zm9ybV90eXBlICxOYW1lLCBQaG9uZV9OdW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICBFbWFpbF9BZGRyZXNzLCBMb2dpbl9JRCwgQWRkcmVzcywgRGF0ZSwgUmVjb21tYW5kX0lELCBQb2ludCkgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICg/LD8sPyw/LD8sPyw/LFxuICAgICAgICAgICAgICAgICAgICA/LCA/KWAsW1BsYXRmb3JtX3R5cGUsIHJlcXVlc3Quc2Vzc2lvbi5uaWNrbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3Quc2Vzc2lvbi5tb2JpbGUscmVxdWVzdC5zZXNzaW9uLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5zZXNzaW9uLmVtYWlsLEFkZHJlc3MsZGF0ZV9ub3csUmVjb21tYW5kX0lELDBdLGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpe1xuICAgICAgICAgICAgICAgICAgICBpZihlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi7ZqM7JuQ6rCA7J6F7J20IOyZhOujjOuQmOyXiOyKteuLiOuLpCFcIik7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWY9XCIvXCI7PC9zY3JpcHQ+YCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2VuZChgPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+YWxlcnQoXCLsnoXroKXrkJjsp4Ag7JWK7J2AIOygleuztOqwgCDsnojsirXri4jri6QuXCIpOyBcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPVwiL2F1dGgvcmVnaXN0ZXJcIjs8L3NjcmlwdD5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHJlcXVlc3Quc2Vzc2lvbi50eXBlPT0na2FrYW8nKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdrYWthb19yZWdpc3Rlcl9pbicpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVxdWVzdClcbiAgICAgICAgICAgIHZhciBMb2dpbl9JRCA9IHNhbml0aXplSHRtbChyZXF1ZXN0LnNlc3Npb24uZW1haWwpO1xuICAgICAgICAgICAgdmFyIE5hbWUgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lKTtcbiAgICAgICAgICAgIHZhciBQYXNzd29yZCA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkucHdkKTsgICAgXG4gICAgICAgICAgICB2YXIgUGxhdGZvcm1fdHlwZSAgPSBzYW5pdGl6ZUh0bWwoJycpO1xuICAgICAgICAgICAgdmFyIFBhc3N3b3JkMiA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkucHdkMik7XG4gICAgICAgICAgICB2YXIgUGhvbmVfTnVtYmVyID0gc2FuaXRpemVIdG1sKHJlcXVlc3QuYm9keS5udW1iZXIpO1xuICAgICAgICAgICAgdmFyIEFkZHJlc3MgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5ib2R5LmFkZHJlc3MpO1xuICAgICAgICAgICAgdmFyIEVtYWlsX0FkZHJlc3MgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5zZXNzaW9uLmVtYWlsKTtcbiAgICAgICAgICAgIHZhciBSZWNvbW1hbmRfSUQgPSBzYW5pdGl6ZUh0bWwoJycpO1xuICAgICAgICAgICAgaWYoUGhvbmVfTnVtYmVyICYmIEFkZHJlc3Mpe1xuICAgICAgICAgICAgICAgIGRiLnF1ZXJ5KGBpbnNlcnQgaW50byBTdHVkZW50KFBsYXRmb3JtX3R5cGUgLE5hbWUsIFBob25lX051bWJlciwgXG4gICAgICAgICAgICAgICAgICAgIEVtYWlsX0FkZHJlc3MsIExvZ2luX0lELCBBZGRyZXNzLCBEYXRlLCBSZWNvbW1hbmRfSUQsIFBvaW50KSB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgKD8sPyw/LD8sPyw/LD8sXG4gICAgICAgICAgICAgICAgICAgID8sID8pYCxbcmVxdWVzdC5zZXNzaW9uLnR5cGUscmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgUGhvbmVfTnVtYmVyLHJlcXVlc3Quc2Vzc2lvbi5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3Quc2Vzc2lvbi5lbWFpbCxBZGRyZXNzLGRhdGVfbm93LFJlY29tbWFuZF9JRCwwXSxmdW5jdGlvbihlcnJvciwgcmVzdWx0KXtcbiAgICAgICAgICAgICAgICAgICAgaWYoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5zZW5kKGA8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj5hbGVydChcIu2ajOybkOqwgOyeheydtCDsmYTro4zrkJjsl4jsirXri4jri6QhXCIpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPVwiL1wiOzwvc2NyaXB0PmApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi7J6F66Cl65CY7KeAIOyViuydgCDsoJXrs7TqsIAg7J6I7Iq164uI64ukLlwiKTsgXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9hdXRoL3JlZ2lzdGVyXCI7PC9zY3JpcHQ+YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHZhciBMb2dpbl9JRCA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkuTG9naW5fSUQpO1xuICAgICAgICAgICAgdmFyIE5hbWUgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5ib2R5LnVzZXJuYW1lKTtcbiAgICAgICAgICAgIHZhciBQYXNzd29yZCA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkucHdkKTsgICAgXG4gICAgICAgICAgICB2YXIgUGxhdGZvcm1fdHlwZSAgPSBzYW5pdGl6ZUh0bWwoJycpO1xuICAgICAgICAgICAgdmFyIFBhc3N3b3JkMiA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkucHdkMik7XG4gICAgICAgICAgICB2YXIgUGhvbmVfTnVtYmVyID0gc2FuaXRpemVIdG1sKHJlcXVlc3QuYm9keS5udW1iZXIpO1xuICAgICAgICAgICAgdmFyIEFkZHJlc3MgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5ib2R5LmFkZHJlc3MpO1xuICAgICAgICAgICAgdmFyIEVtYWlsX0FkZHJlc3MgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5ib2R5LmVtYWlsKTtcbiAgICAgICAgICAgIHZhciBSZWNvbW1hbmRfSUQgPSBzYW5pdGl6ZUh0bWwoMCk7XG4gICAgICAgICAgICB2YXIgUG9pbnQgPSBzYW5pdGl6ZUh0bWwoMCk7XG4gICAgICAgICAgICBpZiAoTG9naW5fSUQgJiZOYW1lICYmIFBhc3N3b3JkICYmIFBhc3N3b3JkMiAmJiBQaG9uZV9OdW1iZXIgJiYgQWRkcmVzcyAmJiBFbWFpbF9BZGRyZXNzICkgeyAvL+2VhOyImOygleuztFxuICAgICAgICAgICAgICAgIGRiLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIFN0dWRlbnQgV0hFUkUgTG9naW5fSUQgPSA/JywgW0xvZ2luX0lEXSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdHMsIGZpZWxkcykgeyAvLyBEQuyXkCDqsJnsnYAg7J2066aE7J2YIO2ajOybkOyVhOydtOuUlOqwgCDsnojripTsp4Ag7ZmV7J24XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPD0gMCAmJiBQYXNzd29yZCA9PSBQYXNzd29yZDIpIHsgICAgIC8vIERC7JeQIOqwmeydgCDsnbTrpoTsnZgg7ZqM7JuQ7JWE7J2065SU6rCAIOyXhuqzoCwg67mE67CA67KI7Zi46rCAIOyYrOuwlOultOqyjCDsnoXroKXrkJwg6rK97JqwXG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5xdWVyeSgnU0VMRUNUICogRlJPTSBTdHVkZW50IFdIRVJFIHJlY29tbWVuZElEID0gPycsIFtSZWNvbW1hbmRfSURdLCBmdW5jdGlvbihlcnJvciwgcmVzdWx0c19JRCwgZmllbGRzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9KSBcbiAgICAgICAgICAgICAgICAgICAgYmNyeXB0Lmhhc2goUGFzc3dvcmQsIHNhbHRSb3VuZHMsIGZ1bmN0aW9uKGVyciwgaGFzaCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihlcnIpIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLnF1ZXJ5KCdJTlNFUlQgSU5UTyBTdHVkZW50IChQbGF0Zm9ybV90eXBlICwgTmFtZSAsIFBob25lX051bWJlciAsIEVtYWlsX0FkZHJlc3MgLCBMb2dpbl9JRCAsIFBhc3N3b3JkICwgQWRkcmVzcyAsIERhdGUgLCBSZWNvbW1hbmRfSUQsIFBvaW50ICkgVkFMVUVTKD8sID8sID8sID8sID8sID8sID8sID8sID8sID8pJywgW1BsYXRmb3JtX3R5cGUsIE5hbWUsIFBob25lX051bWJlciwgRW1haWxfQWRkcmVzcywgTG9naW5fSUQsIGhhc2gsIGRhdGVfbm93LEFkZHJlc3MsIFJlY29tbWFuZF9JRCwgUG9pbnRdLCBmdW5jdGlvbiAoZXJyb3IsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi7ZqM7JuQ6rCA7J6F7J20IOyZhOujjOuQmOyXiOyKteuLiOuLpCFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9cIjs8L3NjcmlwdD5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFBhc3N3b3JkICE9IFBhc3N3b3JkMikgeyAgICAgICAgICAgICAgICAgICAgIC8vIOu5hOuwgOuyiO2YuOqwgCDsmKzrsJTrpbTqsowg7J6F66Cl65CY7KeAIOyViuydgCDqsr3smrBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi7J6F66Cl65CcIOu5hOuwgOuyiO2YuOqwgCDshJzroZwg64uk66aF64uI64ukLlwiKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPVwiL2F1dGgvcmVnaXN0ZXJcIjs8L3NjcmlwdD5gKTsgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEQuyXkCDqsJnsnYAg7J2066aE7J2YIO2ajOybkOyVhOydtOuUlOqwgCDsnojripQg6rK97JqwXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5zZW5kKGA8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj5hbGVydChcIuydtOuvuCDsobTsnqztlZjripQg7JWE7J2065SUIOyeheuLiOuLpC5cIik7IFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9hdXRoL3JlZ2lzdGVyXCI7PC9zY3JpcHQ+YCk7ICAgIFxuICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgLy8g7J6F66Cl65CY7KeAIOyViuydgCDsoJXrs7TqsIAg7J6I64qUIOqyveyasFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi7J6F66Cl65CY7KeAIOyViuydgCDsoJXrs7TqsIAg7J6I7Iq164uI64ukLlwiKTsgXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9hdXRoL3JlZ2lzdGVyXCI7PC9zY3JpcHQ+YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTtcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7OytDQUNBO0FBQUE7QUFBQTtBQURBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNoQyxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxFQUFFO0FBQzdCLElBQUlDLEVBQUUsR0FBR0gsT0FBTyxDQUFDLGFBQWEsQ0FBQztBQUMvQixJQUFJSSxFQUFFLEdBQUdKLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDekIsSUFBTUssS0FBSyxHQUFHTCxPQUFPLENBQUMsT0FBTyxDQUFDO0FBQzlCO0FBQ0E7QUFDQSxJQUFJTSxTQUFTLEdBQUcsc0JBQXNCO0FBQ3RDLElBQUlDLGFBQWEsR0FBRyxZQUFZO0FBQ2hDLElB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","map":{"version":3,"names":["express","require","router","Router","qs","db","axios","client_id","client_secret","state","redirectURI","encodeURI","api_url","request","date","start","Date","now","date_now","platform_type","sanitizeHtml","bcrypt","Tokens","tokens","saltRounds","kakaoData","redirect_url","logout_redirect_url","get","response","session","secret","secretSync","token","create","verify","Error","type","destroy","render","API_URL","req","res","console","log","code","query","naver_api_url","options","url","headers","result","JSON","parse","access_token","info_options","info_result","info_result_json","email","error","results1","length","is_logined","nickname","name","mobile","save","redirect","kakaoAuthroize","body","stringify","grant_type","header","post","data","account_email","user","properties","kakao_account","Email","Nickname","Mobile","Login_ID","password","pwd","sanitizeHtml_Login_ID","sanitizeHtml_password","results","fields","compare","Password","err","Email_Address","Student_Id","Student_ID","send","Name","Platform_type","Password2","pwd2","Phone_Number","number","Address","address","Recommand_ID","username","Point","results_ID","hash","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-master/lib_login/","sources":["auth.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar qs = require('querystring');\nvar db = require('../db');\nconst axios = require('axios');\n/*네이버 로그인 관련 변수*/\n//var api_url = 'https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=' + client_id + '&redirect_uri=' + redirectURI + '&state=' + state;\nvar client_id = 'sIwGUXdmGRyOPin4mTnj';\nvar client_secret = 'bWV7qU9Ngl';\nvar state = \"1004\";\nvar redirectURI = encodeURI(\"http://localhost:54213/auth/naver/login\");\nvar api_url = 'https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=' + client_id + '&redirect_uri=' + redirectURI + '&state=' + state;\nconst request = require('request-promise');\nconst date = require('date-and-time');\nlet start = Date.now();\nconst date_now = new Date(start);\n///\nvar platform_type = '';\nvar sanitizeHtml = require('sanitize-html');\nvar bcrypt = require('bcrypt');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nconst saltRounds = 10;\n/*카카오 로그인 관련 객체*/\nconst kakaoData = {\n    client_id : 'f28ca6f29082d1991b42941c3178fe60',\n    client_secret : 'fOdmb6jteLfVhsfoWVvqm4Us5CgRc6DS',\n    redirect_url : 'http://localhost:54213/auth/kakao/login',\n    logout_redirect_url : 'http://localhost:54213/auth/kakao/logout'\n}\n\n// 로그인 화면\nrouter.get('/login', function (request, response) {\n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        if(request.session.type == 'kakao') request.session.destroy();\n        else if(request.session.type == 'naver') request.session.destroy();\n        response.render('auth_login_main',{\n            API_URL : api_url\n        })\n    }\n});\n\nrouter.get('/naver/login', async (req, res) => {\n    console.log('naver in')\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        platform_type = 'naver';\n            // 토큰을 발급받으려면 query string으로 넘겨야 할 정보들이다.\n        const code = req.query.code;\n        const state = req.query.state;\n\n            // 로그인 API를 사용해 access token을 발급받는다.\n        const naver_api_url = 'https://nid.naver.com/oauth2.0/token?grant_type=authorization_code&client_id='+ client_id + '&client_secret=' + client_secret + '&redirect_uri=' + redirectURI + '&code=' + code + '&state=' + state;\n        const options = {\n            url: naver_api_url,\n            headers: {\n                'X-Naver-Client-Id': client_id, \n                'X-Naver-Client-Secret': client_secret\n            }\n        }\n        const result = await request.get(options);\n            // string 형태로 값이 담기니 JSON 형식으로 parse를 해줘야 한다.\n        const token = JSON.parse(result).access_token;\n\n        // 발급 받은 access token을 사용해 회원 정보 조회 API를 사용한다.\n        const info_options = {\n            url: 'https://openapi.naver.com/v1/nid/me',\n            headers: {'Authorization': 'Bearer ' + token}\n        };\n\n        const info_result = await request.get(info_options);\n            // string 형태로 값이 담기니 JSON 형식으로 parse를 해줘야 한다.\n        const info_result_json = JSON.parse(info_result).response;\n        \n        db.query(`SELECT * FROM Student WHERE Email_Address = ?`, [info_result_json.email],\n                function(error,results1){\n                    if(error) throw error;\n                    if (results1.length > 0) {       // db에서의 반환값이 있으면 로그인 성공\n                        req.session.type = platform_type;\n                        req.session.email = info_result_json.email;\n                        req.session.is_logined = true;      // 세션 정보 갱신\n                        req.session.nickname = info_result_json.name;\n                        req.session.mobile = info_result_json.mobile;\n                        req.session.save(function () {\n                            res.redirect(`/`);\n                        });\n                    }\n                    else{\n                        req.session.type = platform_type;\n                        req.session.email = info_result_json.email;\n                        req.session.is_logined = true;      // 세션 정보 갱신\n                        req.session.nickname = info_result_json.name;\n                        req.session.mobile = info_result_json.mobile;\n                        req.session.save(function () {\n                            res.redirect('/auth/register');\n                        });   \n                    }\n                })\n            }\n})\nrouter.get('/kakao/in',(req,res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        const kakaoAuthroize = `https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=${kakaoData.client_id}&redirect_uri=${kakaoData.redirect_url}`\n        res.redirect(kakaoAuthroize);\n    }\n})\n\nrouter.get('/kakao/logout', async (req,res)=>{\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        req.session.destroy();\n        const kakaoAuthroize = 'https://kauth.kakao.com/oauth/logout?client_id=f28ca6f29082d1991b42941c3178fe60&logout_redirect_uri=http://localhost:54213/'\n        res.redirect(kakaoAuthroize);\n    }\n  })\nrouter.get('/kakao/login', async(req, res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        try{\n            platform_type = \"kakao\";\n            console.log('platform',platform_type);\n            console.log('inin');\n            const url = 'https://kauth.kakao.com/oauth/token'\n            const body = qs.stringify({\n                grant_type : 'authorization_code',\n                client_id: kakaoData.client_id,\n                client_secret : kakaoData.client_secret,\n                redirect_url : kakaoData.redirect_url,\n                code : req.query.code\n            })\n            const header = {'content-Type' : 'application/x-www-form-urlencoded;charset=utf-8'}\n            const response = await axios.post(url,body,header);\n            const token = response.data.access_token;\n            console.log(\"res\", response.data.account_email);\n            const user = await axios.get('https://kapi.kakao.com/v2/user/me',{\n                headers : {\n                    'Content-Type' : 'application/x-www-form-urlencoded;charset=utf-8',\n                    'Authorization':`Bearer ${token}`\n                }\n            })\n            const { nickname } = user.data.properties;\n            const { email } = user.data.kakao_account;\n            db.query(`SELECT * FROM Student WHERE Email_Address = ?`, [email],\n            function(error,results1){\n                \n                console.log('result1',results1);\n                if(error) throw error;\n                if (results1.length > 0) {       // db에서의 반환값이 있으면 로그인 성공\n                    req.session.type = platform_type;\n                    req.session.email = email;\n                    req.session.is_logined = true;      // 세션 정보 갱신\n                    req.session.nickname = nickname;\n                    req.session.save(function () {\n                        res.redirect(`/`);\n                    });\n                }\n                else{\n                    console.log('토큰!', token);\n                    req.session.type = platform_type;\n                    req.session.email = email;\n                    req.session.is_logined = true;      // 세션 정보 갱신\n                    req.session.nickname = nickname;\n                    req.session.save(function () {\n                        res.redirect('/auth/register');\n                    });   \n                }\n            })\n        }catch{\n            console.log('실패!');\n            res.redirect('/');\n        }\n    }\n})\n// 회원가입 화면\nrouter.get('/register', function(request, response) {\n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        if(request.session.type=='naver'){\n            console.log('naver_register_in')\n            response.render('auth_register_naver',{\n                Email : request.session.email,\n                Nickname : request.session.nickname,\n                Mobile : request.session.mobile,\n            });\n        }\n        else if(request.session.type=='kakao'){\n            console.log('kakao_register_in')\n            response.render('auth_register_kakao',{\n                Email : request.session.email,\n                Nickname : request.session.nickname\n            });\n        }\n        else{\n            response.render('auth_register_main');\n        }\n    }\n});\n\nrouter.post('/login_process', function (request, response) {\n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        var Login_ID = request.body.Login_ID;\n        var password = request.body.pwd;\n        var sanitizeHtml_Login_ID = sanitizeHtml(Login_ID);\n        var sanitizeHtml_password = sanitizeHtml(password);\n        if(sanitizeHtml_Login_ID != '' && sanitizeHtml_password != '' ){\n            if (Login_ID && password) {             // id와 pw가 입력되었는지 확인\n                db.query('SELECT * FROM Student WHERE Login_ID = ?', [Login_ID], function(error, results, fields) {\n                    if (error) throw error;\n                    if (results.length > 0) {       // db에서의 반환값이 있으면 로그인 성공\n                        bcrypt.compare(password,results[0].Password, function(err, result){\n                            if(result){\n                                console.log(results[0].Email_Address);\n                                request.session.is_logined = true;      // 세션 정보 갱신\n                                request.session.nickname = Login_ID;\n                                request.session.email = results[0].Email_Address\n                                request.session.Student_Id = results[0].Student_ID;\n                                request.session.save(function () {\n                                response.redirect(`/`);\n                            }); \n                            }else{\n                                response.send(`<script type=\"text/javascript\">alert(\"로그인 정보가 일치하지 않습니다.\"); \n                                document.location.href=\"/auth/login\";</script>`);    \n                            }\n                        })\n                    } else {              \n                        response.send(`<script type=\"text/javascript\">alert(\"로그인 정보가 일치하지 않습니다.\"); \n                        document.location.href=\"/auth/login\";</script>`);    \n                    }           \n                }\n                )} else {\n                response.send(`<script type=\"text/javascript\">alert(\"아이디와 비밀번호를 입력하세요!\"); \n                document.location.href=\"/auth/login\";</script>`);    \n            }\n        }else{\n            response.send(`<script type=\"text/javascript\">alert(\"로그인 정보가 일치하지 않습니다.\"); \n            document.location.href=\"/auth/login\";</script>`); \n        }\n    }\n});\n\n// 로그아웃\nrouter.get('/logout', function (request, response) {\n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        request.session.destroy(function (err) {\n            response.redirect('/');\n        });\n    }\n});\n\n\n\n\nrouter.get('/naverLogin', function (request, response) {\n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        response.render('auth_login_naver')\n    }\n});\n\n \n// 회원가입 프로세스\nrouter.post('/register_process', function(request, response) {  \n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        if(request.session.type=='naver'){\n            var Login_ID = sanitizeHtml(request.session.email);\n            var Name = sanitizeHtml(request.session.nickname);\n            var Password = sanitizeHtml(request.body.pwd);    \n            var Platform_type  = sanitizeHtml('naver');\n            var Password2 = sanitizeHtml(request.body.pwd2);\n            var Phone_Number = sanitizeHtml(request.body.number);\n            var Address = sanitizeHtml(request.body.address);\n            var Email_Address = sanitizeHtml(request.session.email);\n            var Recommand_ID = sanitizeHtml('');\n            if(Address){\n                db.query(`insert into Student(Platform_type ,Name, Phone_Number, \n                    Email_Address, Login_ID, Address, Date, Recommand_ID, Point) values\n                    (?,?,?,?,?,?,?,\n                    ?, ?)`,[Platform_type, request.session.nickname,\n                        request.session.mobile,request.session.email,\n                        request.session.email,Address,date_now,Recommand_ID,0],function(error, result){\n                    if(error) throw error;\n                    response.send(`<script type=\"text/javascript\">alert(\"회원가입이 완료되었습니다!\");\n                    document.location.href=\"/\";</script>`);\n                })\n            }\n            else{\n                response.send(`<script type=\"text/javascript\">alert(\"입력되지 않은 정보가 있습니다.\"); \n                document.location.href=\"/auth/register\";</script>`);\n            }\n        }\n        else if(request.session.type=='kakao'){\n            console.log('kakao_register_in');\n            console.log(request)\n            var Login_ID = sanitizeHtml(request.session.email);\n            var Name = sanitizeHtml(request.session.nickname);\n            var Password = sanitizeHtml(request.body.pwd);    \n            var Platform_type  = sanitizeHtml('');\n            var Password2 = sanitizeHtml(request.body.pwd2);\n            var Phone_Number = sanitizeHtml(request.body.number);\n            var Address = sanitizeHtml(request.body.address);\n            var Email_Address = sanitizeHtml(request.session.email);\n            var Recommand_ID = sanitizeHtml('');\n            if(Phone_Number && Address){\n                db.query(`insert into Student(Platform_type ,Name, Phone_Number, \n                    Email_Address, Login_ID, Address, Date, Recommand_ID, Point) values\n                    (?,?,?,?,?,?,?,\n                    ?, ?)`,[request.session.type,request.session.nickname,\n                        Phone_Number,request.session.email,\n                        request.session.email,Address,date_now,Recommand_ID,0],function(error, result){\n                    if(error) throw error;\n                    response.send(`<script type=\"text/javascript\">alert(\"회원가입이 완료되었습니다!\");\n                    document.location.href=\"/\";</script>`);\n                })\n            }\n            else{\n                response.send(`<script type=\"text/javascript\">alert(\"입력되지 않은 정보가 있습니다.\"); \n                document.location.href=\"/auth/register\";</script>`);\n            }\n        }\n        else{\n            var Login_ID = sanitizeHtml(request.body.Login_ID);\n            var Name = sanitizeHtml(request.body.username);\n            var Password = sanitizeHtml(request.body.pwd);    \n            var Platform_type  = sanitizeHtml('');\n            var Password2 = sanitizeHtml(request.body.pwd2);\n            var Phone_Number = sanitizeHtml(request.body.number);\n            var Address = sanitizeHtml(request.body.address);\n            var Email_Address = sanitizeHtml(request.body.email);\n            var Recommand_ID = sanitizeHtml(0);\n            var Point = sanitizeHtml(0);\n            if (Login_ID &&Name && Password && Password2 && Phone_Number && Address && Email_Address ) { //필수정보\n                db.query('SELECT * FROM Student WHERE Login_ID = ?', [Login_ID], function(error, results, fields) { // DB에 같은 이름의 회원아이디가 있는지 확인\n                    console.log(results);\n                    if (error) throw error;\n                    if (results.length <= 0 && Password == Password2) {     // DB에 같은 이름의 회원아이디가 없고, 비밀번호가 올바르게 입력된 경우\n                        db.query('SELECT * FROM Student WHERE recommendID = ?', [Recommand_ID], function(error, results_ID, fields){\n                        \n                    }) \n                    bcrypt.hash(Password, saltRounds, function(err, hash){\n                        if(err) throw err;\n                        db.query('INSERT INTO Student (Platform_type , Name , Phone_Number , Email_Address , Login_ID , Password , Address , Date , Recommand_ID, Point ) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', [Platform_type, Name, Phone_Number, Email_Address, Login_ID, hash, date_now,Address, Recommand_ID, Point], function (error, data) {\n                            if (error) throw error;\n                            response.send(`<script type=\"text/javascript\">alert(\"회원가입이 완료되었습니다!\");\n                            document.location.href=\"/\";</script>`);\n                        });\n                    })\n                    } else if (Password != Password2) {                     // 비밀번호가 올바르게 입력되지 않은 경우\n                        response.send(`<script type=\"text/javascript\">alert(\"입력된 비밀번호가 서로 다릅니다.\"); \n                        document.location.href=\"/auth/register\";</script>`);    \n                    }\n                    else {                                                  // DB에 같은 이름의 회원아이디가 있는 경우\n                        response.send(`<script type=\"text/javascript\">alert(\"이미 존재하는 아이디 입니다.\"); \n                        document.location.href=\"/auth/register\";</script>`);    \n                    }            \n                });\n            } else {        // 입력되지 않은 정보가 있는 경우\n                response.send(`<script type=\"text/javascript\">alert(\"입력되지 않은 정보가 있습니다.\"); \n                document.location.href=\"/auth/register\";</script>`);\n            }\n        }\n    }\n});\nmodule.exports = router;"],"mappings":";;;+CACA;AAAA;AAAA;AADA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAChC,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC7B,IAAIC,EAAE,GAAGH,OAAO,CAAC,aAAa,CAAC;AAC/B,IAAII,EAAE,GAAGJ,OAAO,CAAC,OAAO,CAAC;AACzB,IAAMK,KAAK,GAAGL,OAAO,CAAC,OAAO,CAAC;AAC9B;AACA;AACA,IAAIM,SAAS,GAAG,sBAAsB;AACtC,IAAIC,aAAa,GAAG,YAAY;AAChC,IAAIC,KAAK,GAAG,MAAM;AAClB,IAAIC,WAAW,GAAGC,SAAS,CAAC,yCAAyC,CAAC;AACtE,IAAIC,OAAO,GAAG,wEAAwE,GAAGL,SAAS,GAAG,gBAAgB,GAAGG,WAAW,GAAG,SAAS,GAAGD,KAAK;AACvJ,IAAMI,OAAO,GAAGZ,OAAO,CAAC,iBAAiB,CAAC;AAC1C,IAAMa,IAAI,GAAGb,OAAO,CAAC,eAAe,CAAC;AACrC,IAAIc,KAAK,GAAGC,IAAI,CAACC,GAAG,EAAE;AACtB,IAAMC,QAAQ,GAAG,IAAIF,IAAI,CAACD,KAAK,CAAC;AAChC;AACA,IAAII,aAAa,GAAG,EAAE;AACtB,IAAIC,YAAY,GAAGnB,OAAO,CAAC,eAAe,CAAC;AAC3C,IAAIoB,MAAM,GAAGpB,OAAO,CAAC,QAAQ,CAAC;AAC9B,IAAIqB,MAAM,GAAGrB,OAAO,CAAC,MAAM,CAAC;AAC5B,IAAIsB,MAAM,GAAG,IAAID,MAAM,EAAE;AACzB,IAAME,UAAU,GAAG,EAAE;AACrB;AACA,IAAMC,SAAS,GAAG;EACdlB,SAAS,EAAG,kCAAkC;EAC9CC,aAAa,EAAG,kCAAkC;EAClDkB,YAAY,EAAG,yCAAyC;EACxDC,mBAAmB,EAAG;AAC1B,CAAC;;AAED;AACAzB,MAAM,CAAC0B,GAAG,CAAC,QAAQ,EAAE,UAAUf,OAAO,EAAEgB,QAAQ,EAAE;EAC9ChB,OAAO,CAACiB,OAAO,CAACC,MAAM,GAAGR,MAAM,CAACS,UAAU,EAAE;EAC5C,IAAIC,KAAK,GAAGV,MAAM,CAACW,MAAM,CAACrB,OAAO,CAACiB,OAAO,CAACC,MAAM,CAAC;EACjD,IAAI,CAACR,MAAM,CAACY,MAAM,CAACtB,OAAO,CAACiB,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IACjD,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACD,IAAGvB,OAAO,CAACiB,OAAO,CAACO,IAAI,IAAI,OAAO,EAAExB,OAAO,CAACiB,OAAO,CAACQ,OAAO,EAAE,CAAC,KACzD,IAAGzB,OAAO,CAACiB,OAAO,CAACO,IAAI,IAAI,OAAO,EAAExB,OAAO,CAACiB,OAAO,CAACQ,OAAO,EAAE;IAClET,QAAQ,CAACU,MAAM,CAAC,iBAAiB,EAAC;MAC9BC,OAAO,EAAG5B;IACd,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEFV,MAAM,CAAC0B,GAAG,CAAC,cAAc;EAAA,sEAAE,iBAAOa,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UACtCC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;UACvBH,GAAG,CAACX,OAAO,CAACC,MAAM,GAAGR,MAAM,CAACS,UAAU,EAAE;UACpCC,KAAK,GAAGV,MAAM,CAACW,MAAM,CAACO,GAAG,CAACX,OAAO,CAACC,MAAM,CAAC;UAAA,IACxCR,MAAM,CAACY,MAAM,CAACM,GAAG,CAACX,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC;YAAA;YAAA;UAAA;UAAA,MACrC,IAAIG,KAAK,CAAC,gBAAgB,CAAC;QAAA;UAE/BjB,aAAa,GAAG,OAAO;UACnB;UACE0B,IAAI,GAAGJ,GAAG,CAACK,KAAK,CAACD,IAAI;UACrBpC,MAAK,GAAGgC,GAAG,CAACK,KAAK,CAACrC,KAAK,EAEzB;UACEsC,aAAa,GAAG,+EAA+E,GAAExC,SAAS,GAAG,iBAAiB,GAAGC,aAAa,GAAG,gBAAgB,GAAGE,WAAW,GAAG,QAAQ,GAAGmC,IAAI,GAAG,SAAS,GAAGpC,MAAK;UACrNuC,OAAO,GAAG;YACZC,GAAG,EAAEF,aAAa;YAClBG,OAAO,EAAE;cACL,mBAAmB,EAAE3C,SAAS;cAC9B,uBAAuB,EAAEC;YAC7B;UACJ,CAAC;UAAA;UAAA,OACoBK,OAAO,CAACe,GAAG,CAACoB,OAAO,CAAC;QAAA;UAAnCG,MAAM;UACR;UACElB,MAAK,GAAGmB,IAAI,CAACC,KAAK,CAACF,MAAM,CAAC,CAACG,YAAY,EAE7C;UACMC,YAAY,GAAG;YACjBN,GAAG,EAAE,qCAAqC;YAC1CC,OAAO,EAAE;cAAC,eAAe,EAAE,SAAS,GAAGjB;YAAK;UAChD,CAAC;UAAA;UAAA,OAEyBpB,OAAO,CAACe,GAAG,CAAC2B,YAAY,CAAC;QAAA;UAA7CC,WAAW;UACb;UACEC,gBAAgB,GAAGL,IAAI,CAACC,KAAK,CAACG,WAAW,CAAC,CAAC3B,QAAQ;UAEzDxB,EAAE,CAACyC,KAAK,kDAAkD,CAACW,gBAAgB,CAACC,KAAK,CAAC,EAC1E,UAASC,KAAK,EAACC,QAAQ,EAAC;YACpB,IAAGD,KAAK,EAAE,MAAMA,KAAK;YACrB,IAAIC,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAE;cAAQ;cAC7BpB,GAAG,CAACX,OAAO,CAACO,IAAI,GAAGlB,aAAa;cAChCsB,GAAG,CAACX,OAAO,CAAC4B,KAAK,GAAGD,gBAAgB,CAACC,KAAK;cAC1CjB,GAAG,CAACX,OAAO,CAACgC,UAAU,GAAG,IAAI,CAAC,CAAM;cACpCrB,GAAG,CAACX,OAAO,CAACiC,QAAQ,GAAGN,gBAAgB,CAACO,IAAI;cAC5CvB,GAAG,CAACX,OAAO,CAACmC,MAAM,GAAGR,gBAAgB,CAACQ,MAAM;cAC5CxB,GAAG,CAACX,OAAO,CAACoC,IAAI,CAAC,YAAY;gBACzBxB,GAAG,CAACyB,QAAQ,KAAK;cACrB,CAAC,CAAC;YACN,CAAC,MACG;cACA1B,GAAG,CAACX,OAAO,CAACO,IAAI,GAAGlB,aAAa;cAChCsB,GAAG,CAACX,OAAO,CAAC4B,KAAK,GAAGD,gBAAgB,CAACC,KAAK;cAC1CjB,GAAG,CAACX,OAAO,CAACgC,UAAU,GAAG,IAAI,CAAC,CAAM;cACpCrB,GAAG,CAACX,OAAO,CAACiC,QAAQ,GAAGN,gBAAgB,CAACO,IAAI;cAC5CvB,GAAG,CAACX,OAAO,CAACmC,MAAM,GAAGR,gBAAgB,CAACQ,MAAM;cAC5CxB,GAAG,CAACX,OAAO,CAACoC,IAAI,CAAC,YAAY;gBACzBxB,GAAG,CAACyB,QAAQ,CAAC,gBAAgB,CAAC;cAClC,CAAC,CAAC;YACN;UACJ,CAAC,CAAC;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA,CAEjB;EAAA;IAAA;EAAA;AAAA,IAAC;AACFjE,MAAM,CAAC0B,GAAG,CAAC,WAAW,EAAC,UAACa,GAAG,EAACC,GAAG,EAAK;EAChCD,GAAG,CAACX,OAAO,CAACC,MAAM,GAAGR,MAAM,CAACS,UAAU,EAAE;EACxC,IAAIC,KAAK,GAAGV,MAAM,CAACW,MAAM,CAACO,GAAG,CAACX,OAAO,CAACC,MAAM,CAAC;EAC7C,IAAI,CAACR,MAAM,CAACY,MAAM,CAACM,GAAG,CAACX,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IAC7C,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACD,IAAMgC,cAAc,kFAA2E3C,SAAS,CAAClB,SAAS,2BAAiBkB,SAAS,CAACC,YAAY,CAAE;IAC3JgB,GAAG,CAACyB,QAAQ,CAACC,cAAc,CAAC;EAChC;AACJ,CAAC,CAAC;AAEFlE,MAAM,CAAC0B,GAAG,CAAC,eAAe;EAAA,uEAAE,kBAAOa,GAAG,EAACC,GAAG;IAAA;IAAA;MAAA;QAAA;UACtCD,GAAG,CAACX,OAAO,CAACC,MAAM,GAAGR,MAAM,CAACS,UAAU,EAAE;UACpCC,KAAK,GAAGV,MAAM,CAACW,MAAM,CAACO,GAAG,CAACX,OAAO,CAACC,MAAM,CAAC;UAAA,IACxCR,MAAM,CAACY,MAAM,CAACM,GAAG,CAACX,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC;YAAA;YAAA;UAAA;UAAA,MACrC,IAAIG,KAAK,CAAC,gBAAgB,CAAC;QAAA;UAE/BK,GAAG,CAACX,OAAO,CAACQ,OAAO,EAAE;UACf8B,cAAc,GAAG,6HAA6H;UACpJ1B,GAAG,CAACyB,QAAQ,CAACC,cAAc,CAAC;QAAC;QAAA;UAAA;MAAA;IAAA;EAAA,CAElC;EAAA;IAAA;EAAA;AAAA,IAAC;AACJlE,MAAM,CAAC0B,GAAG,CAAC,cAAc;EAAA,uEAAE,kBAAMa,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UACrCD,GAAG,CAACX,OAAO,CAACC,MAAM,GAAGR,MAAM,CAACS,UAAU,EAAE;UACpCC,KAAK,GAAGV,MAAM,CAACW,MAAM,CAACO,GAAG,CAACX,OAAO,CAACC,MAAM,CAAC;UAAA,IACxCR,MAAM,CAACY,MAAM,CAACM,GAAG,CAACX,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC;YAAA;YAAA;UAAA;UAAA,MACrC,IAAIG,KAAK,CAAC,gBAAgB,CAAC;QAAA;UAAA;UAG3BjB,aAAa,GAAG,OAAO;UACvBwB,OAAO,CAACC,GAAG,CAAC,UAAU,EAACzB,aAAa,CAAC;UACrCwB,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;UACbK,GAAG,GAAG,qCAAqC;UAC3CoB,IAAI,GAAGjE,EAAE,CAACkE,SAAS,CAAC;YACtBC,UAAU,EAAG,oBAAoB;YACjChE,SAAS,EAAEkB,SAAS,CAAClB,SAAS;YAC9BC,aAAa,EAAGiB,SAAS,CAACjB,aAAa;YACvCkB,YAAY,EAAGD,SAAS,CAACC,YAAY;YACrCmB,IAAI,EAAGJ,GAAG,CAACK,KAAK,CAACD;UACrB,CAAC,CAAC;UACI2B,MAAM,GAAG;YAAC,cAAc,EAAG;UAAiD,CAAC;UAAA;UAAA,OAC5DlE,KAAK,CAACmE,IAAI,CAACxB,GAAG,EAACoB,IAAI,EAACG,MAAM,CAAC;QAAA;UAA5C3C,QAAQ;UACRI,OAAK,GAAGJ,QAAQ,CAAC6C,IAAI,CAACpB,YAAY;UACxCX,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEf,QAAQ,CAAC6C,IAAI,CAACC,aAAa,CAAC;UAAC;UAAA,OAC7BrE,KAAK,CAACsB,GAAG,CAAC,mCAAmC,EAAC;YAC7DsB,OAAO,EAAG;cACN,cAAc,EAAG,iDAAiD;cAClE,eAAe,mBAAWjB,OAAK;YACnC;UACJ,CAAC,CAAC;QAAA;UALI2C,IAAI;UAMFb,QAAQ,GAAKa,IAAI,CAACF,IAAI,CAACG,UAAU,CAAjCd,QAAQ;UACRL,KAAK,GAAKkB,IAAI,CAACF,IAAI,CAACI,aAAa,CAAjCpB,KAAK;UACbrD,EAAE,CAACyC,KAAK,kDAAkD,CAACY,KAAK,CAAC,EACjE,UAASC,KAAK,EAACC,QAAQ,EAAC;YAEpBjB,OAAO,CAACC,GAAG,CAAC,SAAS,EAACgB,QAAQ,CAAC;YAC/B,IAAGD,KAAK,EAAE,MAAMA,KAAK;YACrB,IAAIC,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAE;cAAQ;cAC7BpB,GAAG,CAACX,OAAO,CAACO,IAAI,GAAGlB,aAAa;cAChCsB,GAAG,CAACX,OAAO,CAAC4B,KAAK,GAAGA,KAAK;cACzBjB,GAAG,CAACX,OAAO,CAACgC,UAAU,GAAG,IAAI,CAAC,CAAM;cACpCrB,GAAG,CAACX,OAAO,CAACiC,QAAQ,GAAGA,QAAQ;cAC/BtB,GAAG,CAACX,OAAO,CAACoC,IAAI,CAAC,YAAY;gBACzBxB,GAAG,CAACyB,QAAQ,KAAK;cACrB,CAAC,CAAC;YACN,CAAC,MACG;cACAxB,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEX,OAAK,CAAC;cACzBQ,GAAG,CAACX,OAAO,CAACO,IAAI,GAAGlB,aAAa;cAChCsB,GAAG,CAACX,OAAO,CAAC4B,KAAK,GAAGA,KAAK;cACzBjB,GAAG,CAACX,OAAO,CAACgC,UAAU,GAAG,IAAI,CAAC,CAAM;cACpCrB,GAAG,CAACX,OAAO,CAACiC,QAAQ,GAAGA,QAAQ;cAC/BtB,GAAG,CAACX,OAAO,CAACoC,IAAI,CAAC,YAAY;gBACzBxB,GAAG,CAACyB,QAAQ,CAAC,gBAAgB,CAAC;cAClC,CAAC,CAAC;YACN;UACJ,CAAC,CAAC;UAAA;UAAA;QAAA;UAAA;UAAA;UAEFxB,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;UAClBF,GAAG,CAACyB,QAAQ,CAAC,GAAG,CAAC;QAAC;QAAA;UAAA;MAAA;IAAA;EAAA,CAG7B;EAAA;IAAA;EAAA;AAAA,IAAC;AACF;AACAjE,MAAM,CAAC0B,GAAG,CAAC,WAAW,EAAE,UAASf,OAAO,EAAEgB,QAAQ,EAAE;EAChDhB,OAAO,CAACiB,OAAO,CAACC,MAAM,GAAGR,MAAM,CAACS,UAAU,EAAE;EAC5C,IAAIC,KAAK,GAAGV,MAAM,CAACW,MAAM,CAACrB,OAAO,CAACiB,OAAO,CAACC,MAAM,CAAC;EACjD,IAAI,CAACR,MAAM,CAACY,MAAM,CAACtB,OAAO,CAACiB,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IACjD,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACD,IAAGvB,OAAO,CAACiB,OAAO,CAACO,IAAI,IAAE,OAAO,EAAC;MAC7BM,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;MAChCf,QAAQ,CAACU,MAAM,CAAC,qBAAqB,EAAC;QAClCwC,KAAK,EAAGlE,OAAO,CAACiB,OAAO,CAAC4B,KAAK;QAC7BsB,QAAQ,EAAGnE,OAAO,CAACiB,OAAO,CAACiC,QAAQ;QACnCkB,MAAM,EAAGpE,OAAO,CAACiB,OAAO,CAACmC;MAC7B,CAAC,CAAC;IACN,CAAC,MACI,IAAGpD,OAAO,CAACiB,OAAO,CAACO,IAAI,IAAE,OAAO,EAAC;MAClCM,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;MAChCf,QAAQ,CAACU,MAAM,CAAC,qBAAqB,EAAC;QAClCwC,KAAK,EAAGlE,OAAO,CAACiB,OAAO,CAAC4B,KAAK;QAC7BsB,QAAQ,EAAGnE,OAAO,CAACiB,OAAO,CAACiC;MAC/B,CAAC,CAAC;IACN,CAAC,MACG;MACAlC,QAAQ,CAACU,MAAM,CAAC,oBAAoB,CAAC;IACzC;EACJ;AACJ,CAAC,CAAC;AAEFrC,MAAM,CAACuE,IAAI,CAAC,gBAAgB,EAAE,UAAU5D,OAAO,EAAEgB,QAAQ,EAAE;EACvDhB,OAAO,CAACiB,OAAO,CAACC,MAAM,GAAGR,MAAM,CAACS,UAAU,EAAE;EAC5C,IAAIC,KAAK,GAAGV,MAAM,CAACW,MAAM,CAACrB,OAAO,CAACiB,OAAO,CAACC,MAAM,CAAC;EACjD,IAAI,CAACR,MAAM,CAACY,MAAM,CAACtB,OAAO,CAACiB,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IACjD,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACD,IAAI8C,QAAQ,GAAGrE,OAAO,CAACwD,IAAI,CAACa,QAAQ;IACpC,IAAIC,QAAQ,GAAGtE,OAAO,CAACwD,IAAI,CAACe,GAAG;IAC/B,IAAIC,qBAAqB,GAAGjE,YAAY,CAAC8D,QAAQ,CAAC;IAClD,IAAII,qBAAqB,GAAGlE,YAAY,CAAC+D,QAAQ,CAAC;IAClD,IAAGE,qBAAqB,IAAI,EAAE,IAAIC,qBAAqB,IAAI,EAAE,EAAE;MAC3D,IAAIJ,QAAQ,IAAIC,QAAQ,EAAE;QAAc;QACpC9E,EAAE,CAACyC,KAAK,CAAC,0CAA0C,EAAE,CAACoC,QAAQ,CAAC,EAAE,UAASvB,KAAK,EAAE4B,OAAO,EAAEC,MAAM,EAAE;UAC9F,IAAI7B,KAAK,EAAE,MAAMA,KAAK;UACtB,IAAI4B,OAAO,CAAC1B,MAAM,GAAG,CAAC,EAAE;YAAQ;YAC5BxC,MAAM,CAACoE,OAAO,CAACN,QAAQ,EAACI,OAAO,CAAC,CAAC,CAAC,CAACG,QAAQ,EAAE,UAASC,GAAG,EAAExC,MAAM,EAAC;cAC9D,IAAGA,MAAM,EAAC;gBACNR,OAAO,CAACC,GAAG,CAAC2C,OAAO,CAAC,CAAC,CAAC,CAACK,aAAa,CAAC;gBACrC/E,OAAO,CAACiB,OAAO,CAACgC,UAAU,GAAG,IAAI,CAAC,CAAM;gBACxCjD,OAAO,CAACiB,OAAO,CAACiC,QAAQ,GAAGmB,QAAQ;gBACnCrE,OAAO,CAACiB,OAAO,CAAC4B,KAAK,GAAG6B,OAAO,CAAC,CAAC,CAAC,CAACK,aAAa;gBAChD/E,OAAO,CAACiB,OAAO,CAAC+D,UAAU,GAAGN,OAAO,CAAC,CAAC,CAAC,CAACO,UAAU;gBAClDjF,OAAO,CAACiB,OAAO,CAACoC,IAAI,CAAC,YAAY;kBACjCrC,QAAQ,CAACsC,QAAQ,KAAK;gBAC1B,CAAC,CAAC;cACF,CAAC,MAAI;gBACDtC,QAAQ,CAACkE,IAAI,4NACmC;cACpD;YACJ,CAAC,CAAC;UACN,CAAC,MAAM;YACHlE,QAAQ,CAACkE,IAAI,oNACmC;UACpD;QACJ,CAAC,CACA;MAAA,CAAC,MAAM;QACRlE,QAAQ,CAACkE,IAAI,2MACmC;MACpD;IACJ,CAAC,MAAI;MACDlE,QAAQ,CAACkE,IAAI,wMACmC;IACpD;EACJ;AACJ,CAAC,CAAC;;AAEF;AACA7F,MAAM,CAAC0B,GAAG,CAAC,SAAS,EAAE,UAAUf,OAAO,EAAEgB,QAAQ,EAAE;EAC/ChB,OAAO,CAACiB,OAAO,CAACC,MAAM,GAAGR,MAAM,CAACS,UAAU,EAAE;EAC5C,IAAIC,KAAK,GAAGV,MAAM,CAACW,MAAM,CAACrB,OAAO,CAACiB,OAAO,CAACC,MAAM,CAAC;EACjD,IAAI,CAACR,MAAM,CAACY,MAAM,CAACtB,OAAO,CAACiB,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IACjD,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACDvB,OAAO,CAACiB,OAAO,CAACQ,OAAO,CAAC,UAAUqD,GAAG,EAAE;MACnC9D,QAAQ,CAACsC,QAAQ,CAAC,GAAG,CAAC;IAC1B,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAKFjE,MAAM,CAAC0B,GAAG,CAAC,aAAa,EAAE,UAAUf,OAAO,EAAEgB,QAAQ,EAAE;EACnDhB,OAAO,CAACiB,OAAO,CAACC,MAAM,GAAGR,MAAM,CAACS,UAAU,EAAE;EAC5C,IAAIC,KAAK,GAAGV,MAAM,CAACW,MAAM,CAACrB,OAAO,CAACiB,OAAO,CAACC,MAAM,CAAC;EACjD,IAAI,CAACR,MAAM,CAACY,MAAM,CAACtB,OAAO,CAACiB,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IACjD,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACDP,QAAQ,CAACU,MAAM,CAAC,kBAAkB,CAAC;EACvC;AACJ,CAAC,CAAC;;AAGF;AACArC,MAAM,CAACuE,IAAI,CAAC,mBAAmB,EAAE,UAAS5D,OAAO,EAAEgB,QAAQ,EAAE;EACzDhB,OAAO,CAACiB,OAAO,CAACC,MAAM,GAAGR,MAAM,CAACS,UAAU,EAAE;EAC5C,IAAIC,KAAK,GAAGV,MAAM,CAACW,MAAM,CAACrB,OAAO,CAACiB,OAAO,CAACC,MAAM,CAAC;EACjD,IAAI,CAACR,MAAM,CAACY,MAAM,CAACtB,OAAO,CAACiB,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IACjD,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACD,IAAGvB,OAAO,CAACiB,OAAO,CAACO,IAAI,IAAE,OAAO,EAAC;MAC7B,IAAI6C,QAAQ,GAAG9D,YAAY,CAACP,OAAO,CAACiB,OAAO,CAAC4B,KAAK,CAAC;MAClD,IAAIsC,IAAI,GAAG5E,YAAY,CAACP,OAAO,CAACiB,OAAO,CAACiC,QAAQ,CAAC;MACjD,IAAI2B,QAAQ,GAAGtE,YAAY,CAACP,OAAO,CAACwD,IAAI,CAACe,GAAG,CAAC;MAC7C,IAAIa,aAAa,GAAI7E,YAAY,CAAC,OAAO,CAAC;MAC1C,IAAI8E,SAAS,GAAG9E,YAAY,CAACP,OAAO,CAACwD,IAAI,CAAC8B,IAAI,CAAC;MAC/C,IAAIC,YAAY,GAAGhF,YAAY,CAACP,OAAO,CAACwD,IAAI,CAACgC,MAAM,CAAC;MACpD,IAAIC,OAAO,GAAGlF,YAAY,CAACP,OAAO,CAACwD,IAAI,CAACkC,OAAO,CAAC;MAChD,IAAIX,aAAa,GAAGxE,YAAY,CAACP,OAAO,CAACiB,OAAO,CAAC4B,KAAK,CAAC;MACvD,IAAI8C,YAAY,GAAGpF,YAAY,CAAC,EAAE,CAAC;MACnC,IAAGkF,OAAO,EAAC;QACPjG,EAAE,CAACyC,KAAK,qNAGG,CAACmD,aAAa,EAAEpF,OAAO,CAACiB,OAAO,CAACiC,QAAQ,EAC3ClD,OAAO,CAACiB,OAAO,CAACmC,MAAM,EAACpD,OAAO,CAACiB,OAAO,CAAC4B,KAAK,EAC5C7C,OAAO,CAACiB,OAAO,CAAC4B,KAAK,EAAC4C,OAAO,EAACpF,QAAQ,EAACsF,YAAY,EAAC,CAAC,CAAC,EAAC,UAAS7C,KAAK,EAAER,MAAM,EAAC;UAClF,IAAGQ,KAAK,EAAE,MAAMA,KAAK;UACrB9B,QAAQ,CAACkE,IAAI,uLACyB;QAC1C,CAAC,CAAC;MACN,CAAC,MACG;QACAlE,QAAQ,CAACkE,IAAI,yMACsC;MACvD;IACJ,CAAC,MACI,IAAGlF,OAAO,CAACiB,OAAO,CAACO,IAAI,IAAE,OAAO,EAAC;MAClCM,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;MAChCD,OAAO,CAACC,GAAG,CAAC/B,OAAO,CAAC;MACpB,IAAIqE,QAAQ,GAAG9D,YAAY,CAACP,OAAO,CAACiB,OAAO,CAAC4B,KAAK,CAAC;MAClD,IAAIsC,IAAI,GAAG5E,YAAY,CAACP,OAAO,CAACiB,OAAO,CAACiC,QAAQ,CAAC;MACjD,IAAI2B,QAAQ,GAAGtE,YAAY,CAACP,OAAO,CAACwD,IAAI,CAACe,GAAG,CAAC;MAC7C,IAAIa,aAAa,GAAI7E,YAAY,CAAC,EAAE,CAAC;MACrC,IAAI8E,SAAS,GAAG9E,YAAY,CAACP,OAAO,CAACwD,IAAI,CAAC8B,IAAI,CAAC;MAC/C,IAAIC,YAAY,GAAGhF,YAAY,CAACP,OAAO,CAACwD,IAAI,CAACgC,MAAM,CAAC;MACpD,IAAIC,OAAO,GAAGlF,YAAY,CAACP,OAAO,CAACwD,IAAI,CAACkC,OAAO,CAAC;MAChD,IAAIX,aAAa,GAAGxE,YAAY,CAACP,OAAO,CAACiB,OAAO,CAAC4B,KAAK,CAAC;MACvD,IAAI8C,YAAY,GAAGpF,YAAY,CAAC,EAAE,CAAC;MACnC,IAAGgF,YAAY,IAAIE,OAAO,EAAC;QACvBjG,EAAE,CAACyC,KAAK,qNAGG,CAACjC,OAAO,CAACiB,OAAO,CAACO,IAAI,EAACxB,OAAO,CAACiB,OAAO,CAACiC,QAAQ,EACjDqC,YAAY,EAACvF,OAAO,CAACiB,OAAO,CAAC4B,KAAK,EAClC7C,OAAO,CAACiB,OAAO,CAAC4B,KAAK,EAAC4C,OAAO,EAACpF,QAAQ,EAACsF,YAAY,EAAC,CAAC,CAAC,EAAC,UAAS7C,KAAK,EAAER,MAAM,EAAC;UAClF,IAAGQ,KAAK,EAAE,MAAMA,KAAK;UACrB9B,QAAQ,CAACkE,IAAI,uLACyB;QAC1C,CAAC,CAAC;MACN,CAAC,MACG;QACAlE,QAAQ,CAACkE,IAAI,yMACsC;MACvD;IACJ,CAAC,MACG;MACA,IAAIb,QAAQ,GAAG9D,YAAY,CAACP,OAAO,CAACwD,IAAI,CAACa,QAAQ,CAAC;MAClD,IAAIc,IAAI,GAAG5E,YAAY,CAACP,OAAO,CAACwD,IAAI,CAACoC,QAAQ,CAAC;MAC9C,IAAIf,QAAQ,GAAGtE,YAAY,CAACP,OAAO,CAACwD,IAAI,CAACe,GAAG,CAAC;MAC7C,IAAIa,aAAa,GAAI7E,YAAY,CAAC,EAAE,CAAC;MACrC,IAAI8E,SAAS,GAAG9E,YAAY,CAACP,OAAO,CAACwD,IAAI,CAAC8B,IAAI,CAAC;MAC/C,IAAIC,YAAY,GAAGhF,YAAY,CAACP,OAAO,CAACwD,IAAI,CAACgC,MAAM,CAAC;MACpD,IAAIC,OAAO,GAAGlF,YAAY,CAACP,OAAO,CAACwD,IAAI,CAACkC,OAAO,CAAC;MAChD,IAAIX,aAAa,GAAGxE,YAAY,CAACP,OAAO,CAACwD,IAAI,CAACX,KAAK,CAAC;MACpD,IAAI8C,YAAY,GAAGpF,YAAY,CAAC,CAAC,CAAC;MAClC,IAAIsF,KAAK,GAAGtF,YAAY,CAAC,CAAC,CAAC;MAC3B,IAAI8D,QAAQ,IAAGc,IAAI,IAAIN,QAAQ,IAAIQ,SAAS,IAAIE,YAAY,IAAIE,OAAO,IAAIV,aAAa,EAAG;QAAE;QACzFvF,EAAE,CAACyC,KAAK,CAAC,0CAA0C,EAAE,CAACoC,QAAQ,CAAC,EAAE,UAASvB,KAAK,EAAE4B,OAAO,EAAEC,MAAM,EAAE;UAAE;UAChG7C,OAAO,CAACC,GAAG,CAAC2C,OAAO,CAAC;UACpB,IAAI5B,KAAK,EAAE,MAAMA,KAAK;UACtB,IAAI4B,OAAO,CAAC1B,MAAM,IAAI,CAAC,IAAI6B,QAAQ,IAAIQ,SAAS,EAAE;YAAM;YACpD7F,EAAE,CAACyC,KAAK,CAAC,6CAA6C,EAAE,CAAC0D,YAAY,CAAC,EAAE,UAAS7C,KAAK,EAAEgD,UAAU,EAAEnB,MAAM,EAAC,CAE/G,CAAC,CAAC;YACFnE,MAAM,CAACuF,IAAI,CAAClB,QAAQ,EAAElE,UAAU,EAAE,UAASmE,GAAG,EAAEiB,IAAI,EAAC;cACjD,IAAGjB,GAAG,EAAE,MAAMA,GAAG;cACjBtF,EAAE,CAACyC,KAAK,CAAC,8KAA8K,EAAE,CAACmD,aAAa,EAAED,IAAI,EAAEI,YAAY,EAAER,aAAa,EAAEV,QAAQ,EAAE0B,IAAI,EAAE1F,QAAQ,EAACoF,OAAO,EAAEE,YAAY,EAAEE,KAAK,CAAC,EAAE,UAAU/C,KAAK,EAAEe,IAAI,EAAE;gBACvT,IAAIf,KAAK,EAAE,MAAMA,KAAK;gBACtB9B,QAAQ,CAACkE,IAAI,+LACyB;cAC1C,CAAC,CAAC;YACN,CAAC,CAAC;UACF,CAAC,MAAM,IAAIL,QAAQ,IAAIQ,SAAS,EAAE;YAAsB;YACpDrE,QAAQ,CAACkE,IAAI,uNACsC;UACvD,CAAC,MACI;YAAmD;YACpDlE,QAAQ,CAACkE,IAAI,2MACsC;UACvD;QACJ,CAAC,CAAC;MACN,CAAC,MAAM;QAAS;QACZlE,QAAQ,CAACkE,IAAI,yMACsC;MACvD;IACJ;EACJ;AACJ,CAAC,CAAC;AACFc,MAAM,CAACC,OAAO,GAAG5G,MAAM"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar mysql = require('mysql2');\nvar db = mysql.createConnection({\n  host: 'localhost',\n  user: 'root',\n  password: 'wkddudwo1!',\n  database: 'codingnara',\n  multipleStatements: true\n});\ndb.connect();\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJteXNxbCIsInJlcXVpcmUiLCJkYiIsImNyZWF0ZUNvbm5lY3Rpb24iLCJob3N0IiwidXNlciIsInBhc3N3b3JkIiwiZGF0YWJhc2UiLCJtdWx0aXBsZVN0YXRlbWVudHMiLCJjb25uZWN0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS1tYXN0ZXIvIiwic291cmNlcyI6WyJkYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbXlzcWwgPSByZXF1aXJlKCdteXNxbDInKTtcbnZhciBkYiA9IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xuICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxuICAgIHVzZXI6ICdyb290JyxcbiAgICBwYXNzd29yZDogJ3drZGR1ZHdvMSEnLFxuICAgIGRhdGFiYXNlOiAnY29kaW5nbmFyYScsXG4gICAgbXVsdGlwbGVTdGF0ZW1lbnRzOiB0cnVlXG59KTtcbmRiLmNvbm5lY3QoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBkYjsiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQzdCLElBQUlDLEVBQUUsR0FBR0YsS0FBSyxDQUFDRyxnQkFBZ0IsQ0FBQztFQUM1QkMsSUFBSSxFQUFFLFdBQVc7RUFDakJDLElBQUksRUFBRSxNQUFNO0VBQ1pDLFFBQVEsRUFBRSxZQUFZO0VBQ3RCQyxRQUFRLEVBQUUsWUFBWTtFQUN0QkMsa0JBQWtCLEVBQUU7QUFDeEIsQ0FBQyxDQUFDO0FBQ0ZOLEVBQUUsQ0FBQ08sT0FBTyxFQUFFO0FBRVpDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHVCxFQUFFIn0=","map":{"version":3,"names":["mysql","require","db","createConnection","host","user","password","database","multipleStatements","connect","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-master/","sources":["db.js"],"sourcesContent":["var mysql = require('mysql2');\nvar db = mysql.createConnection({\n    host: 'localhost',\n    user: 'root',\n    password: 'wkddudwo1!',\n    database: 'codingnara',\n    multipleStatements: true\n});\ndb.connect();\n\nmodule.exports = db;"],"mappings":";;AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAC7B,IAAIC,EAAE,GAAGF,KAAK,CAACG,gBAAgB,CAAC;EAC5BC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE,YAAY;EACtBC,QAAQ,EAAE,YAAY;EACtBC,kBAAkB,EAAE;AACxB,CAAC,CAAC;AACFN,EAAE,CAACO,OAAO,EAAE;AAEZC,MAAM,CAACC,OAAO,GAAGT,EAAE"}},"mtime":1674744787152},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/main_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nvar fs = require('fs');\nrouter.get('/', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    res.render('main_page', {\n      authCheck: authCheck.statusUI(req, res)\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImF1dGhDaGVjayIsInNhbml0aXplSHRtbCIsIlRva2VucyIsInRva2VucyIsImZzIiwiZ2V0IiwicmVxIiwicmVzIiwic2Vzc2lvbiIsInNlY3JldCIsInNlY3JldFN5bmMiLCJ0b2tlbiIsImNyZWF0ZSIsInZlcmlmeSIsIkVycm9yIiwicmVuZGVyIiwic3RhdHVzVUkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFuZy15ZW9uZ2phZS9EZXNrdG9wL2NvZGluZy1uYXJhLW1hc3Rlci9saWIvIiwic291cmNlcyI6WyJtYWluX3BhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnZhciBhdXRoQ2hlY2sgPSByZXF1aXJlKCcuLi9saWJfbG9naW4vYXV0aENoZWNrLmpzJyk7XG52YXIgc2FuaXRpemVIdG1sID0gcmVxdWlyZSgnc2FuaXRpemUtaHRtbCcpO1xudmFyIFRva2VucyA9IHJlcXVpcmUoXCJjc3JmXCIpO1xudmFyIHRva2VucyA9IG5ldyBUb2tlbnMoKTtcbnZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbnJvdXRlci5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcbiAgICByZXEuc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICAgIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxLnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxLnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgICByZXMucmVuZGVyKCdtYWluX3BhZ2UnLFxuICAgICAgICB7XG4gICAgICAgICAgYXV0aENoZWNrIDogYXV0aENoZWNrLnN0YXR1c1VJKHJlcSwgcmVzKVxuICAgICAgICB9KTtcbiAgICB9XG59KVxuXG4gIG1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDaEMsSUFBSUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sRUFBRTtBQUM3QixJQUFJQyxTQUFTLEdBQUdILE9BQU8sQ0FBQywyQkFBMkIsQ0FBQztBQUNwRCxJQUFJSSxZQUFZLEdBQUdKLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDM0MsSUFBSUssTUFBTSxHQUFHTCxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLElBQUlNLE1BQU0sR0FBRyxJQUFJRCxNQUFNLEVBQUU7QUFDekIsSUFBSUUsRUFBRSxHQUFHUCxPQUFPLENBQUMsSUFBSSxDQUFDO0FBRXRCQyxNQUFNLENBQUNPLEdBQUcsQ0FBQyxHQUFHLEVBQUUsVUFBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUs7RUFDMUJELEdBQUcsQ0FBQ0UsT0FBTyxDQUFDQyxNQUFNLEdBQUdOLE1BQU0sQ0FBQ08sVUFBVSxFQUFFO0VBQ3hDLElBQUlDLEtBQUssR0FBR1IsTUFBTSxDQUFDUyxNQUFNLENBQUNOLEdBQUcsQ0FBQ0UsT0FBTyxDQUFDQyxNQUFNLENBQUM7RUFDN0MsSUFBSSxDQUFDTixNQUFNLENBQUNVLE1BQU0sQ0FBQ1AsR0FBRyxDQUFDRSxPQUFPLENBQUNDLE1BQU0sRUFBRUUsS0FBSyxDQUFDLEVBQUU7SUFDN0MsTUFBTSxJQUFJRyxLQUFLLENBQUMsZ0JBQWdCLENBQUM7RUFDbkMsQ0FBQyxNQUFJO0lBQ0RQLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLFdBQVcsRUFDdEI7TUFDRWYsU0FBUyxFQUFHQSxTQUFTLENBQUNnQixRQUFRLENBQUNWLEdBQUcsRUFBRUMsR0FBRztJQUN6QyxDQUFDLENBQUM7RUFDTjtBQUNKLENBQUMsQ0FBQztBQUVBVSxNQUFNLENBQUNDLE9BQU8sR0FBR3BCLE1BQU0ifQ==","map":{"version":3,"names":["express","require","router","Router","authCheck","sanitizeHtml","Tokens","tokens","fs","get","req","res","session","secret","secretSync","token","create","verify","Error","render","statusUI","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/","sources":["main_page.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nvar fs = require('fs');\n\nrouter.get('/', (req, res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        res.render('main_page',\n        {\n          authCheck : authCheck.statusUI(req, res)\n        });\n    }\n})\n\n  module.exports = router;"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAChC,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC7B,IAAIC,SAAS,GAAGH,OAAO,CAAC,2BAA2B,CAAC;AACpD,IAAII,YAAY,GAAGJ,OAAO,CAAC,eAAe,CAAC;AAC3C,IAAIK,MAAM,GAAGL,OAAO,CAAC,MAAM,CAAC;AAC5B,IAAIM,MAAM,GAAG,IAAID,MAAM,EAAE;AACzB,IAAIE,EAAE,GAAGP,OAAO,CAAC,IAAI,CAAC;AAEtBC,MAAM,CAACO,GAAG,CAAC,GAAG,EAAE,UAACC,GAAG,EAAEC,GAAG,EAAK;EAC1BD,GAAG,CAACE,OAAO,CAACC,MAAM,GAAGN,MAAM,CAACO,UAAU,EAAE;EACxC,IAAIC,KAAK,GAAGR,MAAM,CAACS,MAAM,CAACN,GAAG,CAACE,OAAO,CAACC,MAAM,CAAC;EAC7C,IAAI,CAACN,MAAM,CAACU,MAAM,CAACP,GAAG,CAACE,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IAC7C,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACDP,GAAG,CAACQ,MAAM,CAAC,WAAW,EACtB;MACEf,SAAS,EAAGA,SAAS,CAACgB,QAAQ,CAACV,GAAG,EAAEC,GAAG;IACzC,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEAU,MAAM,CAACC,OAAO,GAAGpB,MAAM"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib_login/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib_login/authCheck.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  isOwner: function isOwner(request, response) {\n    if (request.session.is_logined) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n  statusUI: function statusUI(request, response) {\n    var authStatusUI = '<div align=\"right\"><a href=\"/auth/login\">로그인</a></div>';\n    if (this.isOwner(request, response)) {\n      authStatusUI = \"<div align=\\\"right\\\">\".concat(request.session.nickname, \"\\uB2D8 \\uD658\\uC601\\uD569\\uB2C8\\uB2E4 \\n        <a href=\\\"/auth/logout\\\"\\n        >\\uB85C\\uADF8\\uC544\\uC6C3</a>\\n        <a href=\\\"/myinfo\\\"\\n        >\\uB9C8\\uC774\\uD398\\uC774\\uC9C0</a>\\n        </div>\\n        \");\n    }\n    return authStatusUI;\n  },\n  kakao_statusUI: function kakao_statusUI(request, response) {\n    var authStatusUI = \"<div align=\\\"right\\\"><a href=\\\"/auth/login\\\"\\n      >\\uB85C\\uADF8\\uC778</a></div>\";\n    if (this.isOwner(request, response)) {\n      authStatusUI = \"\\n        <div align=\\\"right\\\">\".concat(request.session.nickname, \"\\uB2D8 \\uD658\\uC601\\uD569\\uB2C8\\uB2E4 \\n        <a id=\\\"kakao-logout-btn\\\" href=\\\"/auth/kakao/logout\\\">\\n        \\uB85C\\uADF8\\uC544\\uC6C3\\n        </a>\\n        <a href=\\\"/myinfo\\\"\\n        >\\uB9C8\\uC774\\uD398\\uC774\\uC9C0</a>\\n        </div>\\n        \");\n    }\n    return authStatusUI;\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiaXNPd25lciIsInJlcXVlc3QiLCJyZXNwb25zZSIsInNlc3Npb24iLCJpc19sb2dpbmVkIiwic3RhdHVzVUkiLCJhdXRoU3RhdHVzVUkiLCJuaWNrbmFtZSIsImtha2FvX3N0YXR1c1VJIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFuZy15ZW9uZ2phZS9EZXNrdG9wL2NvZGluZy1uYXJhLW1hc3Rlci9saWJfbG9naW4vIiwic291cmNlcyI6WyJhdXRoQ2hlY2suanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaXNPd25lcjogZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVxdWVzdC5zZXNzaW9uLmlzX2xvZ2luZWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBzdGF0dXNVSTogZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgICB2YXIgYXV0aFN0YXR1c1VJID0gJzxkaXYgYWxpZ249XCJyaWdodFwiPjxhIGhyZWY9XCIvYXV0aC9sb2dpblwiPuuhnOq3uOyduDwvYT48L2Rpdj4nO1xuICAgICAgaWYgKHRoaXMuaXNPd25lcihyZXF1ZXN0LCByZXNwb25zZSkpIHtcbiAgICAgICAgYXV0aFN0YXR1c1VJID0gYDxkaXYgYWxpZ249XCJyaWdodFwiPiR7cmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lfeuLmCDtmZjsmIHtlanri4jri6QgXG4gICAgICAgIDxhIGhyZWY9XCIvYXV0aC9sb2dvdXRcIlxuICAgICAgICA+66Gc6re47JWE7JuDPC9hPlxuICAgICAgICA8YSBocmVmPVwiL215aW5mb1wiXG4gICAgICAgID7rp4jsnbTtjpjsnbTsp4A8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF1dGhTdGF0dXNVSTtcbiAgICB9LFxuICAgIGtha2FvX3N0YXR1c1VJOiBmdW5jdGlvbiAocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICAgIHZhciBhdXRoU3RhdHVzVUkgPSBgPGRpdiBhbGlnbj1cInJpZ2h0XCI+PGEgaHJlZj1cIi9hdXRoL2xvZ2luXCJcbiAgICAgID7roZzqt7jsnbg8L2E+PC9kaXY+YDtcbiAgICAgIGlmICh0aGlzLmlzT3duZXIocmVxdWVzdCwgcmVzcG9uc2UpKSB7XG4gICAgICAgIGF1dGhTdGF0dXNVSSA9IGBcbiAgICAgICAgPGRpdiBhbGlnbj1cInJpZ2h0XCI+JHtyZXF1ZXN0LnNlc3Npb24ubmlja25hbWV964uYIO2ZmOyYge2VqeuLiOuLpCBcbiAgICAgICAgPGEgaWQ9XCJrYWthby1sb2dvdXQtYnRuXCIgaHJlZj1cIi9hdXRoL2tha2FvL2xvZ291dFwiPlxuICAgICAgICDroZzqt7jslYTsm4NcbiAgICAgICAgPC9hPlxuICAgICAgICA8YSBocmVmPVwiL215aW5mb1wiXG4gICAgICAgID7rp4jsnbTtjpjsnbTsp4A8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF1dGhTdGF0dXNVSTtcbiAgICB9XG4gIH0iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2JDLE9BQU8sRUFBRSxpQkFBVUMsT0FBTyxFQUFFQyxRQUFRLEVBQUU7SUFDcEMsSUFBSUQsT0FBTyxDQUFDRSxPQUFPLENBQUNDLFVBQVUsRUFBRTtNQUM5QixPQUFPLElBQUk7SUFDYixDQUFDLE1BQU07TUFDTCxPQUFPLEtBQUs7SUFDZDtFQUNGLENBQUM7RUFDREMsUUFBUSxFQUFFLGtCQUFVSixPQUFPLEVBQUVDLFFBQVEsRUFBRTtJQUNyQyxJQUFJSSxZQUFZLEdBQUcsd0RBQXdEO0lBQzNFLElBQUksSUFBSSxDQUFDTixPQUFPLENBQUNDLE9BQU8sRUFBRUMsUUFBUSxDQUFDLEVBQUU7TUFDbkNJLFlBQVksa0NBQXlCTCxPQUFPLENBQUNFLE9BQU8sQ0FBQ0ksUUFBUSx3TkFNNUQ7SUFDSDtJQUNBLE9BQU9ELFlBQVk7RUFDckIsQ0FBQztFQUNERSxjQUFjLEVBQUUsd0JBQVVQLE9BQU8sRUFBRUMsUUFBUSxFQUFFO0lBQzNDLElBQUlJLFlBQVksc0ZBQ0Q7SUFDZixJQUFJLElBQUksQ0FBQ04sT0FBTyxDQUFDQyxPQUFPLEVBQUVDLFFBQVEsQ0FBQyxFQUFFO01BQ25DSSxZQUFZLDRDQUNTTCxPQUFPLENBQUNFLE9BQU8sQ0FBQ0ksUUFBUSxnUUFPNUM7SUFDSDtJQUNBLE9BQU9ELFlBQVk7RUFDckI7QUFDRixDQUFDIn0=","map":{"version":3,"names":["module","exports","isOwner","request","response","session","is_logined","statusUI","authStatusUI","nickname","kakao_statusUI"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-master/lib_login/","sources":["authCheck.js"],"sourcesContent":["module.exports = {\n    isOwner: function (request, response) {\n      if (request.session.is_logined) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    statusUI: function (request, response) {\n      var authStatusUI = '<div align=\"right\"><a href=\"/auth/login\">로그인</a></div>';\n      if (this.isOwner(request, response)) {\n        authStatusUI = `<div align=\"right\">${request.session.nickname}님 환영합니다 \n        <a href=\"/auth/logout\"\n        >로그아웃</a>\n        <a href=\"/myinfo\"\n        >마이페이지</a>\n        </div>\n        `;\n      }\n      return authStatusUI;\n    },\n    kakao_statusUI: function (request, response) {\n      var authStatusUI = `<div align=\"right\"><a href=\"/auth/login\"\n      >로그인</a></div>`;\n      if (this.isOwner(request, response)) {\n        authStatusUI = `\n        <div align=\"right\">${request.session.nickname}님 환영합니다 \n        <a id=\"kakao-logout-btn\" href=\"/auth/kakao/logout\">\n        로그아웃\n        </a>\n        <a href=\"/myinfo\"\n        >마이페이지</a>\n        </div>\n        `;\n      }\n      return authStatusUI;\n    }\n  }"],"mappings":";;AAAAA,MAAM,CAACC,OAAO,GAAG;EACbC,OAAO,EAAE,iBAAUC,OAAO,EAAEC,QAAQ,EAAE;IACpC,IAAID,OAAO,CAACE,OAAO,CAACC,UAAU,EAAE;MAC9B,OAAO,IAAI;IACb,CAAC,MAAM;MACL,OAAO,KAAK;IACd;EACF,CAAC;EACDC,QAAQ,EAAE,kBAAUJ,OAAO,EAAEC,QAAQ,EAAE;IACrC,IAAII,YAAY,GAAG,wDAAwD;IAC3E,IAAI,IAAI,CAACN,OAAO,CAACC,OAAO,EAAEC,QAAQ,CAAC,EAAE;MACnCI,YAAY,kCAAyBL,OAAO,CAACE,OAAO,CAACI,QAAQ,wNAM5D;IACH;IACA,OAAOD,YAAY;EACrB,CAAC;EACDE,cAAc,EAAE,wBAAUP,OAAO,EAAEC,QAAQ,EAAE;IAC3C,IAAII,YAAY,sFACD;IACf,IAAI,IAAI,CAACN,OAAO,CAACC,OAAO,EAAEC,QAAQ,CAAC,EAAE;MACnCI,YAAY,4CACSL,OAAO,CAACE,OAAO,CAACI,QAAQ,gQAO5C;IACH;IACA,OAAOD,YAAY;EACrB;AACF,CAAC"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/curi_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nrouter.get('/', function (req, res) {\n  res.render('curri_page', {\n    authCheck: authCheck.statusUI(req, res)\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImF1dGhDaGVjayIsImdldCIsInJlcSIsInJlcyIsInJlbmRlciIsInN0YXR1c1VJIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS1tYXN0ZXIvbGliLyIsInNvdXJjZXMiOlsiY3VyaV9wYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG52YXIgYXV0aENoZWNrID0gcmVxdWlyZSgnLi4vbGliX2xvZ2luL2F1dGhDaGVjay5qcycpO1xuXG5yb3V0ZXIuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnJlbmRlcignY3VycmlfcGFnZScsXG4gICAgICAgIHtcbiAgICAgICAgICBhdXRoQ2hlY2sgOiBhdXRoQ2hlY2suc3RhdHVzVUkocmVxLCByZXMpXG4gICAgICAgIH0pO1xuICB9KVxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7ICAiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2hDLElBQUlDLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLEVBQUU7QUFDN0IsSUFBSUMsU0FBUyxHQUFHSCxPQUFPLENBQUMsMkJBQTJCLENBQUM7QUFFcERDLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLEdBQUcsRUFBRSxVQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBSztFQUMxQkEsR0FBRyxDQUFDQyxNQUFNLENBQUMsWUFBWSxFQUNuQjtJQUNFSixTQUFTLEVBQUdBLFNBQVMsQ0FBQ0ssUUFBUSxDQUFDSCxHQUFHLEVBQUVDLEdBQUc7RUFDekMsQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxDQUFDO0FBQ0pHLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHVCxNQUFNIn0=","map":{"version":3,"names":["express","require","router","Router","authCheck","get","req","res","render","statusUI","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/","sources":["curi_page.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\n\nrouter.get('/', (req, res) => {\n    res.render('curri_page',\n        {\n          authCheck : authCheck.statusUI(req, res)\n        });\n  })\nmodule.exports = router;  "],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAChC,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC7B,IAAIC,SAAS,GAAGH,OAAO,CAAC,2BAA2B,CAAC;AAEpDC,MAAM,CAACG,GAAG,CAAC,GAAG,EAAE,UAACC,GAAG,EAAEC,GAAG,EAAK;EAC1BA,GAAG,CAACC,MAAM,CAAC,YAAY,EACnB;IACEJ,SAAS,EAAGA,SAAS,CAACK,QAAQ,CAACH,GAAG,EAAEC,GAAG;EACzC,CAAC,CAAC;AACR,CAAC,CAAC;AACJG,MAAM,CAACC,OAAO,GAAGT,MAAM"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/ask_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nrouter.get('/', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    res.render('ask_page', {\n      authCheck: authCheck.statusUI(req, res)\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImF1dGhDaGVjayIsIlRva2VucyIsInRva2VucyIsImdldCIsInJlcSIsInJlcyIsInNlc3Npb24iLCJzZWNyZXQiLCJzZWNyZXRTeW5jIiwidG9rZW4iLCJjcmVhdGUiLCJ2ZXJpZnkiLCJFcnJvciIsInJlbmRlciIsInN0YXR1c1VJIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS1tYXN0ZXIvbGliLyIsInNvdXJjZXMiOlsiYXNrX3BhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnZhciBhdXRoQ2hlY2sgPSByZXF1aXJlKCcuLi9saWJfbG9naW4vYXV0aENoZWNrLmpzJyk7XG52YXIgVG9rZW5zID0gcmVxdWlyZShcImNzcmZcIik7XG52YXIgdG9rZW5zID0gbmV3IFRva2VucygpO1xuXG5yb3V0ZXIuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcS5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxLnNlc3Npb24uc2VjcmV0KTtcbiAgaWYgKCF0b2tlbnMudmVyaWZ5KHJlcS5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gIH1lbHNle1xuICAgIHJlcy5yZW5kZXIoJ2Fza19wYWdlJyxcbiAgICAgICAge1xuICAgICAgICAgIGF1dGhDaGVjayA6IGF1dGhDaGVjay5zdGF0dXNVSShyZXEsIHJlcylcbiAgICAgICAgfSk7XG4gICAgICB9XG59KVxuXG4gIG1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDaEMsSUFBSUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sRUFBRTtBQUM3QixJQUFJQyxTQUFTLEdBQUdILE9BQU8sQ0FBQywyQkFBMkIsQ0FBQztBQUNwRCxJQUFJSSxNQUFNLEdBQUdKLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsSUFBSUssTUFBTSxHQUFHLElBQUlELE1BQU0sRUFBRTtBQUV6QkgsTUFBTSxDQUFDSyxHQUFHLENBQUMsR0FBRyxFQUFFLFVBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFLO0VBQzVCRCxHQUFHLENBQUNFLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHTCxNQUFNLENBQUNNLFVBQVUsRUFBRTtFQUN4QyxJQUFJQyxLQUFLLEdBQUdQLE1BQU0sQ0FBQ1EsTUFBTSxDQUFDTixHQUFHLENBQUNFLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDO0VBQzdDLElBQUksQ0FBQ0wsTUFBTSxDQUFDUyxNQUFNLENBQUNQLEdBQUcsQ0FBQ0UsT0FBTyxDQUFDQyxNQUFNLEVBQUVFLEtBQUssQ0FBQyxFQUFFO0lBQzdDLE1BQU0sSUFBSUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDO0VBQ25DLENBQUMsTUFBSTtJQUNIUCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxVQUFVLEVBQ2pCO01BQ0ViLFNBQVMsRUFBR0EsU0FBUyxDQUFDYyxRQUFRLENBQUNWLEdBQUcsRUFBRUMsR0FBRztJQUN6QyxDQUFDLENBQUM7RUFDSjtBQUNOLENBQUMsQ0FBQztBQUVBVSxNQUFNLENBQUNDLE9BQU8sR0FBR2xCLE1BQU0ifQ==","map":{"version":3,"names":["express","require","router","Router","authCheck","Tokens","tokens","get","req","res","session","secret","secretSync","token","create","verify","Error","render","statusUI","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/","sources":["ask_page.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\n\nrouter.get('/', (req, res) => {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    res.render('ask_page',\n        {\n          authCheck : authCheck.statusUI(req, res)\n        });\n      }\n})\n\n  module.exports = router;"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAChC,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC7B,IAAIC,SAAS,GAAGH,OAAO,CAAC,2BAA2B,CAAC;AACpD,IAAII,MAAM,GAAGJ,OAAO,CAAC,MAAM,CAAC;AAC5B,IAAIK,MAAM,GAAG,IAAID,MAAM,EAAE;AAEzBH,MAAM,CAACK,GAAG,CAAC,GAAG,EAAE,UAACC,GAAG,EAAEC,GAAG,EAAK;EAC5BD,GAAG,CAACE,OAAO,CAACC,MAAM,GAAGL,MAAM,CAACM,UAAU,EAAE;EACxC,IAAIC,KAAK,GAAGP,MAAM,CAACQ,MAAM,CAACN,GAAG,CAACE,OAAO,CAACC,MAAM,CAAC;EAC7C,IAAI,CAACL,MAAM,CAACS,MAAM,CAACP,GAAG,CAACE,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IAC7C,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACHP,GAAG,CAACQ,MAAM,CAAC,UAAU,EACjB;MACEb,SAAS,EAAGA,SAAS,CAACc,QAAQ,CAACV,GAAG,EAAEC,GAAG;IACzC,CAAC,CAAC;EACJ;AACN,CAAC,CAAC;AAEAU,MAAM,CAACC,OAAO,GAAGlB,MAAM"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/my_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar db = require('../db');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nrouter.get('/', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    db.query(\"SELECT * FROM Student\", function (error, Reviews) {\n      var email = request.session.email;\n      console.log(email);\n      db.query('SELECT * FROM Student WHERE Email_Address = ? ', [email], function (error2, authors) {\n        response.render('my_page_root', {\n          authCheck: authCheck.statusUI(request, response),\n          Name: authors[0].Name,\n          Password: authors[0].Password,\n          Phone_Number: authors[0].Phone_Number,\n          Address: authors[0].Address,\n          Email_Address: authors[0].Email_Address,\n          Point: authors[0].Point\n        });\n      });\n    });\n  }\n});\nrouter.get('/update', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    db.query(\"SELECT * FROM Student\", function (error, Reviews) {\n      if (error) {\n        throw error;\n      }\n      var email = request.session.email;\n      db.query('SELECT * FROM Student WHERE Email_Address = ? ', [email], function (error2, authors) {\n        if (error2) {\n          throw error2;\n        }\n        console.log(authors);\n        response.render('my_page_update', {\n          authCheck: authCheck.statusUI(request, response),\n          Name: authors[0].Name,\n          Password: authors[0].Password,\n          Phone_Number: authors[0].Phone_Number,\n          Address: authors[0].Address,\n          Email_Address: authors[0].Email_Address\n        });\n      });\n    });\n  }\n});\nrouter.post('/update_mypage', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    var post = request.body;\n    console.log(post);\n    db.query('UPDATE Student SET Name=?, Phone_Number=? , Password=? ,Address=?, Email_Address=?  WHERE Student_ID=?', [post.Name, post.Phone_Number, post.Password, post.Address, post.Email_Address, post.id], function (error, result) {\n      if (error) {\n        throw error;\n      }\n      response.writeHead(302, {\n        Location: \"/myinfo\"\n      });\n      response.end();\n    });\n  }\n});\nrouter.get(\"/class\", function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    res.render(\"home\");\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImF1dGhDaGVjayIsImRiIiwic2FuaXRpemVIdG1sIiwiVG9rZW5zIiwidG9rZW5zIiwiZ2V0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2Vzc2lvbiIsInNlY3JldCIsInNlY3JldFN5bmMiLCJ0b2tlbiIsImNyZWF0ZSIsInZlcmlmeSIsIkVycm9yIiwicXVlcnkiLCJlcnJvciIsIlJldmlld3MiLCJlbWFpbCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvcjIiLCJhdXRob3JzIiwicmVuZGVyIiwic3RhdHVzVUkiLCJOYW1lIiwiUGFzc3dvcmQiLCJQaG9uZV9OdW1iZXIiLCJBZGRyZXNzIiwiRW1haWxfQWRkcmVzcyIsIlBvaW50IiwicG9zdCIsImJvZHkiLCJpZCIsInJlc3VsdCIsIndyaXRlSGVhZCIsIkxvY2F0aW9uIiwiZW5kIiwicmVxIiwicmVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS1tYXN0ZXIvbGliLyIsInNvdXJjZXMiOlsibXlfcGFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xudmFyIGF1dGhDaGVjayA9IHJlcXVpcmUoJy4uL2xpYl9sb2dpbi9hdXRoQ2hlY2suanMnKTtcbnZhciBkYiA9IHJlcXVpcmUoJy4uL2RiJyk7XG52YXIgc2FuaXRpemVIdG1sID0gcmVxdWlyZSgnc2FuaXRpemUtaHRtbCcpO1xudmFyIFRva2VucyA9IHJlcXVpcmUoXCJjc3JmXCIpO1xudmFyIHRva2VucyA9IG5ldyBUb2tlbnMoKTtcblxuXG5yb3V0ZXIuZ2V0KCcvJywgZnVuY3Rpb24ocmVxdWVzdCxyZXNwb25zZSl7XG4gIHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gIH1lbHNle1xuICAgIGRiLnF1ZXJ5KGBTRUxFQ1QgKiBGUk9NIFN0dWRlbnRgLCBmdW5jdGlvbihlcnJvcixSZXZpZXdzKXtcbiAgICAgIHZhciBlbWFpbCA9IHJlcXVlc3Quc2Vzc2lvbi5lbWFpbDtcbiAgICAgIGNvbnNvbGUubG9nKGVtYWlsKTtcbiAgICAgIGRiLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIFN0dWRlbnQgV0hFUkUgRW1haWxfQWRkcmVzcyA9ID8gJyxbZW1haWxdLCBmdW5jdGlvbihlcnJvcjIsIGF1dGhvcnMpe1xuICAgICAgICByZXNwb25zZS5yZW5kZXIoJ215X3BhZ2Vfcm9vdCcsXG4gICAgICAgIHtcbiAgICAgICAgICBhdXRoQ2hlY2sgOiBhdXRoQ2hlY2suc3RhdHVzVUkocmVxdWVzdCwgcmVzcG9uc2UpLFxuICAgICAgICAgIE5hbWUgOiBhdXRob3JzWzBdLk5hbWUsXG4gICAgICAgICAgUGFzc3dvcmQgOiBhdXRob3JzWzBdLlBhc3N3b3JkLFxuICAgICAgICAgIFBob25lX051bWJlciA6IGF1dGhvcnNbMF0uUGhvbmVfTnVtYmVyLFxuICAgICAgICAgIEFkZHJlc3MgOiBhdXRob3JzWzBdLkFkZHJlc3MsXG4gICAgICAgICAgRW1haWxfQWRkcmVzcyA6IGF1dGhvcnNbMF0uRW1haWxfQWRkcmVzcyxcbiAgICAgICAgICBQb2ludCA6IGF1dGhvcnNbMF0uUG9pbnRcbiAgICAgICAgfSk7XG4gICAgICB9KSBcbiAgICB9KVxuICB9XG59KVxucm91dGVyLmdldCgnL3VwZGF0ZScsIGZ1bmN0aW9uIChyZXF1ZXN0LHJlc3BvbnNlKXtcbiAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxdWVzdC5zZXNzaW9uLnNlY3JldCk7XG4gIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgfWVsc2V7XG4gIGRiLnF1ZXJ5KGBTRUxFQ1QgKiBGUk9NIFN0dWRlbnRgLCBmdW5jdGlvbihlcnJvcixSZXZpZXdzKXtcbiAgaWYoZXJyb3Ipe1xuICB0aHJvdyBlcnJvcjtcbiAgfVxuICAgIHZhciBlbWFpbCA9IHJlcXVlc3Quc2Vzc2lvbi5lbWFpbDtcbiAgICBkYi5xdWVyeSgnU0VMRUNUICogRlJPTSBTdHVkZW50IFdIRVJFIEVtYWlsX0FkZHJlc3MgPSA/ICcsW2VtYWlsXSwgZnVuY3Rpb24oZXJyb3IyLCBhdXRob3JzKXtcbiAgICAgIGlmKGVycm9yMil7XG4gICAgICB0aHJvdyBlcnJvcjI7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGF1dGhvcnMpXG4gICAgcmVzcG9uc2UucmVuZGVyKCdteV9wYWdlX3VwZGF0ZScsXG4gICAge1xuICAgICAgYXV0aENoZWNrIDogYXV0aENoZWNrLnN0YXR1c1VJKHJlcXVlc3QsIHJlc3BvbnNlKSxcbiAgICAgIE5hbWUgOiBhdXRob3JzWzBdLk5hbWUsXG4gICAgICBQYXNzd29yZCA6IGF1dGhvcnNbMF0uUGFzc3dvcmQsXG4gICAgICBQaG9uZV9OdW1iZXIgOiBhdXRob3JzWzBdLlBob25lX051bWJlcixcbiAgICAgIEFkZHJlc3MgOiBhdXRob3JzWzBdLkFkZHJlc3MsXG4gICAgICBFbWFpbF9BZGRyZXNzIDogYXV0aG9yc1swXS5FbWFpbF9BZGRyZXNzLFxuICAgIH0pO1xuICAgIH0pO1xuICB9KX1cbn0pXG5cbnJvdXRlci5wb3N0KCcvdXBkYXRlX215cGFnZScsIGZ1bmN0aW9uKHJlcXVlc3QscmVzcG9uc2Upe1xuICByZXF1ZXN0LnNlc3Npb24uc2VjcmV0ID0gdG9rZW5zLnNlY3JldFN5bmMoKTtcbiAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0KTtcbiAgaWYgKCF0b2tlbnMudmVyaWZ5KHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQsIHRva2VuKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICB9ZWxzZXtcbiAgICB2YXIgcG9zdCA9IHJlcXVlc3QuYm9keTtcbiAgICBjb25zb2xlLmxvZyhwb3N0KTtcbiAgICBkYi5xdWVyeSgnVVBEQVRFIFN0dWRlbnQgU0VUIE5hbWU9PywgUGhvbmVfTnVtYmVyPT8gLCBQYXNzd29yZD0/ICxBZGRyZXNzPT8sIEVtYWlsX0FkZHJlc3M9PyAgV0hFUkUgU3R1ZGVudF9JRD0/JywgW3Bvc3QuTmFtZSwgcG9zdC5QaG9uZV9OdW1iZXIsIHBvc3QuUGFzc3dvcmQsIHBvc3QuQWRkcmVzcywgcG9zdC5FbWFpbF9BZGRyZXNzLCBwb3N0LmlkXSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCl7XG4gICAgICBpZihlcnJvcil7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSAgXG4gICAgICByZXNwb25zZS53cml0ZUhlYWQoMzAyLCB7TG9jYXRpb246IGAvbXlpbmZvYH0pO1xuICAgICAgcmVzcG9uc2UuZW5kKCk7XG4gICAgfSlcbiAgfVxufSk7XG5cbnJvdXRlci5nZXQoXCIvY2xhc3NcIiwgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcS5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxLnNlc3Npb24uc2VjcmV0KTtcbiAgaWYgKCF0b2tlbnMudmVyaWZ5KHJlcS5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gIH1lbHNle1xuICAgIHJlcy5yZW5kZXIoXCJob21lXCIpO1xuICB9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","map":{"version":3,"names":["express","require","router","Router","authCheck","db","sanitizeHtml","Tokens","tokens","get","request","response","session","secret","secretSync","token","create","verify","Error","query","error","Reviews","email","console","log","error2","authors","render","statusUI","Name","Password","Phone_Number","Address","Email_Address","Point","post","body","id","result","writeHead","Location","end","req","res","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/","sources":["my_page.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar db = require('../db');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\n\n\nrouter.get('/', function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    db.query(`SELECT * FROM Student`, function(error,Reviews){\n      var email = request.session.email;\n      console.log(email);\n      db.query('SELECT * FROM Student WHERE Email_Address = ? ',[email], function(error2, authors){\n        response.render('my_page_root',\n        {\n          authCheck : authCheck.statusUI(request, response),\n          Name : authors[0].Name,\n          Password : authors[0].Password,\n          Phone_Number : authors[0].Phone_Number,\n          Address : authors[0].Address,\n          Email_Address : authors[0].Email_Address,\n          Point : authors[0].Point\n        });\n      }) \n    })\n  }\n})\nrouter.get('/update', function (request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n  db.query(`SELECT * FROM Student`, function(error,Reviews){\n  if(error){\n  throw error;\n  }\n    var email = request.session.email;\n    db.query('SELECT * FROM Student WHERE Email_Address = ? ',[email], function(error2, authors){\n      if(error2){\n      throw error2;\n    }\n    console.log(authors)\n    response.render('my_page_update',\n    {\n      authCheck : authCheck.statusUI(request, response),\n      Name : authors[0].Name,\n      Password : authors[0].Password,\n      Phone_Number : authors[0].Phone_Number,\n      Address : authors[0].Address,\n      Email_Address : authors[0].Email_Address,\n    });\n    });\n  })}\n})\n\nrouter.post('/update_mypage', function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    var post = request.body;\n    console.log(post);\n    db.query('UPDATE Student SET Name=?, Phone_Number=? , Password=? ,Address=?, Email_Address=?  WHERE Student_ID=?', [post.Name, post.Phone_Number, post.Password, post.Address, post.Email_Address, post.id], function(error, result){\n      if(error){\n        throw error;\n      }  \n      response.writeHead(302, {Location: `/myinfo`});\n      response.end();\n    })\n  }\n});\n\nrouter.get(\"/class\", (req, res) => {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    res.render(\"home\");\n  }\n});\n\n\nmodule.exports = router;\n"],"mappings":"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"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/enroll_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar express = require('express');\nvar router = express.Router();\nvar template = require('./template');\nvar app = express();\nvar db = require('../db');\nvar authCheck = require('../lib_login/authCheck.js');\nvar url = require('url');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nrouter.get('/sub', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    res.render('enroll_page_before_search', {\n      authCheck: authCheck.statusUI(req, res)\n    });\n  }\n});\nrouter.get('/sub_result', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (!authCheck.isOwner(req, res)) {\n      // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    } else {\n      var dataList = [];\n      for (var a = 0; a < req.query.Course_type.length; a++) {\n        for (var b = 0; b < req.query.Course_day.length; b++) {\n          for (var c = 0; c < req.query.Course_time.length; c++) {\n            db.query(\"select * from Instructor left join (select * from Instructor_Time_Date where Course_Active = 0) AS Temp  on Instructor.Teacher_ID = Temp.Teacher_ID left join Instructor_DATE AS ID on ID.Date_ID = Temp.Date_ID left join Instructor_TIME AS IT on IT.TIME_ID = Temp.TIME_ID  left join Course AS C on Temp.Course_ID = C.Course_ID \\n                        Where Temp.Course_ID = ? and Temp.TIME_ID = ? and Temp.Date_ID = ?;\", [Number(req.query.Course_type[a]), Number(req.query.Course_day[b]), Number(req.query.Course_time[c])], function (error2, Instructor) {\n              if (error2) throw error2;\n              if (!authCheck.isOwner(req, res)) {\n                // 로그인 안되어있으면 로그인 페이지로 이동시킴\n                res.redirect('/auth/login');\n                return false;\n              } else {\n                var _iterator = _createForOfIteratorHelper(Instructor),\n                  _step;\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    var data = _step.value;\n                    dataList.push(data);\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n              }\n            });\n          }\n        }\n      }\n    }\n    setTimeout(function () {\n      var enroll_list = template.Enroll_list(dataList);\n      res.render('enroll_page_after_search', {\n        authCheck: authCheck.statusUI(req, res),\n        Enroll_list: enroll_list\n      });\n    }, 200);\n  }\n});\nrouter.get('/:TeacherId/:CourseId/:DateId/:TIMEId', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    var post = req.body;\n    console.log('post', post);\n    var Student = sanitizeHtml(req.session.email);\n    var Course_Id = sanitizeHtml(req.params.CourseId);\n    var Date_Id = sanitizeHtml(req.params.DateId);\n    var Time_Id = sanitizeHtml(req.params.TIMEId);\n    var Teacher_Id = sanitizeHtml(req.params.TeacherId);\n    db.query(\"\\n            select C.Subject, price from Course AS C left join Course_Price AS CP on C.subject = CP.subject where C.Course_ID = ?; \\n            select * from Student where Email_Address = ?; \\n            select * from Instructor_Time_Date where Teacher_ID = ? and Course_ID = ? and DATE_ID = ? and TIME_ID;\\n            \", [Course_Id, Student, Teacher_Id, Course_Id, Date_Id, Time_Id], function (error, result) {\n      if (error) throw error;\n      console.log('result', result);\n      res.render('enroll_page_payment', {\n        authCheck: authCheck.statusUI(req, res),\n        Price: result[0][0].price,\n        Point: result[1][0].Point,\n        Course_Active: result[2][0].Course_Active,\n        Course_ID: Course_Id,\n        Date_ID: Date_Id,\n        Time_ID: Time_Id,\n        Teacher_ID: Teacher_Id,\n        Subject: result[0][0].Subject,\n        Name: result[1][0].Name,\n        Email_Address: result[1][0].Email_Address,\n        Phone_Number: result[1][0].Phone_Number,\n        Address: result[1][0].Address,\n        Recommand_ID: result[1][0].Recommand_ID\n      });\n    });\n  }\n});\nrouter.get('/payment/complete/', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    var queryData = url.parse(req.url, true).query;\n    console.log('queryData', queryData);\n    db.query(\"update Student set Point = Point - ? where Email_Address = ?;\\n            update Instructor_Time_Date set Course_Active = 1 where Teacher_ID = ? and TIME_ID = ? and Date_ID = ? and Course_ID = ? ;\\n            insert into Section(Student_ID, Teacher_ID, Course_ID, DATE_ID, TIME_ID, Increase_Count, Decrease_Count, Max_Count) values(?,?,?,?,?,0,?,?);\\n            insert into Payment(Order_ID, Student_ID, Teacher_ID, DATE_ID, TIME_ID, Course_ID, Original_price, Discount_price, Final_price) value(?,?,?,?,?,?,?,?,?);\\n            \", [queryData.point, req.session.email, queryData.teacher_id, queryData.time_id, queryData.date_id, queryData.course_id, req.session.Student_Id, queryData.teacher_id, queryData.course_id, queryData.date_id, queryData.time_id, queryData.count, queryData.count, queryData.merchant_uid, req.session.Student_Id, queryData.teacher_id, queryData.date_id, queryData.time_id, queryData.course_id, queryData.original_price, queryData.point, queryData.final_price], function (error, result) {\n      if (error) throw error;\n      console.log('payment', result);\n      res.redirect('/');\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInRlbXBsYXRlIiwiYXBwIiwiZGIiLCJhdXRoQ2hlY2siLCJ1cmwiLCJzYW5pdGl6ZUh0bWwiLCJUb2tlbnMiLCJ0b2tlbnMiLCJnZXQiLCJyZXEiLCJyZXMiLCJzZXNzaW9uIiwic2VjcmV0Iiwic2VjcmV0U3luYyIsInRva2VuIiwiY3JlYXRlIiwidmVyaWZ5IiwiRXJyb3IiLCJyZW5kZXIiLCJzdGF0dXNVSSIsImlzT3duZXIiLCJyZWRpcmVjdCIsImRhdGFMaXN0IiwiYSIsInF1ZXJ5IiwiQ291cnNlX3R5cGUiLCJsZW5ndGgiLCJiIiwiQ291cnNlX2RheSIsImMiLCJDb3Vyc2VfdGltZSIsIk51bWJlciIsImVycm9yMiIsIkluc3RydWN0b3IiLCJkYXRhIiwicHVzaCIsInNldFRpbWVvdXQiLCJlbnJvbGxfbGlzdCIsIkVucm9sbF9saXN0IiwicG9zdCIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwiU3R1ZGVudCIsImVtYWlsIiwiQ291cnNlX0lkIiwicGFyYW1zIiwiQ291cnNlSWQiLCJEYXRlX0lkIiwiRGF0ZUlkIiwiVGltZV9JZCIsIlRJTUVJZCIsIlRlYWNoZXJfSWQiLCJUZWFjaGVySWQiLCJlcnJvciIsInJlc3VsdCIsIlByaWNlIiwicHJpY2UiLCJQb2ludCIsIkNvdXJzZV9BY3RpdmUiLCJDb3Vyc2VfSUQiLCJEYXRlX0lEIiwiVGltZV9JRCIsIlRlYWNoZXJfSUQiLCJTdWJqZWN0IiwiTmFtZSIsIkVtYWlsX0FkZHJlc3MiLCJQaG9uZV9OdW1iZXIiLCJBZGRyZXNzIiwiUmVjb21tYW5kX0lEIiwicXVlcnlEYXRhIiwicGFyc2UiLCJwb2ludCIsInRlYWNoZXJfaWQiLCJ0aW1lX2lkIiwiZGF0ZV9pZCIsImNvdXJzZV9pZCIsIlN0dWRlbnRfSWQiLCJjb3VudCIsIm1lcmNoYW50X3VpZCIsIm9yaWdpbmFsX3ByaWNlIiwiZmluYWxfcHJpY2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFuZy15ZW9uZ2phZS9EZXNrdG9wL2NvZGluZy1uYXJhLW1hc3Rlci9saWIvIiwic291cmNlcyI6WyJlbnJvbGxfcGFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xudmFyIHRlbXBsYXRlID0gcmVxdWlyZSgnLi90ZW1wbGF0ZScpO1xuY29uc3QgYXBwID0gZXhwcmVzcygpXG52YXIgZGIgPSByZXF1aXJlKCcuLi9kYicpO1xudmFyIGF1dGhDaGVjayA9IHJlcXVpcmUoJy4uL2xpYl9sb2dpbi9hdXRoQ2hlY2suanMnKTtcbnZhciB1cmwgPSByZXF1aXJlKCd1cmwnKTtcbnZhciBzYW5pdGl6ZUh0bWwgPSByZXF1aXJlKCdzYW5pdGl6ZS1odG1sJyk7XG52YXIgVG9rZW5zID0gcmVxdWlyZShcImNzcmZcIik7XG52YXIgdG9rZW5zID0gbmV3IFRva2VucygpO1xuXG5cbnJvdXRlci5nZXQoJy9zdWInLCAocmVxLCByZXMpID0+IHtcbiAgICByZXEuc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICAgIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxLnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxLnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgICByZXMucmVuZGVyKCdlbnJvbGxfcGFnZV9iZWZvcmVfc2VhcmNoJyxcbiAgICAgICAge1xuICAgICAgICAgICAgYXV0aENoZWNrIDogYXV0aENoZWNrLnN0YXR1c1VJKHJlcSwgcmVzKVxuICAgICAgICB9KTtcbiAgICB9XG59KVxuXG5yb3V0ZXIuZ2V0KCcvc3ViX3Jlc3VsdCcsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcS5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXEuc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXEuc2Vzc2lvbi5zZWNyZXQsIHRva2VuKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gICAgfWVsc2V7XG4gICAgICAgIGlmICghYXV0aENoZWNrLmlzT3duZXIocmVxLCByZXMpKSB7ICAvLyDroZzqt7jsnbgg7JWI65CY7Ja07J6I7Jy866m0IOuhnOq3uOyduCDtjpjsnbTsp4DroZwg7J2064+Z7Iuc7YK0XG4gICAgICAgICAgICByZXMucmVkaXJlY3QoJy9hdXRoL2xvZ2luJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHZhciBkYXRhTGlzdD1bXTtcbiAgICAgICAgICAgIGZvcihsZXQgYT0wOyBhPHJlcS5xdWVyeS5Db3Vyc2VfdHlwZS5sZW5ndGg7IGErKyl7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBiPTA7IGI8cmVxLnF1ZXJ5LkNvdXJzZV9kYXkubGVuZ3RoOyBiKyspe1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGM9MDsgYzxyZXEucXVlcnkuQ291cnNlX3RpbWUubGVuZ3RoOyBjKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIucXVlcnkoYHNlbGVjdCAqIGZyb20gSW5zdHJ1Y3RvciBsZWZ0IGpvaW4gKHNlbGVjdCAqIGZyb20gSW5zdHJ1Y3Rvcl9UaW1lX0RhdGUgd2hlcmUgQ291cnNlX0FjdGl2ZSA9IDApIEFTIFRlbXAgIG9uIEluc3RydWN0b3IuVGVhY2hlcl9JRCA9IFRlbXAuVGVhY2hlcl9JRCBsZWZ0IGpvaW4gSW5zdHJ1Y3Rvcl9EQVRFIEFTIElEIG9uIElELkRhdGVfSUQgPSBUZW1wLkRhdGVfSUQgbGVmdCBqb2luIEluc3RydWN0b3JfVElNRSBBUyBJVCBvbiBJVC5USU1FX0lEID0gVGVtcC5USU1FX0lEICBsZWZ0IGpvaW4gQ291cnNlIEFTIEMgb24gVGVtcC5Db3Vyc2VfSUQgPSBDLkNvdXJzZV9JRCBcbiAgICAgICAgICAgICAgICAgICAgICAgIFdoZXJlIFRlbXAuQ291cnNlX0lEID0gPyBhbmQgVGVtcC5USU1FX0lEID0gPyBhbmQgVGVtcC5EYXRlX0lEID0gPztgLFtOdW1iZXIocmVxLnF1ZXJ5LkNvdXJzZV90eXBlW2FdKSwgTnVtYmVyKHJlcS5xdWVyeS5Db3Vyc2VfZGF5W2JdKSxOdW1iZXIocmVxLnF1ZXJ5LkNvdXJzZV90aW1lW2NdKV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihlcnJvcjIsIEluc3RydWN0b3Ipe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVycm9yMikgdGhyb3cgZXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXV0aENoZWNrLmlzT3duZXIocmVxLCByZXMpKSB7ICAvLyDroZzqt7jsnbgg7JWI65CY7Ja07J6I7Jy866m0IOuhnOq3uOyduCDtjpjsnbTsp4DroZwg7J2064+Z7Iuc7YK0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5yZWRpcmVjdCgnL2F1dGgvbG9naW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBkYXRhIG9mIEluc3RydWN0b3IpIGRhdGFMaXN0LnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cdFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGVucm9sbF9saXN0ID0gdGVtcGxhdGUuRW5yb2xsX2xpc3QoZGF0YUxpc3QpO1xuICAgICAgICByZXMucmVuZGVyKCdlbnJvbGxfcGFnZV9hZnRlcl9zZWFyY2gnLFxuICAgICAgICB7XG4gICAgICAgICAgICBhdXRoQ2hlY2sgOiBhdXRoQ2hlY2suc3RhdHVzVUkocmVxLCByZXMpLFxuICAgICAgICAgICAgRW5yb2xsX2xpc3QgOiBlbnJvbGxfbGlzdFxuICAgICAgICB9KTtcbiAgICAgICAgfSwyMDApXG4gICAgfVxufSlcblxuIHJvdXRlci5nZXQoJy86VGVhY2hlcklkLzpDb3Vyc2VJZC86RGF0ZUlkLzpUSU1FSWQnLCAocmVxLHJlcykgPT4ge1xuICAgIHJlcS5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXEuc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXEuc2Vzc2lvbi5zZWNyZXQsIHRva2VuKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gICAgfWVsc2V7XG4gICAgICAgIHZhciBwb3N0ID0gcmVxLmJvZHk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwb3N0Jyxwb3N0KTtcbiAgICAgICAgdmFyIFN0dWRlbnQgPSBzYW5pdGl6ZUh0bWwocmVxLnNlc3Npb24uZW1haWwpO1xuICAgICAgICB2YXIgQ291cnNlX0lkID0gc2FuaXRpemVIdG1sKHJlcS5wYXJhbXMuQ291cnNlSWQpO1xuICAgICAgICB2YXIgRGF0ZV9JZCA9IHNhbml0aXplSHRtbChyZXEucGFyYW1zLkRhdGVJZCk7XG4gICAgICAgIHZhciBUaW1lX0lkID0gc2FuaXRpemVIdG1sKHJlcS5wYXJhbXMuVElNRUlkKTtcbiAgICAgICAgdmFyIFRlYWNoZXJfSWQgPSBzYW5pdGl6ZUh0bWwocmVxLnBhcmFtcy5UZWFjaGVySWQpO1xuICAgICAgICBkYi5xdWVyeShcbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgIHNlbGVjdCBDLlN1YmplY3QsIHByaWNlIGZyb20gQ291cnNlIEFTIEMgbGVmdCBqb2luIENvdXJzZV9QcmljZSBBUyBDUCBvbiBDLnN1YmplY3QgPSBDUC5zdWJqZWN0IHdoZXJlIEMuQ291cnNlX0lEID0gPzsgXG4gICAgICAgICAgICBzZWxlY3QgKiBmcm9tIFN0dWRlbnQgd2hlcmUgRW1haWxfQWRkcmVzcyA9ID87IFxuICAgICAgICAgICAgc2VsZWN0ICogZnJvbSBJbnN0cnVjdG9yX1RpbWVfRGF0ZSB3aGVyZSBUZWFjaGVyX0lEID0gPyBhbmQgQ291cnNlX0lEID0gPyBhbmQgREFURV9JRCA9ID8gYW5kIFRJTUVfSUQ7XG4gICAgICAgICAgICBgLFtDb3Vyc2VfSWQsIFN0dWRlbnQsIFRlYWNoZXJfSWQsIENvdXJzZV9JZCwgRGF0ZV9JZCwgVGltZV9JZF0sXG4gICAgICAgICAgICAoZXJyb3IsIHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQnLHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmVzLnJlbmRlcignZW5yb2xsX3BhZ2VfcGF5bWVudCcsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhdXRoQ2hlY2sgOiBhdXRoQ2hlY2suc3RhdHVzVUkocmVxLCByZXMpLFxuICAgICAgICAgICAgICAgICAgICBQcmljZSA6IHJlc3VsdFswXVswXS5wcmljZSxcbiAgICAgICAgICAgICAgICAgICAgUG9pbnQgOiByZXN1bHRbMV1bMF0uUG9pbnQsXG4gICAgICAgICAgICAgICAgICAgIENvdXJzZV9BY3RpdmUgOiByZXN1bHRbMl1bMF0uQ291cnNlX0FjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgQ291cnNlX0lEIDogQ291cnNlX0lkLFxuICAgICAgICAgICAgICAgICAgICBEYXRlX0lEIDogRGF0ZV9JZCxcbiAgICAgICAgICAgICAgICAgICAgVGltZV9JRCA6IFRpbWVfSWQsXG4gICAgICAgICAgICAgICAgICAgIFRlYWNoZXJfSUQgOiBUZWFjaGVyX0lkLFxuICAgICAgICAgICAgICAgICAgICBTdWJqZWN0IDogcmVzdWx0WzBdWzBdLlN1YmplY3QsXG4gICAgICAgICAgICAgICAgICAgIE5hbWUgOiByZXN1bHRbMV1bMF0uTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgRW1haWxfQWRkcmVzcyA6IHJlc3VsdFsxXVswXS5FbWFpbF9BZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBQaG9uZV9OdW1iZXIgOiByZXN1bHRbMV1bMF0uUGhvbmVfTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICBBZGRyZXNzIDogcmVzdWx0WzFdWzBdLkFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIFJlY29tbWFuZF9JRCA6IHJlc3VsdFsxXVswXS5SZWNvbW1hbmRfSUQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgfVxufSlcblxuIHJvdXRlci5nZXQoJy9wYXltZW50L2NvbXBsZXRlLycsKHJlcSxyZXMpID0+IHtcbiAgICByZXEuc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICAgIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxLnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxLnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgICB2YXIgcXVlcnlEYXRhID0gdXJsLnBhcnNlKHJlcS51cmwsIHRydWUpLnF1ZXJ5O1xuICAgICAgICBjb25zb2xlLmxvZygncXVlcnlEYXRhJywgcXVlcnlEYXRhKTtcbiAgICAgICAgZGIucXVlcnkoXG4gICAgICAgICAgICBgdXBkYXRlIFN0dWRlbnQgc2V0IFBvaW50ID0gUG9pbnQgLSA/IHdoZXJlIEVtYWlsX0FkZHJlc3MgPSA/O1xuICAgICAgICAgICAgdXBkYXRlIEluc3RydWN0b3JfVGltZV9EYXRlIHNldCBDb3Vyc2VfQWN0aXZlID0gMSB3aGVyZSBUZWFjaGVyX0lEID0gPyBhbmQgVElNRV9JRCA9ID8gYW5kIERhdGVfSUQgPSA/IGFuZCBDb3Vyc2VfSUQgPSA/IDtcbiAgICAgICAgICAgIGluc2VydCBpbnRvIFNlY3Rpb24oU3R1ZGVudF9JRCwgVGVhY2hlcl9JRCwgQ291cnNlX0lELCBEQVRFX0lELCBUSU1FX0lELCBJbmNyZWFzZV9Db3VudCwgRGVjcmVhc2VfQ291bnQsIE1heF9Db3VudCkgdmFsdWVzKD8sPyw/LD8sPywwLD8sPyk7XG4gICAgICAgICAgICBpbnNlcnQgaW50byBQYXltZW50KE9yZGVyX0lELCBTdHVkZW50X0lELCBUZWFjaGVyX0lELCBEQVRFX0lELCBUSU1FX0lELCBDb3Vyc2VfSUQsIE9yaWdpbmFsX3ByaWNlLCBEaXNjb3VudF9wcmljZSwgRmluYWxfcHJpY2UpIHZhbHVlKD8sPyw/LD8sPyw/LD8sPyw/KTtcbiAgICAgICAgICAgIGAsW3F1ZXJ5RGF0YS5wb2ludCxyZXEuc2Vzc2lvbi5lbWFpbFxuICAgICAgICAgICAgLCBxdWVyeURhdGEudGVhY2hlcl9pZCwgcXVlcnlEYXRhLnRpbWVfaWQsIHF1ZXJ5RGF0YS5kYXRlX2lkLCBxdWVyeURhdGEuY291cnNlX2lkXG4gICAgICAgICAgICAsIHJlcS5zZXNzaW9uLlN0dWRlbnRfSWQsIHF1ZXJ5RGF0YS50ZWFjaGVyX2lkICwgcXVlcnlEYXRhLmNvdXJzZV9pZCwgcXVlcnlEYXRhLmRhdGVfaWQsIHF1ZXJ5RGF0YS50aW1lX2lkLCBxdWVyeURhdGEuY291bnQsIHF1ZXJ5RGF0YS5jb3VudFxuICAgICAgICAgICAgLCBxdWVyeURhdGEubWVyY2hhbnRfdWlkLCByZXEuc2Vzc2lvbi5TdHVkZW50X0lkLCBxdWVyeURhdGEudGVhY2hlcl9pZCwgcXVlcnlEYXRhLmRhdGVfaWQsIHF1ZXJ5RGF0YS50aW1lX2lkLCBxdWVyeURhdGEuY291cnNlX2lkLCBxdWVyeURhdGEub3JpZ2luYWxfcHJpY2UsIHF1ZXJ5RGF0YS5wb2ludCwgcXVlcnlEYXRhLmZpbmFsX3ByaWNlXG4gICAgICAgIF0sXG4gICAgICAgIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpe1xuICAgICAgICBpZihlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwYXltZW50JyxyZXN1bHQpO1xuICAgICAgICByZXMucmVkaXJlY3QoJy8nKTtcbiAgICAgICAgfSk7XG4gICAgfVxuIH0pXG4gbW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNoQyxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxFQUFFO0FBQzdCLElBQUlDLFFBQVEsR0FBR0gsT0FBTyxDQUFDLFlBQVksQ0FBQztBQUNwQyxJQUFNSSxHQUFHLEdBQUdMLE9BQU8sRUFBRTtBQUNyQixJQUFJTSxFQUFFLEdBQUdMLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDekIsSUFBSU0sU0FBUyxHQUFHTixPQUFPLENBQUMsMkJBQTJCLENBQUM7QUFDcEQsSUFBSU8sR0FBRyxHQUFHUCxPQUFPLENBQUMsS0FBSyxDQUFDO0FBQ3hCLElBQUlRLFlBQVksR0FBR1IsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUMzQyxJQUFJUyxNQUFNLEdBQUdULE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsSUFBSVUsTUFBTSxHQUFHLElBQUlELE1BQU0sRUFBRTtBQUd6QlIsTUFBTSxDQUFDVSxHQUFHLENBQUMsTUFBTSxFQUFFLFVBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFLO0VBQzdCRCxHQUFHLENBQUNFLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHTCxNQUFN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","map":{"version":3,"names":["express","require","router","Router","template","app","db","authCheck","url","sanitizeHtml","Tokens","tokens","get","req","res","session","secret","secretSync","token","create","verify","Error","render","statusUI","isOwner","redirect","dataList","a","query","Course_type","length","b","Course_day","c","Course_time","Number","error2","Instructor","data","push","setTimeout","enroll_list","Enroll_list","post","body","console","log","Student","email","Course_Id","params","CourseId","Date_Id","DateId","Time_Id","TIMEId","Teacher_Id","TeacherId","error","result","Price","price","Point","Course_Active","Course_ID","Date_ID","Time_ID","Teacher_ID","Subject","Name","Email_Address","Phone_Number","Address","Recommand_ID","queryData","parse","point","teacher_id","time_id","date_id","course_id","Student_Id","count","merchant_uid","original_price","final_price","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/","sources":["enroll_page.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar template = require('./template');\nconst app = express()\nvar db = require('../db');\nvar authCheck = require('../lib_login/authCheck.js');\nvar url = require('url');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\n\n\nrouter.get('/sub', (req, res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        res.render('enroll_page_before_search',\n        {\n            authCheck : authCheck.statusUI(req, res)\n        });\n    }\n})\n\nrouter.get('/sub_result', (req, res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        if (!authCheck.isOwner(req, res)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n            res.redirect('/auth/login');\n            return false;\n        }\n        else{\n            var dataList=[];\n            for(let a=0; a<req.query.Course_type.length; a++){\n                for(let b=0; b<req.query.Course_day.length; b++){\n                    for(let c=0; c<req.query.Course_time.length; c++){\n                        db.query(`select * from Instructor left join (select * from Instructor_Time_Date where Course_Active = 0) AS Temp  on Instructor.Teacher_ID = Temp.Teacher_ID left join Instructor_DATE AS ID on ID.Date_ID = Temp.Date_ID left join Instructor_TIME AS IT on IT.TIME_ID = Temp.TIME_ID  left join Course AS C on Temp.Course_ID = C.Course_ID \n                        Where Temp.Course_ID = ? and Temp.TIME_ID = ? and Temp.Date_ID = ?;`,[Number(req.query.Course_type[a]), Number(req.query.Course_day[b]),Number(req.query.Course_time[c])],\n                        function(error2, Instructor){\n                            if(error2) throw error2;\n                            if (!authCheck.isOwner(req, res)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n                                res.redirect('/auth/login');\n                                return false;\n                            }else {\n                                for(var data of Instructor) dataList.push(data);\n                            }\n                            }\t\n                        )\n                    }\n                }\n            }\n        }\n        setTimeout(function(){\n        var enroll_list = template.Enroll_list(dataList);\n        res.render('enroll_page_after_search',\n        {\n            authCheck : authCheck.statusUI(req, res),\n            Enroll_list : enroll_list\n        });\n        },200)\n    }\n})\n\n router.get('/:TeacherId/:CourseId/:DateId/:TIMEId', (req,res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        var post = req.body;\n        console.log('post',post);\n        var Student = sanitizeHtml(req.session.email);\n        var Course_Id = sanitizeHtml(req.params.CourseId);\n        var Date_Id = sanitizeHtml(req.params.DateId);\n        var Time_Id = sanitizeHtml(req.params.TIMEId);\n        var Teacher_Id = sanitizeHtml(req.params.TeacherId);\n        db.query(\n            `\n            select C.Subject, price from Course AS C left join Course_Price AS CP on C.subject = CP.subject where C.Course_ID = ?; \n            select * from Student where Email_Address = ?; \n            select * from Instructor_Time_Date where Teacher_ID = ? and Course_ID = ? and DATE_ID = ? and TIME_ID;\n            `,[Course_Id, Student, Teacher_Id, Course_Id, Date_Id, Time_Id],\n            (error, result) => {\n            if(error) throw error;\n                console.log('result',result);\n                res.render('enroll_page_payment',\n                {\n                    authCheck : authCheck.statusUI(req, res),\n                    Price : result[0][0].price,\n                    Point : result[1][0].Point,\n                    Course_Active : result[2][0].Course_Active,\n                    Course_ID : Course_Id,\n                    Date_ID : Date_Id,\n                    Time_ID : Time_Id,\n                    Teacher_ID : Teacher_Id,\n                    Subject : result[0][0].Subject,\n                    Name : result[1][0].Name,\n                    Email_Address : result[1][0].Email_Address,\n                    Phone_Number : result[1][0].Phone_Number,\n                    Address : result[1][0].Address,\n                    Recommand_ID : result[1][0].Recommand_ID,\n                });\n        })\n    }\n})\n\n router.get('/payment/complete/',(req,res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        var queryData = url.parse(req.url, true).query;\n        console.log('queryData', queryData);\n        db.query(\n            `update Student set Point = Point - ? where Email_Address = ?;\n            update Instructor_Time_Date set Course_Active = 1 where Teacher_ID = ? and TIME_ID = ? and Date_ID = ? and Course_ID = ? ;\n            insert into Section(Student_ID, Teacher_ID, Course_ID, DATE_ID, TIME_ID, Increase_Count, Decrease_Count, Max_Count) values(?,?,?,?,?,0,?,?);\n            insert into Payment(Order_ID, Student_ID, Teacher_ID, DATE_ID, TIME_ID, Course_ID, Original_price, Discount_price, Final_price) value(?,?,?,?,?,?,?,?,?);\n            `,[queryData.point,req.session.email\n            , queryData.teacher_id, queryData.time_id, queryData.date_id, queryData.course_id\n            , req.session.Student_Id, queryData.teacher_id , queryData.course_id, queryData.date_id, queryData.time_id, queryData.count, queryData.count\n            , queryData.merchant_uid, req.session.Student_Id, queryData.teacher_id, queryData.date_id, queryData.time_id, queryData.course_id, queryData.original_price, queryData.point, queryData.final_price\n        ],\n        function(error, result){\n        if(error) throw error;\n        console.log('payment',result);\n        res.redirect('/');\n        });\n    }\n })\n module.exports = router;"],"mappings":"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"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/template.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar sanitizeHtml = require('sanitize-html');\nmodule.exports = {\n  list: function list(topics) {\n    var list = '';\n    var i = 0;\n    console.log(topics);\n    while (i < topics.length) {\n      list = list + \"<tr>\\n                    <td><a href=\\\"/review/page/\".concat(topics[i].Review_ID, \"\\\">\").concat(i + 1, \"</a></td>\\n                    <th>\\n                    <a href=\\\"/review/page/\").concat(topics[i].Review_ID, \"\\\">\\n                    \").concat(topics[i].Title, \"\\n                    </a>\\n                    </th>\\n                    <td>\").concat(topics[i].Create_at, \"</a></td>\\n                    </tr>\");\n      i = i + 1;\n    }\n    list = list + '';\n    return list;\n  },\n  authorSelect: function authorSelect(authors, author_id, nickname) {\n    var tag = '';\n    var i = 0;\n    while (i < authors.length) {\n      var selected = '';\n      if (authors[i].Student_ID === author_id) {\n        selected = ' selected';\n      }\n      if (authors[i].Login_ID === nickname) {\n        tag += \"<option value=\\\"\".concat(authors[i].Student_ID, \"\\\"\").concat(sanitizeHtml(selected), \">\").concat(authors[i].Login_ID, \"</option>\");\n      }\n      i++;\n    }\n    return \"\\n      <select name=\\\"author_id\\\">\\n        \".concat(tag, \"\\n      </select>\\n    \");\n  },\n  Enroll_list: function Enroll_list(topics) {\n    var list = '<ol class=\"mylist\">';\n    var i = 0;\n    console.log('topics', topics);\n    while (i < topics.length) {\n      list = list + \"\\n      <li>\\n        <a href=\\\"/enroll/\".concat(sanitizeHtml(topics[i].Teacher_ID), \"/\").concat(sanitizeHtml(topics[i].Course_ID), \"/\").concat(sanitizeHtml(topics[i].DATE_ID), \"/\").concat(sanitizeHtml(topics[i].TIME_ID), \"\\\"> \\n            <div>\\n            <p>Name :  \").concat(sanitizeHtml(topics[i].Name), \" </p>\\n            </div>\\n            <div align=\\\"center\\\"> Course_ID : \").concat(sanitizeHtml(topics[i].Subject), \"</div>\\n            <div align=\\\"right\\\"><p>Time_ID : \").concat(sanitizeHtml(topics[i].Available_Start_Time), \" Date_ID : \").concat(sanitizeHtml(topics[i].Available_DATE), \" </p></div>\\n          </a>\\n       </li>\\n       \");\n      i = i + 1;\n    }\n    list = list + '</ol>';\n    return list;\n  },\n  create_auth: function create_auth(authors, author_id, nickname) {\n    var i = author_id;\n    if (authors[i - 1].Login_ID === nickname) {\n      return \"\";\n    }\n    return \"\\n    <script type=\\\"text/javascript\\\">alert(\\\"\\uAD8C\\uD55C\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\\\");\\n    document.location.href=\\\"/review\\\";\\n    </script>\\n    \";\n  },\n  authorSelect_create: function authorSelect_create(authors, nickname) {\n    var tag = '';\n    var i = 0;\n    while (i < authors.length) {\n      var selected = '';\n      if (authors[i].Login_ID === nickname) {\n        selected = ' selected';\n      }\n      if (authors[i].Login_ID === nickname) {\n        tag += \"<option value=\\\"\".concat(authors[i].Student_ID, \"\\\"\").concat(selected, \">\").concat(authors[i].Login_ID, \"</option>\");\n      }\n      i++;\n    }\n    return \"\\n      <select  name=\\\"author_id\\\">\\n        \".concat(tag, \"\\n      </select>\\n    \");\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzYW5pdGl6ZUh0bWwiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImxpc3QiLCJ0b3BpY3MiLCJpIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsIlJldmlld19JRCIsIlRpdGxlIiwiQ3JlYXRlX2F0IiwiYXV0aG9yU2VsZWN0IiwiYXV0aG9ycyIsImF1dGhvcl9pZCIsIm5pY2tuYW1lIiwidGFnIiwic2VsZWN0ZWQiLCJTdHVkZW50X0lEIiwiTG9naW5fSUQiLCJFbnJvbGxfbGlzdCIsIlRlYWNoZXJfSUQiLCJDb3Vyc2VfSUQiLCJEQVRFX0lEIiwiVElNRV9JRCIsIk5hbWUiLCJTdWJqZWN0IiwiQXZhaWxhYmxlX1N0YXJ0X1RpbWUiLCJBdmFpbGFibGVfREFURSIsImNyZWF0ZV9hdXRoIiwiYXV0aG9yU2VsZWN0X2NyZWF0ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS1tYXN0ZXIvbGliLyIsInNvdXJjZXMiOlsidGVtcGxhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHNhbml0aXplSHRtbCA9IHJlcXVpcmUoJ3Nhbml0aXplLWh0bWwnKTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBsaXN0OmZ1bmN0aW9uKHRvcGljcyl7XG4gICAgdmFyIGxpc3QgPSAnJztcbiAgICB2YXIgaSA9IDA7XG4gICAgY29uc29sZS5sb2codG9waWNzKVxuICAgIHdoaWxlKGkgPCB0b3BpY3MubGVuZ3RoKXtcbiAgICAgIGxpc3QgPSBsaXN0ICsgYDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRkPjxhIGhyZWY9XCIvcmV2aWV3L3BhZ2UvJHt0b3BpY3NbaV0uUmV2aWV3X0lEfVwiPiR7aSsxfTwvYT48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIvcmV2aWV3L3BhZ2UvJHt0b3BpY3NbaV0uUmV2aWV3X0lEfVwiPlxuICAgICAgICAgICAgICAgICAgICAke3RvcGljc1tpXS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHt0b3BpY3NbaV0uQ3JlYXRlX2F0fTwvYT48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8L3RyPmA7XG4gICAgICBpID0gaSArIDE7XG4gICAgfVxuICAgIGxpc3QgPSBsaXN0KycnO1xuICAgIHJldHVybiBsaXN0O1xuICB9LGF1dGhvclNlbGVjdDpmdW5jdGlvbihhdXRob3JzLCBhdXRob3JfaWQsIG5pY2tuYW1lKXtcbiAgICB2YXIgdGFnID0gJyc7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlKGkgPCBhdXRob3JzLmxlbmd0aCl7XG4gICAgICB2YXIgc2VsZWN0ZWQgPSAnJztcbiAgICAgIGlmKGF1dGhvcnNbaV0uU3R1ZGVudF9JRCA9PT0gYXV0aG9yX2lkKSB7XG4gICAgICAgIHNlbGVjdGVkID0gJyBzZWxlY3RlZCc7XG4gICAgICB9XG4gICAgICBpZihhdXRob3JzW2ldLkxvZ2luX0lEID09PSBuaWNrbmFtZSl7XG4gICAgICB0YWcgKz0gYDxvcHRpb24gdmFsdWU9XCIke2F1dGhvcnNbaV0uU3R1ZGVudF9JRH1cIiR7c2FuaXRpemVIdG1sKHNlbGVjdGVkKX0+JHthdXRob3JzW2ldLkxvZ2luX0lEfTwvb3B0aW9uPmA7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBgXG4gICAgICA8c2VsZWN0IG5hbWU9XCJhdXRob3JfaWRcIj5cbiAgICAgICAgJHt0YWd9XG4gICAgICA8L3NlbGVjdD5cbiAgICBgXG4gIH0sRW5yb2xsX2xpc3QgOiBmdW5jdGlvbih0b3BpY3Mpe1xuICAgIHZhciBsaXN0ID0gJzxvbCBjbGFzcz1cIm15bGlzdFwiPic7XG4gICAgdmFyIGkgPSAwO1xuICAgIGNvbnNvbGUubG9nKCd0b3BpY3MnLCB0b3BpY3MpO1xuICAgIHdoaWxlKGkgPCB0b3BpY3MubGVuZ3RoKXtcbiAgICAgIGxpc3QgPSBsaXN0ICsgYFxuICAgICAgPGxpPlxuICAgICAgICA8YSBocmVmPVwiL2Vucm9sbC8ke3Nhbml0aXplSHRtbCh0b3BpY3NbaV0uVGVhY2hlcl9JRCl9LyR7c2FuaXRpemVIdG1sKHRvcGljc1tpXS5Db3Vyc2VfSUQpfS8ke3Nhbml0aXplSHRtbCh0b3BpY3NbaV0uREFURV9JRCl9LyR7c2FuaXRpemVIdG1sKHRvcGljc1tpXS5USU1FX0lEKX1cIj4gXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPHA+TmFtZSA6ICAke3Nhbml0aXplSHRtbCh0b3BpY3NbaV0uTmFtZSl9IDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBhbGlnbj1cImNlbnRlclwiPiBDb3Vyc2VfSUQgOiAke3Nhbml0aXplSHRtbCh0b3BpY3NbaV0uU3ViamVjdCl9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGFsaWduPVwicmlnaHRcIj48cD5UaW1lX0lEIDogJHtzYW5pdGl6ZUh0bWwodG9waWNzW2ldLkF2YWlsYWJsZV9TdGFydF9UaW1lKX0gRGF0ZV9JRCA6ICR7c2FuaXRpemVIdG1sKHRvcGljc1tpXS5BdmFpbGFibGVfREFURSl9IDwvcD48L2Rpdj5cbiAgICAgICAgICA8L2E+XG4gICAgICAgPC9saT5cbiAgICAgICBgO1xuICAgICAgaSA9IGkgKyAxO1xuICAgIH1cbiAgICBsaXN0ID0gbGlzdCsnPC9vbD4nO1xuICAgIHJldHVybiBsaXN0O1xuICB9XG4gICxjcmVhdGVfYXV0aDpmdW5jdGlvbihhdXRob3JzLCBhdXRob3JfaWQsIG5pY2tuYW1lKXtcbiAgICAgIHZhciBpID0gYXV0aG9yX2lkO1xuICAgICAgaWYoYXV0aG9yc1tpLTFdLkxvZ2luX0lEID09PSBuaWNrbmFtZSApIHtcbiAgICAgICAgcmV0dXJuYGBcbiAgICAgIH1cbiAgICByZXR1cm4gYFxuICAgIDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi6raM7ZWc7J20IOyXhuyKteuLiOuLpC5cIik7XG4gICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9yZXZpZXdcIjtcbiAgICA8L3NjcmlwdD5cbiAgICBgXG4gIH0sYXV0aG9yU2VsZWN0X2NyZWF0ZTpmdW5jdGlvbihhdXRob3JzLCBuaWNrbmFtZSl7XG4gICAgdmFyIHRhZyA9ICcnO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZShpIDwgYXV0aG9ycy5sZW5ndGgpe1xuICAgICAgdmFyIHNlbGVjdGVkID0gJyc7XG4gICAgICBpZihhdXRob3JzW2ldLkxvZ2luX0lEID09PSBuaWNrbmFtZSkge1xuICAgICAgICBzZWxlY3RlZCA9ICcgc2VsZWN0ZWQnO1xuICAgICAgfVxuICAgICAgaWYoYXV0aG9yc1tpXS5Mb2dpbl9JRCA9PT0gbmlja25hbWUpe1xuICAgICAgdGFnICs9IGA8b3B0aW9uIHZhbHVlPVwiJHthdXRob3JzW2ldLlN0dWRlbnRfSUR9XCIke3NlbGVjdGVkfT4ke2F1dGhvcnNbaV0uTG9naW5fSUR9PC9vcHRpb24+YDtcbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGBcbiAgICAgIDxzZWxlY3QgIG5hbWU9XCJhdXRob3JfaWRcIj5cbiAgICAgICAgJHt0YWd9XG4gICAgICA8L3NlbGVjdD5cbiAgICBgXG4gIH1cblxufSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDM0NDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2ZDLElBQUksRUFBQyxjQUFTQyxNQUFNLEVBQUM7SUFDbkIsSUFBSUQsSUFBSSxHQUFHLEVBQUU7SUFDYixJQUFJRSxDQUFDLEdBQUcsQ0FBQztJQUNUQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0gsTUFBTSxDQUFDO0lBQ25CLE9BQU1DLENBQUMsR0FBR0QsTUFBTSxDQUFDSSxNQUFNLEVBQUM7TUFDdEJMLElBQUksR0FBR0EsSUFBSSxrRUFDK0JDLE1BQU0s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","map":{"version":3,"names":["sanitizeHtml","require","module","exports","list","topics","i","console","log","length","Review_ID","Title","Create_at","authorSelect","authors","author_id","nickname","tag","selected","Student_ID","Login_ID","Enroll_list","Teacher_ID","Course_ID","DATE_ID","TIME_ID","Name","Subject","Available_Start_Time","Available_DATE","create_auth","authorSelect_create"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/","sources":["template.js"],"sourcesContent":["var sanitizeHtml = require('sanitize-html');\nmodule.exports = {\n  list:function(topics){\n    var list = '';\n    var i = 0;\n    console.log(topics)\n    while(i < topics.length){\n      list = list + `<tr>\n                    <td><a href=\"/review/page/${topics[i].Review_ID}\">${i+1}</a></td>\n                    <th>\n                    <a href=\"/review/page/${topics[i].Review_ID}\">\n                    ${topics[i].Title}\n                    </a>\n                    </th>\n                    <td>${topics[i].Create_at}</a></td>\n                    </tr>`;\n      i = i + 1;\n    }\n    list = list+'';\n    return list;\n  },authorSelect:function(authors, author_id, nickname){\n    var tag = '';\n    var i = 0;\n    while(i < authors.length){\n      var selected = '';\n      if(authors[i].Student_ID === author_id) {\n        selected = ' selected';\n      }\n      if(authors[i].Login_ID === nickname){\n      tag += `<option value=\"${authors[i].Student_ID}\"${sanitizeHtml(selected)}>${authors[i].Login_ID}</option>`;\n      }\n      i++;\n    }\n    return `\n      <select name=\"author_id\">\n        ${tag}\n      </select>\n    `\n  },Enroll_list : function(topics){\n    var list = '<ol class=\"mylist\">';\n    var i = 0;\n    console.log('topics', topics);\n    while(i < topics.length){\n      list = list + `\n      <li>\n        <a href=\"/enroll/${sanitizeHtml(topics[i].Teacher_ID)}/${sanitizeHtml(topics[i].Course_ID)}/${sanitizeHtml(topics[i].DATE_ID)}/${sanitizeHtml(topics[i].TIME_ID)}\"> \n            <div>\n            <p>Name :  ${sanitizeHtml(topics[i].Name)} </p>\n            </div>\n            <div align=\"center\"> Course_ID : ${sanitizeHtml(topics[i].Subject)}</div>\n            <div align=\"right\"><p>Time_ID : ${sanitizeHtml(topics[i].Available_Start_Time)} Date_ID : ${sanitizeHtml(topics[i].Available_DATE)} </p></div>\n          </a>\n       </li>\n       `;\n      i = i + 1;\n    }\n    list = list+'</ol>';\n    return list;\n  }\n  ,create_auth:function(authors, author_id, nickname){\n      var i = author_id;\n      if(authors[i-1].Login_ID === nickname ) {\n        return``\n      }\n    return `\n    <script type=\"text/javascript\">alert(\"권한이 없습니다.\");\n    document.location.href=\"/review\";\n    </script>\n    `\n  },authorSelect_create:function(authors, nickname){\n    var tag = '';\n    var i = 0;\n    while(i < authors.length){\n      var selected = '';\n      if(authors[i].Login_ID === nickname) {\n        selected = ' selected';\n      }\n      if(authors[i].Login_ID === nickname){\n      tag += `<option value=\"${authors[i].Student_ID}\"${selected}>${authors[i].Login_ID}</option>`;\n      }\n      i++;\n    }\n    return `\n      <select  name=\"author_id\">\n        ${tag}\n      </select>\n    `\n  }\n\n}"],"mappings":"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"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/review_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar template = require('./template');\nvar db = require('../db');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nrouter.get('/', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    db.query(\"SELECT * FROM Review\", function (error, Reviews) {\n      var title = '';\n      var Description = '리뷰입니다';\n      var list = template.list(Reviews);\n      response.render('review_page_root', {\n        authCheck: authCheck.statusUI(request, response),\n        List: list,\n        Title: title\n      });\n    });\n  }\n});\nrouter.get('/page/:pageId', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    db.query(\"SELECT * FROM Review\", function (error, Reviews) {\n      console.log('req', request);\n      if (error) {\n        throw error;\n      }\n      db.query(\"SELECT * FROM Review LEFT JOIN Student ON Review.Student_ID=Student.Student_ID WHERE Review.Review_ID=?\", [request.params.pageId], function (error2, Review) {\n        if (error2) {\n          throw error2;\n        }\n        console.log(Review);\n        var title = Review[0].Title;\n        var description = Review[0].Description;\n        var login_ID = Review[0].Login_ID;\n        var list = template.list(Reviews);\n        var pageID = request.params.pageId;\n        response.render('review_page_enter', {\n          authCheck: authCheck.statusUI(request, response),\n          List: list,\n          Title: title,\n          Description: description,\n          Login_ID: login_ID,\n          Page_ID: pageID\n        });\n      });\n    });\n  }\n});\nrouter.get('/create', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (!authCheck.isOwner(request, response)) {\n      // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      response.redirect('/auth/login');\n      return false;\n    } else {\n      db.query(\"SELECT * FROM Review\", function (error, Reviews) {\n        db.query('SELECT * FROM Student', function (error2, authors) {\n          var nickname = request.session.nickname;\n          var Title = 'Create';\n          var list = template.list(Reviews);\n          console.log(list);\n          response.render('review_page_create', {\n            authCheck: authCheck.statusUI(request, response),\n            List: list,\n            Nickname: nickname\n          });\n        });\n      });\n    }\n  }\n});\nrouter.post('/create_process', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (!authCheck.isOwner(request, response)) {\n      // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    } else {\n      var post = request.body;\n      var sanitize_title = sanitizeHtml(post.Title);\n      var sanitize_description = sanitizeHtml(post.Description);\n      console.log('sani', sanitize_title, sanitize_description);\n      if (sanitize_title != '' && sanitize_description != '') {\n        db.query(\"\\n          INSERT INTO Review (Student_ID, Title, Description, Create_at, Login_ID, Order_subject) \\n            VALUES(?, ?,?,now(), ?, ?)\", [request.session.Student_Id, sanitize_title, sanitize_description, post.author, 1], function (error, result) {\n          if (error) {\n            throw error;\n          }\n          response.writeHead(302, {\n            Location: \"/review/create\"\n          });\n          response.end();\n        });\n      } else {\n        response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC798\\uBABB\\uB41C \\uC815\\uBCF4\\uB97C \\uC785\\uB825\\uD588\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n        document.location.href=\\\"/review/create\\\";</script>\");\n      }\n    }\n  }\n});\nrouter.get('/update/:pageId', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (!authCheck.isOwner(request, response)) {\n      // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    } else {\n      db.query('SELECT * FROM Review', function (error, Reviews) {\n        if (error) {\n          throw error;\n        }\n        db.query(\"SELECT * FROM Review WHERE Review_ID=?\", [request.params.pageId], function (error2, Review) {\n          if (error2) {\n            throw error2;\n          }\n          db.query('SELECT * FROM Student', function (error2, authors) {\n            var nickname = request.session.nickname;\n            var list = template.list(Reviews);\n            var title = Review[0].Title;\n            var description = Review[0].Description;\n            var login_ID = Review[0].Login_ID;\n            var list = template.list(Reviews);\n            var review_ID = Review[0].id;\n            response.render('review_page_update', {\n              authCheck: authCheck.statusUI(request, response),\n              List: list,\n              Title: title,\n              Description: description,\n              Login_ID: login_ID,\n              Nickname: nickname,\n              Review_ID: review_ID\n            });\n          });\n        });\n      });\n    }\n  }\n});\nrouter.post('/update_process', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (!authCheck.isOwner(req, res)) {\n      // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    } else {\n      var post = request.body;\n      console.log(post);\n      var sanitize_title = sanitizeHtml(post.Title);\n      var sanitize_description = sanitizeHtml(post.Description);\n      console.log('sani', sanitize_title, sanitize_description);\n      if (sanitize_title != '' && sanitize_description != '') {\n        db.query('UPDATE Review SET Title=?, Description=?, Student_ID=? WHERE Review_ID=?', [post.Title, post.Description, post.author_id, post.id], function (error, result) {\n          response.redirect(\"/review/page/\".concat(post.id));\n        });\n      } else {\n        response.redirect(\"/review/page/\".concat(post.id));\n      }\n    }\n  }\n});\nrouter.post('/delete_process', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (!authCheck.isOwner(request, response)) {\n      // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    } else {\n      var post = request.body;\n      db.query('DELETE FROM Review WHERE Review_ID = ?', [post.id], function (error, result) {\n        if (error) {\n          throw error;\n        }\n        response.writeHead(302, {\n          Location: \"/review\"\n        });\n        response.end();\n      });\n    }\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImF1dGhDaGVjayIsInRlbXBsYXRlIiwiZGIiLCJzYW5pdGl6ZUh0bWwiLCJUb2tlbnMiLCJ0b2tlbnMiLCJnZXQiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJzZXNzaW9uIiwic2VjcmV0Iiwic2VjcmV0U3luYyIsInRva2VuIiwiY3JlYXRlIiwidmVyaWZ5IiwiRXJyb3IiLCJxdWVyeSIsImVycm9yIiwiUmV2aWV3cyIsInRpdGxlIiwiRGVzY3JpcHRpb24iLCJsaXN0IiwicmVuZGVyIiwic3RhdHVzVUkiLCJMaXN0IiwiVGl0bGUiLCJjb25zb2xlIiwibG9nIiwicGFyYW1zIiwicGFnZUlkIiwiZXJyb3IyIiwiUmV2aWV3IiwiZGVzY3JpcHRpb24iLCJsb2dpbl9JRCIsIkxvZ2luX0lEIiwicGFnZUlEIiwiUGFnZV9JRCIsImlzT3duZXIiLCJyZWRpcmVjdCIsImF1dGhvcnMiLCJuaWNrbmFtZSIsIk5pY2tuYW1lIiwicG9zdCIsInJlcyIsImJvZHkiLCJzYW5pdGl6ZV90aXRsZSIsInNhbml0aXplX2Rlc2NyaXB0aW9uIiwiU3R1ZGVudF9JZCIsImF1dGhvciIsInJlc3VsdCIsIndyaXRlSGVhZCIsIkxvY2F0aW9uIiwiZW5kIiwic2VuZCIsInJldmlld19JRCIsImlkIiwiUmV2aWV3X0lEIiwicmVxIiwiYXV0aG9yX2lkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS1tYXN0ZXIvbGliLyIsInNvdXJjZXMiOlsicmV2aWV3X3BhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnZhciBhdXRoQ2hlY2sgPSByZXF1aXJlKCcuLi9saWJfbG9naW4vYXV0aENoZWNrLmpzJyk7XG52YXIgdGVtcGxhdGUgPSByZXF1aXJlKCcuL3RlbXBsYXRlJyk7XG52YXIgZGIgPSByZXF1aXJlKCcuLi9kYicpO1xudmFyIHNhbml0aXplSHRtbCA9IHJlcXVpcmUoJ3Nhbml0aXplLWh0bWwnKTtcbnZhciBUb2tlbnMgPSByZXF1aXJlKFwiY3NyZlwiKTtcbnZhciB0b2tlbnMgPSBuZXcgVG9rZW5zKCk7XG5cbnJvdXRlci5nZXQoJy8nLCBmdW5jdGlvbihyZXF1ZXN0LHJlc3BvbnNlKXtcbiAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxdWVzdC5zZXNzaW9uLnNlY3JldCk7XG4gIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgfWVsc2V7XG4gICAgZGIucXVlcnkoYFNFTEVDVCAqIEZST00gUmV2aWV3YCwgZnVuY3Rpb24oZXJyb3IsUmV2aWV3cyl7XG4gICAgICB2YXIgdGl0bGUgPSAnJztcbiAgICAgIHZhciBEZXNjcmlwdGlvbiA9ICfrpqzrt7DsnoXri4jri6QnO1xuICAgICAgdmFyIGxpc3QgPSB0ZW1wbGF0ZS5saXN0KFJldmlld3MpO1xuICAgICAgcmVzcG9uc2UucmVuZGVyKCdyZXZpZXdfcGFnZV9yb290JyxcbiAgICAgIHtcbiAgICAgICAgYXV0aENoZWNrIDogYXV0aENoZWNrLnN0YXR1c1VJKHJlcXVlc3QsIHJlc3BvbnNlKSxcbiAgICAgICAgTGlzdCA6IGxpc3QsXG4gICAgICAgIFRpdGxlIDogdGl0bGVcbiAgICAgIH0pO1xuICB9KVxuICB9XG59KVxuXG5yb3V0ZXIuZ2V0KCcvcGFnZS86cGFnZUlkJywgZnVuY3Rpb24ocmVxdWVzdCxyZXNwb25zZSl7XG4gIHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gIH1lbHNle1xuICBkYi5xdWVyeShgU0VMRUNUICogRlJPTSBSZXZpZXdgLCBmdW5jdGlvbihlcnJvcixSZXZpZXdzKXtcbiAgICBjb25zb2xlLmxvZygncmVxJyxyZXF1ZXN0KTtcbiAgICAgIGlmKGVycm9yKXtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICBkYi5xdWVyeShgU0VMRUNUICogRlJPTSBSZXZpZXcgTEVGVCBKT0lOIFN0dWRlbnQgT04gUmV2aWV3LlN0dWRlbnRfSUQ9U3R1ZGVudC5TdHVkZW50X0lEIFdIRVJFIFJldmlldy5SZXZpZXdfSUQ9P2AsW3JlcXVlc3QucGFyYW1zLnBhZ2VJZF0sIGZ1bmN0aW9uKGVycm9yMiwgUmV2aWV3KXtcbiAgICAgICAgaWYoZXJyb3IyKXtcbiAgICAgICAgICB0aHJvdyBlcnJvcjI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coUmV2aWV3KTtcbiAgICAgICAgdmFyIHRpdGxlID0gUmV2aWV3WzBdLlRpdGxlO1xuICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSBSZXZpZXdbMF0uRGVzY3JpcHRpb247XG4gICAgICAgIHZhciBsb2dpbl9JRCA9UmV2aWV3WzBdLkxvZ2luX0lEXG4gICAgICAgIHZhciBsaXN0ID0gdGVtcGxhdGUubGlzdChSZXZpZXdzKTtcbiAgICAgICAgdmFyIHBhZ2VJRCA9IHJlcXVlc3QucGFyYW1zLnBhZ2VJZFxuICAgICAgICByZXNwb25zZS5yZW5kZXIoJ3Jldmlld19wYWdlX2VudGVyJyxcbiAgICAgICAge1xuICAgICAgICBhdXRoQ2hlY2sgOiBhdXRoQ2hlY2suc3RhdHVzVUkocmVxdWVzdCwgcmVzcG9uc2UpLFxuICAgICAgICBMaXN0IDogbGlzdCxcbiAgICAgICAgVGl0bGUgOiB0aXRsZSxcbiAgICAgICAgRGVzY3JpcHRpb24gOiBkZXNjcmlwdGlvbixcbiAgICAgICAgTG9naW5fSUQgOiBsb2dpbl9JRCxcbiAgICAgICAgUGFnZV9JRCA6IHBhZ2VJRFxuICAgICAgICB9KTtcbiAgICAgfSlcbiAgfSlcbn1cbn0pXG5cbnJvdXRlci5nZXQoJy9jcmVhdGUnLCBmdW5jdGlvbihyZXF1ZXN0LHJlc3BvbnNlKXtcbiAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxdWVzdC5zZXNzaW9uLnNlY3JldCk7XG4gIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgfWVsc2V7XG4gICAgaWYgKCFhdXRoQ2hlY2suaXNPd25lcihyZXF1ZXN0LCByZXNwb25zZSkpIHsgIC8vIOuhnOq3uOyduCDslYjrkJjslrTsnojsnLzrqbQg66Gc6re47J24IO2OmOydtOyngOuhnCDsnbTrj5nsi5ztgrRcbiAgICAgIHJlc3BvbnNlLnJlZGlyZWN0KCcvYXV0aC9sb2dpbicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1lbHNlIHtcbiAgICAgICBkYi5xdWVyeShgU0VMRUNUICogRlJPTSBSZXZpZXdgLCBmdW5jdGlvbihlcnJvcixSZXZpZXdzKXtcbiAgICAgICAgZGIucXVlcnkoJ1NFTEVDVCAqIEZST00gU3R1ZGVudCcsIGZ1bmN0aW9uKGVycm9yMiwgYXV0aG9ycyl7XG4gICAgICAgICAgdmFyIG5pY2tuYW1lID0gcmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lO1xuICAgICAgICAgIHZhciBUaXRsZSA9ICdDcmVhdGUnO1xuICAgICAgICAgIHZhciBsaXN0ID0gdGVtcGxhdGUubGlzdChSZXZpZXdzKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhsaXN0KTtcbiAgICAgICAgICByZXNwb25zZS5yZW5kZXIoJ3Jldmlld19wYWdlX2NyZWF0ZScsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYXV0aENoZWNrIDogYXV0aENoZWNrLnN0YXR1c1VJKHJlcXVlc3QsIHJlc3BvbnNlKSxcbiAgICAgICAgICAgIExpc3QgOiBsaXN0LFxuICAgICAgICAgICAgTmlja25hbWUgOiBuaWNrbmFtZVxuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSlcbiAgfVxufVxufSlcblxuXG5yb3V0ZXIucG9zdCgnL2NyZWF0ZV9wcm9jZXNzJyxmdW5jdGlvbihyZXF1ZXN0LHJlc3BvbnNlKXtcbiAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxdWVzdC5zZXNzaW9uLnNlY3JldCk7XG4gIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgfWVsc2V7XG4gICAgaWYgKCFhdXRoQ2hlY2suaXNPd25lcihyZXF1ZXN0LCByZXNwb25zZSkpIHsgIC8vIOuhnOq3uOyduCDslYjrkJjslrTsnojsnLzrqbQg66Gc6re47J24IO2OmOydtOyngOuhnCDsnbTrj5nsi5ztgrRcbiAgICAgIHJlcy5yZWRpcmVjdCgnL2F1dGgvbG9naW4nKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9ZWxzZSB7XG4gICAgICB2YXIgcG9zdCA9IHJlcXVlc3QuYm9keTtcbiAgICAgIHZhciBzYW5pdGl6ZV90aXRsZSA9IHNhbml0aXplSHRtbChwb3N0LlRpdGxlKTtcbiAgICAgIHZhciBzYW5pdGl6ZV9kZXNjcmlwdGlvbiA9IHNhbml0aXplSHRtbChwb3N0LkRlc2NyaXB0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCdzYW5pJyxzYW5pdGl6ZV90aXRsZSwgc2FuaXRpemVfZGVzY3JpcHRpb24pO1xuICAgICAgaWYoc2FuaXRpemVfdGl0bGUgIT0gJycgJiYgc2FuaXRpemVfZGVzY3JpcHRpb24gIT0gJycpe1xuICAgICAgICBkYi5xdWVyeShgXG4gICAgICAgICAgSU5TRVJUIElOVE8gUmV2aWV3IChTdHVkZW50X0lELCBUaXRsZSwgRGVzY3JpcHRpb24sIENyZWF0ZV9hdCwgTG9naW5fSUQsIE9yZGVyX3N1YmplY3QpIFxuICAgICAgICAgICAgVkFMVUVTKD8sID8sPyxub3coKSwgPywgPylgLFxuICAgICAgICAgIFtyZXF1ZXN0LnNlc3Npb24uU3R1ZGVudF9JZCwgc2FuaXRpemVfdGl0bGUsIHNhbml0aXplX2Rlc2NyaXB0aW9uLCAgcG9zdC5hdXRob3IsMV0sIFxuICAgICAgICAgIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpe1xuICAgICAgICAgICAgaWYoZXJyb3Ipe1xuICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3BvbnNlLndyaXRlSGVhZCgzMDIsIHtMb2NhdGlvbjogYC9yZXZpZXcvY3JlYXRlYH0pO1xuICAgICAgICAgICAgcmVzcG9uc2UuZW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmVzcG9uc2Uuc2VuZChgPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+YWxlcnQoXCLsnpjrqrvrkJwg7KCV67O066W8IOyeheugpe2WiOyKteuLiOuLpC5cIik7IFxuICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPVwiL3Jldmlldy9jcmVhdGVcIjs8L3NjcmlwdD5gKTsgXG4gICAgICB9XG4gICAgfVxuICB9XG59KVxuXG5cbiAgcm91dGVyLmdldCgnL3VwZGF0ZS86cGFnZUlkJyxmdW5jdGlvbihyZXF1ZXN0LHJlc3BvbnNlKXtcbiAgICByZXF1ZXN0LnNlc3Npb24uc2VjcmV0ID0gdG9rZW5zLnNlY3JldFN5bmMoKTtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgaWYgKCFhdXRoQ2hlY2suaXNPd25lcihyZXF1ZXN0LCByZXNwb25zZSkpIHsgIC8vIOuhnOq3uOyduCDslYjrkJjslrTsnojsnLzrqbQg66Gc6re47J24IO2OmOydtOyngOuhnCDsnbTrj5nsi5ztgrRcbiAgICAgICAgcmVzLnJlZGlyZWN0KCcvYXV0aC9sb2dpbicpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZSB7ICAgICAgXG4gICAgICAgIGRiLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIFJldmlldycsIGZ1bmN0aW9uKGVycm9yLCBSZXZpZXdzKXtcbiAgICAgICAgICAgIGlmKGVycm9yKXtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYi5xdWVyeShgU0VMRUNUICogRlJPTSBSZXZpZXcgV0hFUkUgUmV2aWV3X0lEPT9gLFtyZXF1ZXN0LnBhcmFtcy5wYWdlSWRdLCBmdW5jdGlvbihlcnJvcjIsIFJldmlldyl7XG4gICAgICAgICAgICAgIGlmKGVycm9yMil7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3IyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRiLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIFN0dWRlbnQnLCBmdW5jdGlvbihlcnJvcjIsIGF1dGhvcnMpe1xuICAgICAgICAgICAgICAgIHZhciBuaWNrbmFtZSA9IHJlcXVlc3Quc2Vzc2lvbi5uaWNrbmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHRlbXBsYXRlLmxpc3QoUmV2aWV3cyk7XG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gUmV2aWV3WzBdLlRpdGxlO1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IFJldmlld1swXS5EZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB2YXIgbG9naW5fSUQgPVJldmlld1swXS5Mb2dpbl9JRFxuICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gdGVtcGxhdGUubGlzdChSZXZpZXdzKTtcbiAgICAgICAgICAgICAgICB2YXIgcmV2aWV3X0lEID0gUmV2aWV3WzBdLmlkO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlbmRlcigncmV2aWV3X3BhZ2VfdXBkYXRlJyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXV0aENoZWNrIDogYXV0aENoZWNrLnN0YXR1c1VJKHJlcXVlc3QsIHJlc3BvbnNlKSxcbiAgICAgICAgICAgICAgICBMaXN0IDogbGlzdCxcbiAgICAgICAgICAgICAgICBUaXRsZSA6IHRpdGxlLFxuICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uIDogZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgTG9naW5fSUQgOiBsb2dpbl9JRCxcbiAgICAgICAgICAgICAgICBOaWNrbmFtZSA6IG5pY2tuYW1lLFxuICAgICAgICAgICAgICAgIFJldmlld19JRCA6IHJldmlld19JRCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxufSlcblxuXG5yb3V0ZXIucG9zdCgnL3VwZGF0ZV9wcm9jZXNzJywgZnVuY3Rpb24ocmVxdWVzdCxyZXNwb25zZSl7XG4gIHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gIH1lbHNle1xuICAgIGlmICghYXV0aENoZWNrLmlzT3duZXIocmVxLCByZXMpKSB7ICAvLyDroZzqt7jsnbgg7JWI65CY7Ja07J6I7Jy866m0IOuhnOq3uOyduCDtjpjsnbTsp4DroZwg7J2064+Z7Iuc7YK0XG4gICAgICByZXMucmVkaXJlY3QoJy9hdXRoL2xvZ2luJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfWVsc2Uge1xuICAgICAgdmFyIHBvc3QgPSByZXF1ZXN0LmJvZHk7XG4gICAgICBjb25zb2xlLmxvZyhwb3N0KTtcbiAgICAgIHZhciBzYW5pdGl6ZV90aXRsZSA9IHNhbml0aXplSHRtbChwb3N0LlRpdGxlKTtcbiAgICAgIHZhciBzYW5pdGl6ZV9kZXNjcmlwdGlvbiA9IHNhbml0aXplSHRtbChwb3N0LkRlc2NyaXB0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCdzYW5pJyxzYW5pdGl6ZV90aXRsZSwgc2FuaXRpemVfZGVzY3JpcHRpb24pO1xuICAgICAgaWYoc2FuaXRpemVfdGl0bGUgIT0gJycgJiYgc2FuaXRpemVfZGVzY3JpcHRpb24gIT0gJycpe1xuICAgICAgICBkYi5xdWVyeSgnVVBEQVRFIFJldmlldyBTRVQgVGl0bGU9PywgRGVzY3JpcHRpb249PywgU3R1ZGVudF9JRD0/IFdIRVJFIFJldmlld19JRD0/JywgW3Bvc3QuVGl0bGUsIHBvc3QuRGVzY3JpcHRpb24sIHBvc3QuYXV0aG9yX2lkLCBwb3N0LmlkXSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCl7XG4gICAgICAgICAgcmVzcG9uc2UucmVkaXJlY3QoYC9yZXZpZXcvcGFnZS8ke3Bvc3QuaWR9YClcbiAgICAgICAgfSlcbiAgICAgIH1lbHNle1xuICAgICAgICByZXNwb25zZS5yZWRpcmVjdChgL3Jldmlldy9wYWdlLyR7cG9zdC5pZH1gKVxuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cbnJvdXRlci5wb3N0KCcvZGVsZXRlX3Byb2Nlc3MnLCBmdW5jdGlvbihyZXF1ZXN0LCByZXNwb25zZSl7XG4gIHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gIH1lbHNle1xuICAgIGlmICghYXV0aENoZWNrLmlzT3duZXIocmVxdWVzdCwgcmVzcG9uc2UpKSB7ICAvLyDroZzqt7jsnbgg7JWI65CY7Ja07J6I7Jy866m0IOuhnOq3uOyduCDtjpjsnbTsp4DroZwg7J2064+Z7Iuc7YK0XG4gICAgICByZXMucmVkaXJlY3QoJy9hdXRoL2xvZ2luJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfWVsc2Uge1xuICAgICAgdmFyIHBvc3QgPSByZXF1ZXN0LmJvZHk7XG4gICAgICBkYi5xdWVyeSgnREVMRVRFIEZST00gUmV2aWV3IFdIRVJFIFJldmlld19JRCA9ID8nLCBbcG9zdC5pZF0sIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpe1xuICAgICAgICBpZihlcnJvcil7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmVzcG9uc2Uud3JpdGVIZWFkKDMwMiwge0xvY2F0aW9uOiBgL3Jldmlld2B9KTtcbiAgICAgICAgcmVzcG9uc2UuZW5kKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pO1xubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2hDLElBQUlDLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLEVBQUU7QUFDN0IsSUFBSUMsU0FBUyxHQUFHSCxPQUFPLENBQUMsMkJBQTJCLENBQUM7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","map":{"version":3,"names":["express","require","router","Router","authCheck","template","db","sanitizeHtml","Tokens","tokens","get","request","response","session","secret","secretSync","token","create","verify","Error","query","error","Reviews","title","Description","list","render","statusUI","List","Title","console","log","params","pageId","error2","Review","description","login_ID","Login_ID","pageID","Page_ID","isOwner","redirect","authors","nickname","Nickname","post","res","body","sanitize_title","sanitize_description","Student_Id","author","result","writeHead","Location","end","send","review_ID","id","Review_ID","req","author_id","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-master/lib/","sources":["review_page.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar template = require('./template');\nvar db = require('../db');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\n\nrouter.get('/', function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    db.query(`SELECT * FROM Review`, function(error,Reviews){\n      var title = '';\n      var Description = '리뷰입니다';\n      var list = template.list(Reviews);\n      response.render('review_page_root',\n      {\n        authCheck : authCheck.statusUI(request, response),\n        List : list,\n        Title : title\n      });\n  })\n  }\n})\n\nrouter.get('/page/:pageId', function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n  db.query(`SELECT * FROM Review`, function(error,Reviews){\n    console.log('req',request);\n      if(error){\n        throw error;\n      }\n      db.query(`SELECT * FROM Review LEFT JOIN Student ON Review.Student_ID=Student.Student_ID WHERE Review.Review_ID=?`,[request.params.pageId], function(error2, Review){\n        if(error2){\n          throw error2;\n        }\n        console.log(Review);\n        var title = Review[0].Title;\n        var description = Review[0].Description;\n        var login_ID =Review[0].Login_ID\n        var list = template.list(Reviews);\n        var pageID = request.params.pageId\n        response.render('review_page_enter',\n        {\n        authCheck : authCheck.statusUI(request, response),\n        List : list,\n        Title : title,\n        Description : description,\n        Login_ID : login_ID,\n        Page_ID : pageID\n        });\n     })\n  })\n}\n})\n\nrouter.get('/create', function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    if (!authCheck.isOwner(request, response)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      response.redirect('/auth/login');\n      return false;\n    }else {\n       db.query(`SELECT * FROM Review`, function(error,Reviews){\n        db.query('SELECT * FROM Student', function(error2, authors){\n          var nickname = request.session.nickname;\n          var Title = 'Create';\n          var list = template.list(Reviews);\n          console.log(list);\n          response.render('review_page_create',\n          {\n            authCheck : authCheck.statusUI(request, response),\n            List : list,\n            Nickname : nickname\n          });\n      });\n    })\n  }\n}\n})\n\n\nrouter.post('/create_process',function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    if (!authCheck.isOwner(request, response)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    }else {\n      var post = request.body;\n      var sanitize_title = sanitizeHtml(post.Title);\n      var sanitize_description = sanitizeHtml(post.Description);\n      console.log('sani',sanitize_title, sanitize_description);\n      if(sanitize_title != '' && sanitize_description != ''){\n        db.query(`\n          INSERT INTO Review (Student_ID, Title, Description, Create_at, Login_ID, Order_subject) \n            VALUES(?, ?,?,now(), ?, ?)`,\n          [request.session.Student_Id, sanitize_title, sanitize_description,  post.author,1], \n          function(error, result){\n            if(error){\n              throw error;\n            }\n            response.writeHead(302, {Location: `/review/create`});\n            response.end();\n          }\n        )\n      }else{\n        response.send(`<script type=\"text/javascript\">alert(\"잘못된 정보를 입력했습니다.\"); \n        document.location.href=\"/review/create\";</script>`); \n      }\n    }\n  }\n})\n\n\n  router.get('/update/:pageId',function(request,response){\n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n      if (!authCheck.isOwner(request, response)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n        res.redirect('/auth/login');\n        return false;\n      }else {      \n        db.query('SELECT * FROM Review', function(error, Reviews){\n            if(error){\n              throw error;\n            }\n            db.query(`SELECT * FROM Review WHERE Review_ID=?`,[request.params.pageId], function(error2, Review){\n              if(error2){\n                throw error2;\n              }\n              db.query('SELECT * FROM Student', function(error2, authors){\n                var nickname = request.session.nickname;\n                var list = template.list(Reviews);\n                var title = Review[0].Title;\n                var description = Review[0].Description;\n                var login_ID =Review[0].Login_ID\n                var list = template.list(Reviews);\n                var review_ID = Review[0].id;\n                response.render('review_page_update',\n                {\n                authCheck : authCheck.statusUI(request, response),\n                List : list,\n                Title : title,\n                Description : description,\n                Login_ID : login_ID,\n                Nickname : nickname,\n                Review_ID : review_ID,\n                });\n              });\n            });\n        });\n      }\n    }\n})\n\n\nrouter.post('/update_process', function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    if (!authCheck.isOwner(req, res)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    }else {\n      var post = request.body;\n      console.log(post);\n      var sanitize_title = sanitizeHtml(post.Title);\n      var sanitize_description = sanitizeHtml(post.Description);\n      console.log('sani',sanitize_title, sanitize_description);\n      if(sanitize_title != '' && sanitize_description != ''){\n        db.query('UPDATE Review SET Title=?, Description=?, Student_ID=? WHERE Review_ID=?', [post.Title, post.Description, post.author_id, post.id], function(error, result){\n          response.redirect(`/review/page/${post.id}`)\n        })\n      }else{\n        response.redirect(`/review/page/${post.id}`)\n      }\n    }\n  }\n});\n\nrouter.post('/delete_process', function(request, response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    if (!authCheck.isOwner(request, response)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    }else {\n      var post = request.body;\n      db.query('DELETE FROM Review WHERE Review_ID = ?', [post.id], function(error, result){\n        if(error){\n          throw error;\n        }\n        response.writeHead(302, {Location: `/review`});\n        response.end();\n      });\n    }\n  }\n});\nmodule.exports = router;\n"],"mappings":"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"}},"mtime":1674885110542},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/main.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _socket = _interopRequireDefault(require(\"socket.io\"));\nvar _http = _interopRequireDefault(require(\"http\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar express = require('express');\nvar session = require('express-session');\nvar bodyParser = require('body-parser');\nvar FileStore = require('session-file-store')(session);\nvar app = express();\nvar port = 54213;\nvar qs = require('querystring');\nvar authRouter = require('./lib_login/auth');\nvar main_Router = require('./lib/main_page');\nvar curi_Router = require('./lib/curi_page');\nvar ask_Router = require('./lib/ask_page');\nvar mypage_Router = require('./lib/my_page');\nvar enroll_Router = require('./lib/enroll_page');\nvar review_Router = require('./lib/review_page');\nvar handleListen = function handleListen() {\n  return console.log(\"Listen on http://localhost:54213\");\n};\nvar _dirname = _path[\"default\"].resolve();\n/*nsp check로 package.json에 있는 dependencies를 체크하여 문제가 있는 것들을 알려준다.*/\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n  extended: false\n}));\n// app.set(\"views\", path.join(__dirname, \"views\"));\n// app.set(\"view engine\", \"pug\");\napp.use(\"/js\", express[\"static\"](_dirname + \"/js\"));\napp.use(\"/CSS\", express[\"static\"](_dirname + \"/CSS\"));\napp.use(\"/static\", express[\"static\"](_dirname + \"/static\"));\napp.use(\"/image\", express[\"static\"](_dirname + \"/image\"));\napp.set('views', _dirname + \"/views\");\napp.set(\"view engine\", \"ejs\");\napp.use(session({\n  secret: '~~~',\n  // 원하는 문자 입력\n  resave: false,\n  saveUninitialized: true,\n  store: new FileStore({\n    logFn: function logFn() {}\n  })\n}));\n/*보안*/\nvar helmet = require('helmet');\napp.use(helmet());\napp.use(helmet.xssFilter());\napp.disable(\"x-powered-by\");\napp.use(helmet.frameguard(\"deny\"));\napp.use(helmet.noSniff());\napp.use(function (req, res, next) {\n  res.removeHeader(\"Cross-Origin-Embedder-Policy\");\n  next();\n});\napp.use(helmet.contentSecurityPolicy({\n  directives: {\n    \"default-src\": [\"'self'\", \"'unsafe-inline'\"],\n    \"frame-src\": ['*'],\n    \"form-action\": [\"'self'\", '*.inicis.com', '*.localhost:54213'],\n    \"script-src\": [\"'self'\", '*.naver.com', \"unpkg.com\", \"*.googleapis.com\", \"*.cloudflare.com\", \"*.jsdelivr.net\", \"*.startbootstrap.com\", \"*.kakaocdn.net\", '*.jquery.com', '*.iamport.kr', '*.inicis.com', \"'unsafe-inline'\"],\n    \"script-src-attr\": [\"'self'\", \"'unsafe-inline'\"],\n    \"img-src\": [\"'self'\", 'data:', \"*.naver.com\", \"*.kakaocdn.net\", \"localhost:54213\", \"'unsafe-inline'\"],\n    \"connect-src\": [\"'self'\", \"'unsafe-inline'\", \"unpkg.com\"],\n    \"media-src\": [\"'self'\", \"'unsafe-inline'\"]\n  }\n}));\n\n/*CSRF*/\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\n\n/*DDOS*/\nvar rateLimit = require(\"express-rate-limit\");\nvar apiLimiter = rateLimit({\n  windowMs: 1 * 60 * 1000,\n  max: 30,\n  standardHeaders: true,\n  legacyHeaders: false\n});\napp.get('/', function (req, res) {\n  apiLimiter, res.redirect('/main');\n});\n\n// // 인증 라우터\napp.use('/auth', apiLimiter, authRouter);\n\n// 메인 페이지\napp.use('/main', apiLimiter, main_Router);\n\n//커리큘럼\napp.use('/curriculum', apiLimiter, curi_Router);\napp.use('/ask', apiLimiter, ask_Router);\n\n//고객센터\napp.use('/enroll', apiLimiter, enroll_Router);\napp.use('/review', apiLimiter, review_Router);\napp.use('/myinfo', apiLimiter, mypage_Router); //마이페이지\n\n// 서버 만들고\nvar httpServer = _http[\"default\"].createServer(app);\n// 소켓 서버랑 합치기\nvar wsServer = (0, _socket[\"default\"])(httpServer);\n\n//소켓 연결시\nwsServer.on(\"connection\", function (socket) {\n  apiLimiter,\n  // join Room\n  socket.on(\"join_room\", function (roomName) {\n    apiLimiter, socket.join(roomName);\n    socket.to(roomName).emit(\"welcome\");\n  });\n\n  // offer\n  socket.on(\"offer\", function (offer, roomName) {\n    apiLimiter, socket.to(roomName).emit(\"offer\", offer);\n  });\n\n  // answer\n  socket.on(\"answer\", function (answer, roomName) {\n    apiLimiter, socket.to(roomName).emit(\"answer\", answer);\n  });\n\n  //ice\n  socket.on(\"ice\", function (ice, roomName) {\n    apiLimiter, socket.to(roomName).emit(\"ice\", ice);\n  });\n});\nhttpServer.listen(port, apiLimiter, handleListen);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInNlc3Npb24iLCJib2R5UGFyc2VyIiwiRmlsZVN0b3JlIiwiYXBwIiwicG9ydCIsInFzIiwiYXV0aFJvdXRlciIsIm1haW5fUm91dGVyIiwiY3VyaV9Sb3V0ZXIiLCJhc2tfUm91dGVyIiwibXlwYWdlX1JvdXRlciIsImVucm9sbF9Sb3V0ZXIiLCJyZXZpZXdfUm91dGVyIiwiaGFuZGxlTGlzdGVuIiwiY29uc29sZSIsImxvZyIsIl9fZGlybmFtZSIsInBhdGgiLCJyZXNvbHZlIiwidXNlIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInNldCIsInNlY3JldCIsInJlc2F2ZSIsInNhdmVVbmluaXRpYWxpemVkIiwic3RvcmUiLCJsb2dGbiIsImhlbG1ldCIsInhzc0ZpbHRlciIsImRpc2FibGUiLCJmcmFtZWd1YXJkIiwibm9TbmlmZiIsInJlcSIsInJlcyIsIm5leHQiLCJyZW1vdmVIZWFkZXIiLCJjb250ZW50U2VjdXJpdHlQb2xpY3kiLCJkaXJlY3RpdmVzIiwiVG9rZW5zIiwidG9rZW5zIiwicmF0ZUxpbWl0IiwiYXBpTGltaXRlciIsIndpbmRvd01zIiwibWF4Iiwic3RhbmRhcmRIZWFkZXJzIiwibGVnYWN5SGVhZGVycyIsImdldCIsInJlZGlyZWN0IiwiaHR0cFNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJ3c1NlcnZlciIsIlNvY2tldElPIiwib24iLCJzb2NrZXQiLCJyb29tTmFtZSIsImpvaW4iLCJ0byIsImVtaXQiLCJvZmZlciIsImFuc3dlciIsImljZSIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS13ZWJzb2NrZXQvIiwic291cmNlcyI6WyJtYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgU29ja2V0SU8gZnJvbSBcInNvY2tldC5pb1wiO1xuaW1wb3J0IGh0dHAgZnJvbSBcImh0dHBcIjtcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJylcbmNvbnN0IHNlc3Npb24gPSByZXF1aXJlKCdleHByZXNzLXNlc3Npb24nKVxuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XG5jb25zdCBGaWxlU3RvcmUgPSByZXF1aXJlKCdzZXNzaW9uLWZpbGUtc3RvcmUnKShzZXNzaW9uKVxuY29uc3QgYXBwID0gZXhwcmVzcygpXG5jb25zdCBwb3J0ID0gNTQyMTNcbnZhciBxcyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG52YXIgYXV0aFJvdXRlciA9IHJlcXVpcmUoJy4vbGliX2xvZ2luL2F1dGgnKTtcbnZhciBtYWluX1JvdXRlciA9IHJlcXVpcmUoJy4vbGliL21haW5fcGFnZScpO1xudmFyIGN1cmlfUm91dGVyID0gcmVxdWlyZSgnLi9saWIvY3VyaV9wYWdlJyk7XG52YXIgYXNrX1JvdXRlciA9IHJlcXVpcmUoJy4vbGliL2Fza19wYWdlJyk7XG52YXIgbXlwYWdlX1JvdXRlciA9IHJlcXVpcmUoJy4vbGliL215X3BhZ2UnKTtcbnZhciBlbnJvbGxfUm91dGVyID0gcmVxdWlyZSgnLi9saWIvZW5yb2xsX3BhZ2UnKTtcbnZhciByZXZpZXdfUm91dGVyID0gcmVxdWlyZSgnLi9saWIvcmV2aWV3X3BhZ2UnKTtcbmNvbnN0IGhhbmRsZUxpc3RlbiA9ICgpID0+IGNvbnNvbGUubG9nKFwiTGlzdGVuIG9uIGh0dHA6Ly9sb2NhbGhvc3Q6NTQyMTNcIik7XG5jb25zdCBfX2Rpcm5hbWUgPSBwYXRoLnJlc29sdmUoKTtcbi8qbnNwIGNoZWNr66GcIHBhY2thZ2UuanNvbuyXkCDsnojripQgZGVwZW5kZW5jaWVz66W8IOyytO2BrO2VmOyXrCDrrLjsoJzqsIAg7J6I64qUIOqyg+uTpOydhCDslYzroKTspIDri6QuKi9cbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xuLy8gYXBwLnNldChcInZpZXdzXCIsIHBhdGguam9pbihfX2Rpcm5hbWUsIFwidmlld3NcIikpO1xuLy8gYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwicHVnXCIpO1xuYXBwLnVzZShcIi9qc1wiLCBleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUgKyBcIi9qc1wiKSk7XG5hcHAudXNlKFwiL0NTU1wiLCBleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUgKyBcIi9DU1NcIikpO1xuYXBwLnVzZShcIi9zdGF0aWNcIiwgZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsgXCIvc3RhdGljXCIpKTtcbmFwcC51c2UoXCIvaW1hZ2VcIiwgZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsgXCIvaW1hZ2VcIikpO1xuXG5hcHAuc2V0KCd2aWV3cycsIF9fZGlybmFtZSArIFwiL3ZpZXdzXCIgKTtcbmFwcC5zZXQoXCJ2aWV3IGVuZ2luZVwiLCBcImVqc1wiKTtcblxuYXBwLnVzZShzZXNzaW9uKHtcbiAgc2VjcmV0OiAnfn5+JyxcdC8vIOybkO2VmOuKlCDrrLjsnpAg7J6F66ClXG4gIHJlc2F2ZTogZmFsc2UsXG4gIHNhdmVVbmluaXRpYWxpemVkOiB0cnVlLFxuICBzdG9yZTpuZXcgRmlsZVN0b3JlKHtsb2dGbjogZnVuY3Rpb24oKXt9fSksXG5cbn0pKVxuLyrrs7TslYgqL1xudmFyIGhlbG1ldCA9IHJlcXVpcmUoJ2hlbG1ldCcpO1xuYXBwLnVzZShoZWxtZXQoKSk7XG5hcHAudXNlKGhlbG1ldC54c3NGaWx0ZXIoKSk7XG5hcHAuZGlzYWJsZShcIngtcG93ZXJlZC1ieVwiKTtcbmFwcC51c2UoaGVsbWV0LmZyYW1lZ3VhcmQoXCJkZW55XCIpKTtcbmFwcC51c2UoaGVsbWV0Lm5vU25pZmYoKSk7XG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICByZXMucmVtb3ZlSGVhZGVyKFwiQ3Jvc3MtT3JpZ2luLUVtYmVkZGVyLVBvbGljeVwiKTtcbiAgbmV4dCgpO1xufSk7XG5hcHAudXNlKGhlbG1ldC5jb250ZW50U2VjdXJpdHlQb2xpY3koe1xuICBkaXJlY3RpdmVzOiB7XG4gICAgXCJkZWZhdWx0LXNyY1wiOltcIidzZWxmJ1wiLFwiJ3Vuc2FmZS1pbmxpbmUnXCJdLFxuICAgIFwiZnJhbWUtc3JjXCIgOlsnKiddLFxuICAgIFwiZm9ybS1hY3Rpb25cIiA6IFtcIidzZWxmJ1wiLCcqLmluaWNpcy5jb20nLCcqLmxvY2FsaG9zdDo1NDIxMyddLFxuICAgIFwic2NyaXB0LXNyY1wiOiBbXCInc2VsZidcIiwnKi5uYXZlci5jb20nLFwidW5wa2cuY29tXCIsXCIqLmdvb2dsZWFwaXMuY29tXCIsXCIqLmNsb3VkZmxhcmUuY29tXCIsXCIqLmpzZGVsaXZyLm5ldFwiLFwiKi5zdGFydGJvb3RzdHJhcC5jb21cIixcIioua2FrYW9jZG4ubmV0XCIsJyouanF1ZXJ5LmNvbScsJyouaWFtcG9ydC5rcicsJyouaW5pY2lzLmNvbScsXCIndW5zYWZlLWlubGluZSdcIl0sXG4gICAgXCJzY3JpcHQtc3JjLWF0dHJcIiA6IFtcIidzZWxmJ1wiLFwiJ3Vuc2FmZS1pbmxpbmUnXCJdLFxuICAgIFwiaW1nLXNyY1wiOiBbXCInc2VsZidcIiwgJ2RhdGE6JywgXCIqLm5hdmVyLmNvbVwiLCBcIioua2FrYW9jZG4ubmV0XCIsXCJsb2NhbGhvc3Q6NTQyMTNcIixcIid1bnNhZmUtaW5saW5lJ1wiXSxcbiAgICBcImNvbm5lY3Qtc3JjXCIgOiBbXCInc2VsZidcIixcIid1bnNhZmUtaW5saW5lJ1wiLFwidW5wa2cuY29tXCJdLFxuICAgIFwibWVkaWEtc3JjXCIgOiBbXCInc2VsZidcIixcIid1bnNhZmUtaW5saW5lJ1wiXSxcbiAgfSxcbn0pKTtcblxuLypDU1JGKi9cbnZhciBUb2tlbnMgPSByZXF1aXJlKFwiY3NyZlwiKTtcbnZhciB0b2tlbnMgPSBuZXcgVG9rZW5zKCk7XG5cbi8qRERPUyovXG52YXIgcmF0ZUxpbWl0ID0gcmVxdWlyZShcImV4cHJlc3MtcmF0ZS1saW1pdFwiKTsgXG5jb25zdCBhcGlMaW1pdGVyID0gIHJhdGVMaW1pdCh7IFxuICB3aW5kb3dNczogMSo2MCoxMDAwLCBcbiAgbWF4OiAzMCxcbiAgc3RhbmRhcmRIZWFkZXJzOiB0cnVlLFxuICBsZWdhY3lIZWFkZXJzOiBmYWxzZSxcbn0pXG5cblxuYXBwLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xuICBhcGlMaW1pdGVyLFxuICByZXMucmVkaXJlY3QoJy9tYWluJyk7XG59KVxuXG5cbi8vIC8vIOyduOymnSDrnbzsmrDthLBcbmFwcC51c2UoJy9hdXRoJywgYXBpTGltaXRlciwgYXV0aFJvdXRlcik7XG5cbi8vIOuplOyduCDtjpjsnbTsp4BcbmFwcC51c2UoJy9tYWluJywgYXBpTGltaXRlciwgbWFpbl9Sb3V0ZXIpO1xuXG4vL+y7pOumrO2BmOufvFxuYXBwLnVzZSgnL2N1cnJpY3VsdW0nLCBhcGlMaW1pdGVyLCBjdXJpX1JvdXRlcik7XG5cbmFwcC51c2UoJy9hc2snLCBhcGlMaW1pdGVyLCBhc2tfUm91dGVyKTtcblxuLy/qs6DqsJ3shLzthLBcbmFwcC51c2UoJy9lbnJvbGwnLCBhcGlMaW1pdGVyLCBlbnJvbGxfUm91dGVyKTtcblxuYXBwLnVzZSgnL3JldmlldycsIGFwaUxpbWl0ZXIsIHJldmlld19Sb3V0ZXIpO1xuXG5hcHAudXNlKCcvbXlpbmZvJywgYXBpTGltaXRlciwgbXlwYWdlX1JvdXRlcik7Ly/rp4jsnbTtjpjsnbTsp4BcblxuXG4vLyDshJzrsoQg66eM65Ok6rOgXG5jb25zdCBodHRwU2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXBwKTtcbi8vIOyGjOy8kyDshJzrsoTrnpEg7ZWp7LmY6riwXG5jb25zdCB3c1NlcnZlciA9IFNvY2tldElPKGh0dHBTZXJ2ZXIpO1xuXG4vL+yGjOy8kyDsl7DqsrDsi5xcbndzU2VydmVyLm9uKFwiY29ubmVjdGlvblwiLCAoc29ja2V0KSA9PiB7XG4gIGFwaUxpbWl0ZXIsXG4gIC8vIGpvaW4gUm9vbVxuICBzb2NrZXQub24oXCJqb2luX3Jvb21cIiwgKHJvb21OYW1lKSA9PiB7XG4gICAgYXBpTGltaXRlcixcbiAgICBzb2NrZXQuam9pbihyb29tTmFtZSk7XG4gICAgc29ja2V0LnRvKHJvb21OYW1lKS5lbWl0KFwid2VsY29tZVwiKTtcbiAgfSk7XG5cbiAgLy8gb2ZmZXJcbiAgc29ja2V0Lm9uKFwib2ZmZXJcIiwgKG9mZmVyLCByb29tTmFtZSkgPT4ge1xuICAgIGFwaUxpbWl0ZXIsXG4gICAgc29ja2V0LnRvKHJvb21OYW1lKS5lbWl0KFwib2ZmZXJcIiwgb2ZmZXIpO1xuICB9KTtcblxuICAvLyBhbnN3ZXJcbiAgc29ja2V0Lm9uKFwiYW5zd2VyXCIsIChhbnN3ZXIsIHJvb21OYW1lKSA9PiB7XG4gICAgYXBpTGltaXRlcixcbiAgICBzb2NrZXQudG8ocm9vbU5hbWUpLmVtaXQoXCJhbnN3ZXJcIiwgYW5zd2VyKTtcbiAgfSk7XG5cbiAgLy9pY2VcbiAgc29ja2V0Lm9uKFwiaWNlXCIsIChpY2UsIHJvb21OYW1lKSA9PiB7XG4gICAgYXBpTGltaXRlcixcbiAgICBzb2NrZXQudG8ocm9vbU5hbWUpLmVtaXQoXCJpY2VcIiwgaWNlKTtcbiAgfSk7XG59KTtcblxuaHR0cFNlcnZlci5saXN0ZW4ocG9ydCwgYXBpTGltaXRlcixoYW5kbGVMaXN0ZW4pO1xuXG4gIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUF3QjtBQUN4QixJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsSUFBTUMsT0FBTyxHQUFHRCxPQUFPLENBQUMsaUJBQWlCLENBQUM7QUFDMUMsSUFBTUUsVUFBVSxHQUFHRixPQUFPLENBQUMsYUFBYSxDQUFDO0FBQ3pDLElBQU1HLFNBQVMsR0FBR0gsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUNDLE9BQU8sQ0FBQztBQUN4RCxJQUFNRyxHQUFHLEdBQUdMLE9BQU8sRUFBRTtBQUNyQixJQUFNTSxJQUFJLEdBQUcsS0FBSztBQUNsQixJQUFJQyxFQUFFLEdBQUdOLE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFDL0IsSUFBSU8sVUFBVSxHQUFHUCxPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFDNUMsSUFBSVEsV0FBVyxHQUFHUixPQUFPLENBQUMsaUJBQWlCLENBQUM7QUFDNUMsSUFBSVMsV0FBVyxHQUFHVCxPQUFPLENBQUMsaUJBQWlCLENBQUM7QUFDNUMsSUFBSVUsVUFBVSxHQUFHVixPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFDMUMsSUFBSVcsYUFBYSxHQUFHWCxPQUFPLENBQUMsZUFBZSxDQUFDO0FBQzVDLElBQUlZLGFBQWEsR0FBR1osT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBQ2hELElBQUlhLGFBQWEsR0FBR2IsT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBQ2hELElBQU1jLFlBQVksR0FBRyxTQUFmQSxZQUFZO0VBQUEsT0FBU0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0NBQWtDLENBQUM7QUFBQTtBQUMxRSxJQUFNQyxRQUFTLEdBQUdDLGdCQUFJLENBQUNDLE9BQU8sRUFBRTtBQUNoQztBQUNBZixHQUFHLENBQUNnQixHQUFHLENBQUNsQixVQUFVLENBQUNtQixJQUFJLEVBQUUsQ0FBQztBQUMxQmpCLEdBQUcsQ0FBQ2dCLEdBQUcsQ0FBQ2xCLFVBQVUsQ0FBQ29CLFVBQVUsQ0FBQztFQUFFQyxRQUFRLEVBQUU7QUFBTSxDQUFDLENBQUMsQ0FBQztBQUNuRDtBQUNBO0FBQ0FuQixHQUFHLENBQUNnQixHQUFHLENBQUMsS0FBSyxFQUFFckIsT0FBTyxVQUFPLENBQUNrQixRQUFTLEdBQUcsS0FBSyxDQUFDLENBQUM7QUFDakRiLEdBQUcsQ0FBQ2dCLEdBQUcsQ0FBQyxNQUFNLEVBQUVyQixPQUFPLFVBQU8sQ0FBQ2tCLFFBQVMsR0FBRyxNQUFNLENBQUMsQ0FBQztBQUNuRGIsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDLFNBQVMsRUFBRXJCLE9BQU8sVUFBTyxDQUFDa0IsUUFBUyxHQUFHLFNBQVMsQ0FBQyxDQUFDO0FBQ3pEYixHQUFHLENBQUNnQixHQUFHLENBQUMsUUFBUSxFQUFFckIsT0FBTyxVQUFPLENBQUNrQixRQUFTLEdBQUcsUUFBUSxDQUFDLENBQUM7QUFFdkRiLEdBQUcsQ0FBQ29CLEdBQUcsQ0FBQyxPQUFPLEVBQUVQLFFBQVMsR0FBRyxRQUFRLENBQUU7QUFDdkNiLEdBQUcsQ0FBQ29CLEdBQUcsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDO0FBRTdCcEIsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDbkIsT0FBTyxDQUFDO0VBQ2R3QixNQUFNLEVBQUUsS0FBSztFQUFFO0VBQ2ZDLE1BQU0sRUFBRSxLQUFLO0VBQ2JDLGlCQUFpQixFQUFFLElBQUk7RUFDdkJDLEtBQUssRUFBQyxJQUFJekIsU0FBUyxDQUFDO0lBQUMwQixLQUFLLEVBQUUsaUJBQVUsQ0FBQztFQUFDLENBQUM7QUFFM0MsQ0FBQyxDQUFDLENBQUM7QUFDSDtBQUNBLElBQUlDLE1BQU0sR0FBRzlCLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDOUJJLEdBQUcsQ0FBQ2dCLEdBQUcsQ0FBQ1UsTUFBTSxFQUFFLENBQUM7QUFDakIxQixHQUFHLENBQUNnQixHQUFHLENBQUNVLE1BQU0sQ0FBQ0MsU0FBUyxFQUFFLENBQUM7QUFDM0IzQixHQUFHLENBQUM0QixPQUFPLENBQUMsY0FBYyxDQUFDO0FBQzNCNUIsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDVSxNQUFNLENBQUNHLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNsQzdCLEdBQUcsQ0FBQ2dCLEdBQUcsQ0FBQ1UsTUFBTSxDQUFDSSxPQUFPLEVBQUUsQ0FBQztBQUN6QjlCLEdBQUcsQ0FBQ2dCLEdBQUcsQ0FBQyxVQUFDZSxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxFQUFLO0VBQzFCRCxHQUFHLENBQUNFLFlBQVksQ0FBQyw4QkFBOEIsQ0FBQztFQUNoREQsSUFBSSxFQUFFO0FBQ1IsQ0FBQyxDQUFDO0FBQ0ZqQyxHQUFHLENBQUNnQixHQUFHLENBQUNVLE1BQU0sQ0FBQ1MscUJBQXFCLENBQUM7RUFDbkNDLFVBQVUsRUFBRTtJQUNWLGFBQWEsRUFBQyxDQUFDLFFBQVEsRUFBQyxpQkFBaUIsQ0FBQztJQUMxQyxXQUFXLEVBQUUsQ0FBQyxHQUFHLENBQUM7SUFDbEIsYUFBYSxFQUFHLENBQUMsUUFBUSxFQUFDLGNBQWMsRUFBQyxtQkFBbUIsQ0FBQztJQUM3RCxZQUFZLEVBQUUsQ0FBQyxRQUFRLEVBQUMsYUFBYSxFQUFDLFdBQVcsRUFBQyxrQkFBa0IsRUFBQyxrQkFBa0IsRUFBQyxnQkFBZ0IsRUFBQyxzQkFBc0IsRUFBQyxnQkFBZ0IsRUFBQyxjQUFjLEVBQUMsY0FBYyxFQUFDLGNBQWMsRUFBQyxpQkFBaUIsQ0FBQztJQUNoTixpQkFBaUIsRUFBRyxDQUFDLFFBQVEsRUFBQyxpQkFBaUIsQ0FBQztJQUNoRCxTQUFTLEVBQUUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxnQkFBZ0IsRUFBQyxpQkFBaUIsRUFBQyxpQkFBaUIsQ0FBQztJQUNuRyxhQUFhLEVBQUcsQ0FBQyxRQUFRLEVBQUMsaUJBQWlCLEVBQUMsV0FBVyxDQUFDO0lBQ3hELFdBQVcsRUFBRyxDQUFDLFFBQVEsRUFBQyxpQkFBaUI7RUFDM0M7QUFDRixDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBLElBQUlDLE1BQU0sR0FBR3pDLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsSUFBSTBDLE1BQU0sR0FBRyxJQUFJRCxNQUFNLEVBQUU7O0FBRXpCO0FBQ0EsSUFBSUUsU0FBUyxHQUFHM0MsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBQzdDLElBQU00QyxVQUFVLEdBQUlELFNBQVMsQ0FBQztFQUM1QkUsUUFBUSxFQUFFLENBQUMsR0FBQyxFQUFFLEdBQUMsSUFBSTtFQUNuQkMsR0FBRyxFQUFFLEVBQUU7RUFDUEMsZUFBZSxFQUFFLElBQUk7RUFDckJDLGFBQWEsRUFBRTtBQUNqQixDQUFDLENBQUM7QUFHRjVDLEdBQUcsQ0FBQzZDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsVUFBQ2QsR0FBRyxFQUFFQyxHQUFHLEVBQUs7RUFDekJRLFVBQVUsRUFDVlIsR0FBRyxDQUFDYyxRQUFRLENBQUMsT0FBTyxDQUFDO0FBQ3ZCLENBQUMsQ0FBQzs7QUFHRjtBQUNBOUMsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDLE9BQU8sRUFBRXdCLFVBQVUsRUFBRXJDLFVBQVUsQ0FBQzs7QUFFeEM7QUFDQUgsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDLE9BQU8sRUFBRXdCLFVBQVUsRUFBRXBDLFdBQVcsQ0FBQzs7QUFFekM7QUFDQUosR0FBRyxDQUFDZ0IsR0FBRyxDQUFDLGFBQWEsRUFBRXdCLFVBQVUsRUFBRW5DLFdBQVcsQ0FBQztBQUUvQ0wsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDLE1BQU0sRUFBRXdCLFVBQVUsRUFBRWxDLFVBQVUsQ0FBQzs7QUFFdkM7QUFDQU4sR0FBRyxDQUFDZ0IsR0FBRyxDQUFDLFNBQVMsRUFBRXdCLFVBQVUsRUFBRWhDLGFBQWEsQ0FBQztBQUU3Q1IsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDLFNBQVMsRUFBRXdCLFVBQVUsRUFBRS9CLGFBQWEsQ0FBQztBQUU3Q1QsR0FBRyxDQUFDZ0IsR0FBRyxDQUFDLFNBQVMsRUFBRXdCLFVBQVUsRUFBRWpDLGFBQWEsQ0FBQyxDQUFDOztBQUc5QztBQUNBLElBQU13QyxVQUFVLEdBQUdDLGdCQUFJLENBQUNDLFlBQVksQ0FBQ2pELEdBQUcsQ0FBQztBQUN6QztBQUNBLElBQU1rRCxRQUFRLEdBQUcsSUFBQUMsa0JBQVEsRUFBQ0osVUFBVSxDQUFDOztBQUVyQztBQUNBRyxRQUFRLENBQUNFLEVBQUUsQ0FBQyxZQUFZLEVBQUUsVUFBQ0MsTUFBTSxFQUFLO0VBQ3BDYixVQUFVO0VBQ1Y7RUFDQWEsTUFBTSxDQUFDRCxFQUFFLENBQUMsV0FBVyxFQUFFLFVBQUNFLFFBQVEsRUFBSztJQUNuQ2QsVUFBVSxFQUNWYSxNQUFNLENBQUNFLElBQUksQ0FBQ0QsUUFBUSxDQUFDO0lBQ3JCRCxNQUFNLENBQUNHLEVBQUUsQ0FBQ0YsUUFBUSxDQUFDLENBQUNHLElBQUksQ0FBQyxTQUFTLENBQUM7RUFDckMsQ0FBQyxDQUFDOztFQUVGO0VBQ0FKLE1BQU0sQ0FBQ0QsRUFBRSxDQUFDLE9BQU8sRUFBRSxVQUFDTSxLQUFLLEVBQUVKLFFBQVEsRUFBSztJQUN0Q2QsVUFBVSxFQUNWYSxNQUFNLENBQUNHLEVBQUUsQ0FBQ0YsUUFBUSxDQUFDLENBQUNHLElBQUksQ0FBQyxPQUFPLEVBQUVDLEtBQUssQ0FBQztFQUMxQyxDQUFDLENBQUM7O0VBRUY7RUFDQUwsTUFBTSxDQUFDRCxFQUFFLENBQUMsUUFBUSxFQUFFLFVBQUNPLE1BQU0sRUFBRUwsUUFBUSxFQUFLO0lBQ3hDZCxVQUFVLEVBQ1ZhLE1BQU0sQ0FBQ0csRUFBRSxDQUFDRixRQUFRLENBQUMsQ0FBQ0csSUFBSSxDQUFDLFFBQVEsRUFBRUUsTUFBTSxDQUFDO0VBQzVDLENBQUMsQ0FBQzs7RUFFRjtFQUNBTixNQUFNLENBQUNELEVBQUUsQ0FBQyxLQUFLLEVBQUUsVUFBQ1EsR0FBRyxFQUFFTixRQUFRLEVBQUs7SUFDbENkLFVBQVUsRUFDVmEsTUFBTSxDQUFDRyxFQUFFLENBQUNGLFFBQVEsQ0FBQyxDQUFDRyxJQUFJLENBQUMsS0FBSyxFQUFFRyxHQUFHLENBQUM7RUFDdEMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUZiLFVBQVUsQ0FBQ2MsTUFBTSxDQUFDNUQsSUFBSSxFQUFFdUMsVUFBVSxFQUFDOUIsWUFBWSxDQUFDIn0=","map":{"version":3,"names":["express","require","session","bodyParser","FileStore","app","port","qs","authRouter","main_Router","curi_Router","ask_Router","mypage_Router","enroll_Router","review_Router","handleListen","console","log","__dirname","path","resolve","use","json","urlencoded","extended","set","secret","resave","saveUninitialized","store","logFn","helmet","xssFilter","disable","frameguard","noSniff","req","res","next","removeHeader","contentSecurityPolicy","directives","Tokens","tokens","rateLimit","apiLimiter","windowMs","max","standardHeaders","legacyHeaders","get","redirect","httpServer","http","createServer","wsServer","SocketIO","on","socket","roomName","join","to","emit","offer","answer","ice","listen"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-websocket/","sources":["main.js"],"sourcesContent":["import path from \"path\";\nimport SocketIO from \"socket.io\";\nimport http from \"http\";\nconst express = require('express')\nconst session = require('express-session')\nconst bodyParser = require('body-parser');\nconst FileStore = require('session-file-store')(session)\nconst app = express()\nconst port = 54213\nvar qs = require('querystring');\nvar authRouter = require('./lib_login/auth');\nvar main_Router = require('./lib/main_page');\nvar curi_Router = require('./lib/curi_page');\nvar ask_Router = require('./lib/ask_page');\nvar mypage_Router = require('./lib/my_page');\nvar enroll_Router = require('./lib/enroll_page');\nvar review_Router = require('./lib/review_page');\nconst handleListen = () => console.log(\"Listen on http://localhost:54213\");\nconst __dirname = path.resolve();\n/*nsp check로 package.json에 있는 dependencies를 체크하여 문제가 있는 것들을 알려준다.*/\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\n// app.set(\"views\", path.join(__dirname, \"views\"));\n// app.set(\"view engine\", \"pug\");\napp.use(\"/js\", express.static(__dirname + \"/js\"));\napp.use(\"/CSS\", express.static(__dirname + \"/CSS\"));\napp.use(\"/static\", express.static(__dirname + \"/static\"));\napp.use(\"/image\", express.static(__dirname + \"/image\"));\n\napp.set('views', __dirname + \"/views\" );\napp.set(\"view engine\", \"ejs\");\n\napp.use(session({\n  secret: '~~~',\t// 원하는 문자 입력\n  resave: false,\n  saveUninitialized: true,\n  store:new FileStore({logFn: function(){}}),\n\n}))\n/*보안*/\nvar helmet = require('helmet');\napp.use(helmet());\napp.use(helmet.xssFilter());\napp.disable(\"x-powered-by\");\napp.use(helmet.frameguard(\"deny\"));\napp.use(helmet.noSniff());\napp.use((req, res, next) => {\n  res.removeHeader(\"Cross-Origin-Embedder-Policy\");\n  next();\n});\napp.use(helmet.contentSecurityPolicy({\n  directives: {\n    \"default-src\":[\"'self'\",\"'unsafe-inline'\"],\n    \"frame-src\" :['*'],\n    \"form-action\" : [\"'self'\",'*.inicis.com','*.localhost:54213'],\n    \"script-src\": [\"'self'\",'*.naver.com',\"unpkg.com\",\"*.googleapis.com\",\"*.cloudflare.com\",\"*.jsdelivr.net\",\"*.startbootstrap.com\",\"*.kakaocdn.net\",'*.jquery.com','*.iamport.kr','*.inicis.com',\"'unsafe-inline'\"],\n    \"script-src-attr\" : [\"'self'\",\"'unsafe-inline'\"],\n    \"img-src\": [\"'self'\", 'data:', \"*.naver.com\", \"*.kakaocdn.net\",\"localhost:54213\",\"'unsafe-inline'\"],\n    \"connect-src\" : [\"'self'\",\"'unsafe-inline'\",\"unpkg.com\"],\n    \"media-src\" : [\"'self'\",\"'unsafe-inline'\"],\n  },\n}));\n\n/*CSRF*/\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\n\n/*DDOS*/\nvar rateLimit = require(\"express-rate-limit\"); \nconst apiLimiter =  rateLimit({ \n  windowMs: 1*60*1000, \n  max: 30,\n  standardHeaders: true,\n  legacyHeaders: false,\n})\n\n\napp.get('/', (req, res) => {\n  apiLimiter,\n  res.redirect('/main');\n})\n\n\n// // 인증 라우터\napp.use('/auth', apiLimiter, authRouter);\n\n// 메인 페이지\napp.use('/main', apiLimiter, main_Router);\n\n//커리큘럼\napp.use('/curriculum', apiLimiter, curi_Router);\n\napp.use('/ask', apiLimiter, ask_Router);\n\n//고객센터\napp.use('/enroll', apiLimiter, enroll_Router);\n\napp.use('/review', apiLimiter, review_Router);\n\napp.use('/myinfo', apiLimiter, mypage_Router);//마이페이지\n\n\n// 서버 만들고\nconst httpServer = http.createServer(app);\n// 소켓 서버랑 합치기\nconst wsServer = SocketIO(httpServer);\n\n//소켓 연결시\nwsServer.on(\"connection\", (socket) => {\n  apiLimiter,\n  // join Room\n  socket.on(\"join_room\", (roomName) => {\n    apiLimiter,\n    socket.join(roomName);\n    socket.to(roomName).emit(\"welcome\");\n  });\n\n  // offer\n  socket.on(\"offer\", (offer, roomName) => {\n    apiLimiter,\n    socket.to(roomName).emit(\"offer\", offer);\n  });\n\n  // answer\n  socket.on(\"answer\", (answer, roomName) => {\n    apiLimiter,\n    socket.to(roomName).emit(\"answer\", answer);\n  });\n\n  //ice\n  socket.on(\"ice\", (ice, roomName) => {\n    apiLimiter,\n    socket.to(roomName).emit(\"ice\", ice);\n  });\n});\n\nhttpServer.listen(port, apiLimiter,handleListen);\n\n "],"mappings":"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"}},"mtime":1675074714828},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib_login/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib_login/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar express = require('express');\nvar router = express.Router();\nvar qs = require('querystring');\nvar db = require('../db');\nvar axios = require('axios');\n/*네이버 로그인 관련 변수*/\n//var api_url = 'https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=' + client_id + '&redirect_uri=' + redirectURI + '&state=' + state;\nvar client_id = 'sIwGUXdmGRyOPin4mTnj';\nvar client_secret = 'bWV7qU9Ngl';\nvar state = \"1004\";\nvar redirectURI = encodeURI(\"http://localhost:54213/auth/naver/login\");\nvar api_url = 'https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=' + client_id + '&redirect_uri=' + redirectURI + '&state=' + state;\nvar request = require('request-promise');\nvar date = require('date-and-time');\nvar start = Date.now();\nvar date_now = new Date(start);\n///\nvar platform_type = '';\nvar sanitizeHtml = require('sanitize-html');\nvar bcrypt = require('bcrypt');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nvar saltRounds = 10;\n/*카카오 로그인 관련 객체*/\nvar kakaoData = {\n  client_id: 'f28ca6f29082d1991b42941c3178fe60',\n  client_secret: 'fOdmb6jteLfVhsfoWVvqm4Us5CgRc6DS',\n  redirect_url: 'http://localhost:54213/auth/kakao/login',\n  logout_redirect_url: 'http://localhost:54213/auth/kakao/logout'\n};\n\n// 로그인 화면\nrouter.get('/login', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (request.session.type == 'kakao') request.session.destroy();else if (request.session.type == 'naver') request.session.destroy();\n    response.render('auth_login_main', {\n      API_URL: api_url\n    });\n  }\n});\nrouter.get('/naver/login', /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var token, code, _state, naver_api_url, options, result, _token, info_options, info_result, info_result_json;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          console.log('naver in');\n          req.session.secret = tokens.secretSync();\n          token = tokens.create(req.session.secret);\n          if (tokens.verify(req.session.secret, token)) {\n            _context.next = 7;\n            break;\n          }\n          throw new Error('invalid token!');\n        case 7:\n          platform_type = 'naver';\n          // 토큰을 발급받으려면 query string으로 넘겨야 할 정보들이다.\n          code = req.query.code;\n          _state = req.query.state; // 로그인 API를 사용해 access token을 발급받는다.\n          naver_api_url = 'https://nid.naver.com/oauth2.0/token?grant_type=authorization_code&client_id=' + client_id + '&client_secret=' + client_secret + '&redirect_uri=' + redirectURI + '&code=' + code + '&state=' + _state;\n          options = {\n            url: naver_api_url,\n            headers: {\n              'X-Naver-Client-Id': client_id,\n              'X-Naver-Client-Secret': client_secret\n            }\n          };\n          _context.next = 14;\n          return request.get(options);\n        case 14:\n          result = _context.sent;\n          // string 형태로 값이 담기니 JSON 형식으로 parse를 해줘야 한다.\n          _token = JSON.parse(result).access_token; // 발급 받은 access token을 사용해 회원 정보 조회 API를 사용한다.\n          info_options = {\n            url: 'https://openapi.naver.com/v1/nid/me',\n            headers: {\n              'Authorization': 'Bearer ' + _token\n            }\n          };\n          _context.next = 19;\n          return request.get(info_options);\n        case 19:\n          info_result = _context.sent;\n          // string 형태로 값이 담기니 JSON 형식으로 parse를 해줘야 한다.\n          info_result_json = JSON.parse(info_result).response;\n          db.query(\"SELECT * FROM Student WHERE Email_Address = ?\", [info_result_json.email], function (error, results1) {\n            if (error) throw error;\n            if (results1.length > 0) {\n              // db에서의 반환값이 있으면 로그인 성공\n              req.session.type = platform_type;\n              req.session.email = info_result_json.email;\n              req.session.is_logined = true; // 세션 정보 갱신\n              req.session.nickname = info_result_json.name;\n              req.session.mobile = info_result_json.mobile;\n              req.session.save(function () {\n                res.redirect(\"/\");\n              });\n            } else {\n              req.session.type = platform_type;\n              req.session.email = info_result_json.email;\n              req.session.is_logined = true; // 세션 정보 갱신\n              req.session.nickname = info_result_json.name;\n              req.session.mobile = info_result_json.mobile;\n              req.session.save(function () {\n                res.redirect('/auth/register');\n              });\n            }\n          });\n        case 22:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nrouter.get('/kakao/in', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    var kakaoAuthroize = \"https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=\".concat(kakaoData.client_id, \"&redirect_uri=\").concat(kakaoData.redirect_url);\n    res.redirect(kakaoAuthroize);\n  }\n});\nrouter.get('/kakao/logout', /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var token, kakaoAuthroize;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          req.session.secret = tokens.secretSync();\n          token = tokens.create(req.session.secret);\n          if (tokens.verify(req.session.secret, token)) {\n            _context2.next = 6;\n            break;\n          }\n          throw new Error('invalid token!');\n        case 6:\n          req.session.destroy();\n          kakaoAuthroize = 'https://kauth.kakao.com/oauth/logout?client_id=f28ca6f29082d1991b42941c3178fe60&logout_redirect_uri=http://localhost:54213/';\n          res.redirect(kakaoAuthroize);\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nrouter.get('/kakao/login', /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var token, url, body, header, response, _token2, user, nickname, email;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          req.session.secret = tokens.secretSync();\n          token = tokens.create(req.session.secret);\n          if (tokens.verify(req.session.secret, token)) {\n            _context3.next = 6;\n            break;\n          }\n          throw new Error('invalid token!');\n        case 6:\n          _context3.prev = 6;\n          platform_type = \"kakao\";\n          console.log('platform', platform_type);\n          console.log('inin');\n          url = 'https://kauth.kakao.com/oauth/token';\n          body = qs.stringify({\n            grant_type: 'authorization_code',\n            client_id: kakaoData.client_id,\n            client_secret: kakaoData.client_secret,\n            redirect_url: kakaoData.redirect_url,\n            code: req.query.code\n          });\n          header = {\n            'content-Type': 'application/x-www-form-urlencoded;charset=utf-8'\n          };\n          _context3.next = 15;\n          return axios.post(url, body, header);\n        case 15:\n          response = _context3.sent;\n          _token2 = response.data.access_token;\n          console.log(\"res\", response.data.account_email);\n          _context3.next = 20;\n          return axios.get('https://kapi.kakao.com/v2/user/me', {\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8',\n              'Authorization': \"Bearer \".concat(_token2)\n            }\n          });\n        case 20:\n          user = _context3.sent;\n          nickname = user.data.properties.nickname;\n          email = user.data.kakao_account.email;\n          db.query(\"SELECT * FROM Student WHERE Email_Address = ?\", [email], function (error, results1) {\n            console.log('result1', results1);\n            if (error) throw error;\n            if (results1.length > 0) {\n              // db에서의 반환값이 있으면 로그인 성공\n              req.session.type = platform_type;\n              req.session.email = email;\n              req.session.is_logined = true; // 세션 정보 갱신\n              req.session.nickname = nickname;\n              req.session.save(function () {\n                res.redirect(\"/\");\n              });\n            } else {\n              console.log('토큰!', _token2);\n              req.session.type = platform_type;\n              req.session.email = email;\n              req.session.is_logined = true; // 세션 정보 갱신\n              req.session.nickname = nickname;\n              req.session.save(function () {\n                res.redirect('/auth/register');\n              });\n            }\n          });\n          _context3.next = 30;\n          break;\n        case 26:\n          _context3.prev = 26;\n          _context3.t0 = _context3[\"catch\"](6);\n          console.log('실패!');\n          res.redirect('/');\n        case 30:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[6, 26]]);\n  }));\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\n// 회원가입 화면\nrouter.get('/register', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (request.session.type == 'naver') {\n      console.log('naver_register_in');\n      response.render('auth_register_naver', {\n        Email: request.session.email,\n        Nickname: request.session.nickname,\n        Mobile: request.session.mobile\n      });\n    } else if (request.session.type == 'kakao') {\n      console.log('kakao_register_in');\n      response.render('auth_register_kakao', {\n        Email: request.session.email,\n        Nickname: request.session.nickname\n      });\n    } else {\n      response.render('auth_register_main');\n    }\n  }\n});\nrouter.post('/login_process', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    var Login_ID = request.body.Login_ID;\n    var password = request.body.pwd;\n    var sanitizeHtml_Login_ID = sanitizeHtml(Login_ID);\n    var sanitizeHtml_password = sanitizeHtml(password);\n    if (sanitizeHtml_Login_ID != '' && sanitizeHtml_password != '') {\n      if (Login_ID && password) {\n        // id와 pw가 입력되었는지 확인\n        db.query('SELECT * FROM Student WHERE Login_ID = ?', [Login_ID], function (error, results, fields) {\n          if (error) throw error;\n          if (results.length > 0) {\n            // db에서의 반환값이 있으면 로그인 성공\n            bcrypt.compare(password, results[0].Password, function (err, result) {\n              if (result) {\n                console.log(results[0].Email_Address);\n                request.session.is_logined = true; // 세션 정보 갱신\n                request.session.nickname = Login_ID;\n                request.session.email = results[0].Email_Address;\n                request.session.Student_Id = results[0].Student_ID;\n                request.session.save(function () {\n                  response.redirect(\"/\");\n                });\n              } else {\n                response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uB85C\\uADF8\\uC778 \\uC815\\uBCF4\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n                                document.location.href=\\\"/auth/login\\\";</script>\");\n              }\n            });\n          } else {\n            response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uB85C\\uADF8\\uC778 \\uC815\\uBCF4\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n                        document.location.href=\\\"/auth/login\\\";</script>\");\n          }\n        });\n      } else {\n        response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC544\\uC774\\uB514\\uC640 \\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694!\\\"); \\n                document.location.href=\\\"/auth/login\\\";</script>\");\n      }\n    } else {\n      response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uB85C\\uADF8\\uC778 \\uC815\\uBCF4\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n            document.location.href=\\\"/auth/login\\\";</script>\");\n    }\n  }\n});\n\n// 로그아웃\nrouter.get('/logout', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    request.session.destroy(function (err) {\n      response.redirect('/');\n    });\n  }\n});\nrouter.get('/naverLogin', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    response.render('auth_login_naver');\n  }\n});\n\n// 회원가입 프로세스\nrouter.post('/register_process', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (request.session.type == 'naver') {\n      var Login_ID = sanitizeHtml(request.session.email);\n      var Name = sanitizeHtml(request.session.nickname);\n      var Password = sanitizeHtml(request.body.pwd);\n      var Platform_type = sanitizeHtml('naver');\n      var Password2 = sanitizeHtml(request.body.pwd2);\n      var Phone_Number = sanitizeHtml(request.body.number);\n      var Address = sanitizeHtml(request.body.address);\n      var Email_Address = sanitizeHtml(request.session.email);\n      var Recommand_ID = sanitizeHtml('');\n      if (Address) {\n        db.query(\"insert into Student(Platform_type ,Name, Phone_Number, \\n                    Email_Address, Login_ID, Address, Date, Recommand_ID, Point) values\\n                    (?,?,?,?,?,?,?,\\n                    ?, ?)\", [Platform_type, request.session.nickname, request.session.mobile, request.session.email, request.session.email, Address, date_now, Recommand_ID, 0], function (error, result) {\n          if (error) throw error;\n          response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uD68C\\uC6D0\\uAC00\\uC785\\uC774 \\uC644\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4!\\\");\\n                    document.location.href=\\\"/\\\";</script>\");\n        });\n      } else {\n        response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC785\\uB825\\uB418\\uC9C0 \\uC54A\\uC740 \\uC815\\uBCF4\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n                document.location.href=\\\"/auth/register\\\";</script>\");\n      }\n    } else if (request.session.type == 'kakao') {\n      console.log('kakao_register_in');\n      console.log(request);\n      var Login_ID = sanitizeHtml(request.session.email);\n      var Name = sanitizeHtml(request.session.nickname);\n      var Password = sanitizeHtml(request.body.pwd);\n      var Platform_type = sanitizeHtml('');\n      var Password2 = sanitizeHtml(request.body.pwd2);\n      var Phone_Number = sanitizeHtml(request.body.number);\n      var Address = sanitizeHtml(request.body.address);\n      var Email_Address = sanitizeHtml(request.session.email);\n      var Recommand_ID = sanitizeHtml('');\n      if (Phone_Number && Address) {\n        db.query(\"insert into Student(Platform_type ,Name, Phone_Number, \\n                    Email_Address, Login_ID, Address, Date, Recommand_ID, Point) values\\n                    (?,?,?,?,?,?,?,\\n                    ?, ?)\", [request.session.type, request.session.nickname, Phone_Number, request.session.email, request.session.email, Address, date_now, Recommand_ID, 0], function (error, result) {\n          if (error) throw error;\n          response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uD68C\\uC6D0\\uAC00\\uC785\\uC774 \\uC644\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4!\\\");\\n                    document.location.href=\\\"/\\\";</script>\");\n        });\n      } else {\n        response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC785\\uB825\\uB418\\uC9C0 \\uC54A\\uC740 \\uC815\\uBCF4\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n                document.location.href=\\\"/auth/register\\\";</script>\");\n      }\n    } else {\n      var Login_ID = sanitizeHtml(request.body.Login_ID);\n      var Name = sanitizeHtml(request.body.username);\n      var Password = sanitizeHtml(request.body.pwd);\n      var Platform_type = sanitizeHtml('');\n      var Password2 = sanitizeHtml(request.body.pwd2);\n      var Phone_Number = sanitizeHtml(request.body.number);\n      var Address = sanitizeHtml(request.body.address);\n      var Email_Address = sanitizeHtml(request.body.email);\n      var Recommand_ID = sanitizeHtml(0);\n      var Point = sanitizeHtml(0);\n      if (Login_ID && Name && Password && Password2 && Phone_Number && Address && Email_Address) {\n        //필수정보\n        db.query('SELECT * FROM Student WHERE Login_ID = ?', [Login_ID], function (error, results, fields) {\n          // DB에 같은 이름의 회원아이디가 있는지 확인\n          console.log(results);\n          if (error) throw error;\n          if (results.length <= 0 && Password == Password2) {\n            // DB에 같은 이름의 회원아이디가 없고, 비밀번호가 올바르게 입력된 경우\n            db.query('SELECT * FROM Student WHERE recommendID = ?', [Recommand_ID], function (error, results_ID, fields) {});\n            bcrypt.hash(Password, saltRounds, function (err, hash) {\n              if (err) throw err;\n              db.query('INSERT INTO Student (Platform_type , Name , Phone_Number , Email_Address , Login_ID , Password , Address , Date , Recommand_ID, Point ) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', [Platform_type, Name, Phone_Number, Email_Address, Login_ID, hash, date_now, Address, Recommand_ID, Point], function (error, data) {\n                if (error) throw error;\n                response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uD68C\\uC6D0\\uAC00\\uC785\\uC774 \\uC644\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4!\\\");\\n                            document.location.href=\\\"/\\\";</script>\");\n              });\n            });\n          } else if (Password != Password2) {\n            // 비밀번호가 올바르게 입력되지 않은 경우\n            response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC785\\uB825\\uB41C \\uBE44\\uBC00\\uBC88\\uD638\\uAC00 \\uC11C\\uB85C \\uB2E4\\uB985\\uB2C8\\uB2E4.\\\"); \\n                        document.location.href=\\\"/auth/register\\\";</script>\");\n          } else {\n            // DB에 같은 이름의 회원아이디가 있는 경우\n            response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC774\\uBBF8 \\uC874\\uC7AC\\uD558\\uB294 \\uC544\\uC774\\uB514 \\uC785\\uB2C8\\uB2E4.\\\"); \\n                        document.location.href=\\\"/auth/register\\\";</script>\");\n          }\n        });\n      } else {\n        // 입력되지 않은 정보가 있는 경우\n        response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC785\\uB825\\uB418\\uC9C0 \\uC54A\\uC740 \\uC815\\uBCF4\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n                document.location.href=\\\"/auth/register\\\";</script>\");\n      }\n    }\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInFzIiwiZGIiLCJheGlvcyIsImNsaWVudF9pZCIsImNsaWVudF9zZWNyZXQiLCJzdGF0ZSIsInJlZGlyZWN0VVJJIiwiZW5jb2RlVVJJIiwiYXBpX3VybCIsInJlcXVlc3QiLCJkYXRlIiwic3RhcnQiLCJEYXRlIiwibm93IiwiZGF0ZV9ub3ciLCJwbGF0Zm9ybV90eXBlIiwic2FuaXRpemVIdG1sIiwiYmNyeXB0IiwiVG9rZW5zIiwidG9rZW5zIiwic2FsdFJvdW5kcyIsImtha2FvRGF0YSIsInJlZGlyZWN0X3VybCIsImxvZ291dF9yZWRpcmVjdF91cmwiLCJnZXQiLCJyZXNwb25zZSIsInNlc3Npb24iLCJzZWNyZXQiLCJzZWNyZXRTeW5jIiwidG9rZW4iLCJjcmVhdGUiLCJ2ZXJpZnkiLCJFcnJvciIsInR5cGUiLCJkZXN0cm95IiwicmVuZGVyIiwiQVBJX1VSTCIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJjb2RlIiwicXVlcnkiLCJuYXZlcl9hcGlfdXJsIiwib3B0aW9ucyIsInVybCIsImhlYWRlcnMiLCJyZXN1bHQiLCJKU09OIiwicGFyc2UiLCJhY2Nlc3NfdG9rZW4iLCJpbmZvX29wdGlvbnMiLCJpbmZvX3Jlc3VsdCIsImluZm9fcmVzdWx0X2pzb24iLCJlbWFpbCIsImVycm9yIiwicmVzdWx0czEiLCJsZW5ndGgiLCJpc19sb2dpbmVkIiwibmlja25hbWUiLCJuYW1lIiwibW9iaWxlIiwic2F2ZSIsInJlZGlyZWN0Iiwia2FrYW9BdXRocm9pemUiLCJib2R5Iiwic3RyaW5naWZ5IiwiZ3JhbnRfdHlwZSIsImhlYWRlciIsInBvc3QiLCJkYXRhIiwiYWNjb3VudF9lbWFpbCIsInVzZXIiLCJwcm9wZXJ0aWVzIiwia2FrYW9fYWNjb3VudCIsIkVtYWlsIiwiTmlja25hbWUiLCJNb2JpbGUiLCJMb2dpbl9JRCIsInBhc3N3b3JkIiwicHdkIiwic2FuaXRpemVIdG1sX0xvZ2luX0lEIiwic2FuaXRpemVIdG1sX3Bhc3N3b3JkIiwicmVzdWx0cyIsImZpZWxkcyIsImNvbXBhcmUiLCJQYXNzd29yZCIsImVyciIsIkVtYWlsX0FkZHJlc3MiLCJTdHVkZW50X0lkIiwiU3R1ZGVudF9JRCIsInNlbmQiLCJOYW1lIiwiUGxhdGZvcm1fdHlwZSIsIlBhc3N3b3JkMiIsInB3ZDIiLCJQaG9uZV9OdW1iZXIiLCJudW1iZXIiLCJBZGRyZXNzIiwiYWRkcmVzcyIsIlJlY29tbWFuZF9JRCIsInVzZXJuYW1lIiwiUG9pbnQiLCJyZXN1bHRzX0lEIiwiaGFzaCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9qYW5nLXllb25namFlL0Rlc2t0b3AvY29kaW5nLW5hcmEtd2Vic29ja2V0L2xpYl9sb2dpbi8iLCJzb3VyY2VzIjpbImF1dGguanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnZhciBxcyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG52YXIgZGIgPSByZXF1aXJlKCcuLi9kYicpO1xuY29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpO1xuLyrrhKTsnbTrsoQg66Gc6re47J24IOq0gOugqCDrs4DsiJgqL1xuLy92YXIgYXBpX3VybCA9ICdodHRwczovL25pZC5uYXZlci5jb20vb2F1dGgyLjAvYXV0aG9yaXplP3Jlc3BvbnNlX3R5cGU9Y29kZSZjbGllbnRfaWQ9JyArIGNsaWVudF9pZCArICcmcmVkaXJlY3RfdXJpPScgKyByZWRpcmVjdFVSSSArICcmc3RhdGU9JyArIHN0YXRlO1xudmFyIGNsaWVudF9pZCA9ICdzSXdHVVhkbUdSeU9QaW40bVRuaic7XG52YXIgY2xpZW50X3NlY3JldCA9ICdiV1Y3cVU5TmdsJztcbnZhciBzdGF0ZSA9IFwiMTAwNFwiO1xudmFyIHJlZGlyZWN0VVJJID0gZW5jb2RlVVJJKFwiaHR0cDovL2xvY2FsaG9zdDo1NDIxMy9hdXRoL25hdmVyL2xvZ2luXCIpO1xudmFyIGFwaV91cmwgPSAnaHR0cHM6Ly9uaWQubmF2ZXIuY29tL29hdXRoMi4wL2F1dGhvcml6ZT9yZXNwb25zZV90eXBlPWNvZGUmY2xpZW50X2lkPScgKyBjbGllbnRfaWQgKyAnJnJlZGlyZWN0X3VyaT0nICsgcmVkaXJlY3RVUkkgKyAnJnN0YXRlPScgKyBzdGF0ZTtcbmNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKCdyZXF1ZXN0LXByb21pc2UnKTtcbmNvbnN0IGRhdGUgPSByZXF1aXJlKCdkYXRlLWFuZC10aW1lJyk7XG5sZXQgc3RhcnQgPSBEYXRlLm5vdygpO1xuY29uc3QgZGF0ZV9ub3cgPSBuZXcgRGF0ZShzdGFydCk7XG4vLy9cbnZhciBwbGF0Zm9ybV90eXBlID0gJyc7XG52YXIgc2FuaXRpemVIdG1sID0gcmVxdWlyZSgnc2FuaXRpemUtaHRtbCcpO1xudmFyIGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpO1xudmFyIFRva2VucyA9IHJlcXVpcmUoXCJjc3JmXCIpO1xudmFyIHRva2VucyA9IG5ldyBUb2tlbnMoKTtcbmNvbnN0IHNhbHRSb3VuZHMgPSAxMDtcbi8q7Lm07Lm07JikIOuhnOq3uOyduCDqtIDroKgg6rCd7LK0Ki9cbmNvbnN0IGtha2FvRGF0YSA9IHtcbiAgICBjbGllbnRfaWQgOiAnZjI4Y2E2ZjI5MDgyZDE5OTFiNDI5NDFjMzE3OGZlNjAnLFxuICAgIGNsaWVudF9zZWNyZXQgOiAnZk9kbWI2anRlTGZWaHNmb1dWdnFtNFVzNUNnUmM2RFMnLFxuICAgIHJlZGlyZWN0X3VybCA6ICdodHRwOi8vbG9jYWxob3N0OjU0MjEzL2F1dGgva2FrYW8vbG9naW4nLFxuICAgIGxvZ291dF9yZWRpcmVjdF91cmwgOiAnaHR0cDovL2xvY2FsaG9zdDo1NDIxMy9hdXRoL2tha2FvL2xvZ291dCdcbn1cblxuLy8g66Gc6re47J24IO2ZlOuptFxucm91dGVyLmdldCgnL2xvZ2luJywgZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgICB9ZWxzZXtcbiAgICAgICAgaWYocmVxdWVzdC5zZXNzaW9uLnR5cGUgPT0gJ2tha2FvJykgcmVxdWVzdC5zZXNzaW9uLmRlc3Ryb3koKTtcbiAgICAgICAgZWxzZSBpZihyZXF1ZXN0LnNlc3Npb24udHlwZSA9PSAnbmF2ZXInKSByZXF1ZXN0LnNlc3Npb24uZGVzdHJveSgpO1xuICAgICAgICByZXNwb25zZS5yZW5kZXIoJ2F1dGhfbG9naW5fbWFpbicse1xuICAgICAgICAgICAgQVBJX1VSTCA6IGFwaV91cmxcbiAgICAgICAgfSlcbiAgICB9XG59KTtcblxucm91dGVyLmdldCgnL25hdmVyL2xvZ2luJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ25hdmVyIGluJylcbiAgICByZXEuc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICAgIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxLnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxLnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgICBwbGF0Zm9ybV90eXBlID0gJ25hdmVyJztcbiAgICAgICAgICAgIC8vIO2GoO2BsOydhCDrsJzquInrsJvsnLzroKTrqbQgcXVlcnkgc3RyaW5n7Jy866GcIOuEmOqyqOyVvCDtlaAg7KCV67O065Ok7J2064ukLlxuICAgICAgICBjb25zdCBjb2RlID0gcmVxLnF1ZXJ5LmNvZGU7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gcmVxLnF1ZXJ5LnN0YXRlO1xuXG4gICAgICAgICAgICAvLyDroZzqt7jsnbggQVBJ66W8IOyCrOyaqe2VtCBhY2Nlc3MgdG9rZW7snYQg67Cc6riJ67Cb64qU64ukLlxuICAgICAgICBjb25zdCBuYXZlcl9hcGlfdXJsID0gJ2h0dHBzOi8vbmlkLm5hdmVyLmNvbS9vYXV0aDIuMC90b2tlbj9ncmFudF90eXBlPWF1dGhvcml6YXRpb25fY29kZSZjbGllbnRfaWQ9JysgY2xpZW50X2lkICsgJyZjbGllbnRfc2VjcmV0PScgKyBjbGllbnRfc2VjcmV0ICsgJyZyZWRpcmVjdF91cmk9JyArIHJlZGlyZWN0VVJJICsgJyZjb2RlPScgKyBjb2RlICsgJyZzdGF0ZT0nICsgc3RhdGU7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICB1cmw6IG5hdmVyX2FwaV91cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ1gtTmF2ZXItQ2xpZW50LUlkJzogY2xpZW50X2lkLCBcbiAgICAgICAgICAgICAgICAnWC1OYXZlci1DbGllbnQtU2VjcmV0JzogY2xpZW50X3NlY3JldFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3QuZ2V0KG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gc3RyaW5nIO2Yle2DnOuhnCDqsJLsnbQg64u06riw64uIIEpTT04g7ZiV7Iud7Jy866GcIHBhcnNl66W8IO2VtOykmOyVvCDtlZzri6QuXG4gICAgICAgIGNvbnN0IHRva2VuID0gSlNPTi5wYXJzZShyZXN1bHQpLmFjY2Vzc190b2tlbjtcblxuICAgICAgICAvLyDrsJzquIkg67Cb7J2AIGFjY2VzcyB0b2tlbuydhCDsgqzsmqntlbQg7ZqM7JuQIOygleuztCDsobDtmowgQVBJ66W8IOyCrOyaqe2VnOuLpC5cbiAgICAgICAgY29uc3QgaW5mb19vcHRpb25zID0ge1xuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9vcGVuYXBpLm5hdmVyLmNvbS92MS9uaWQvbWUnLFxuICAgICAgICAgICAgaGVhZGVyczogeydBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgdG9rZW59XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaW5mb19yZXN1bHQgPSBhd2FpdCByZXF1ZXN0LmdldChpbmZvX29wdGlvbnMpO1xuICAgICAgICAgICAgLy8gc3RyaW5nIO2Yle2DnOuhnCDqsJLsnbQg64u06riw64uIIEpTT04g7ZiV7Iud7Jy866GcIHBhcnNl66W8IO2VtOykmOyVvCDtlZzri6QuXG4gICAgICAgIGNvbnN0IGluZm9fcmVzdWx0X2pzb24gPSBKU09OLnBhcnNlKGluZm9fcmVzdWx0KS5yZXNwb25zZTtcbiAgICAgICAgXG4gICAgICAgIGRiLnF1ZXJ5KGBTRUxFQ1QgKiBGUk9NIFN0dWRlbnQgV0hFUkUgRW1haWxfQWRkcmVzcyA9ID9gLCBbaW5mb19yZXN1bHRfanNvbi5lbWFpbF0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IscmVzdWx0czEpe1xuICAgICAgICAgICAgICAgICAgICBpZihlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzMS5sZW5ndGggPiAwKSB7ICAgICAgIC8vIGRi7JeQ7ISc7J2YIOuwmO2ZmOqwkuydtCDsnojsnLzrqbQg66Gc6re47J24IOyEseqztVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24udHlwZSA9IHBsYXRmb3JtX3R5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi5lbWFpbCA9IGluZm9fcmVzdWx0X2pzb24uZW1haWw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi5pc19sb2dpbmVkID0gdHJ1ZTsgICAgICAvLyDshLjshZgg7KCV67O0IOqwseyLoFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24ubmlja25hbWUgPSBpbmZvX3Jlc3VsdF9qc29uLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi5tb2JpbGUgPSBpbmZvX3Jlc3VsdF9qc29uLm1vYmlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLnNhdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5yZWRpcmVjdChgL2ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLnR5cGUgPSBwbGF0Zm9ybV90eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24uZW1haWwgPSBpbmZvX3Jlc3VsdF9qc29uLmVtYWlsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24uaXNfbG9naW5lZCA9IHRydWU7ICAgICAgLy8g7IS47IWYIOygleuztCDqsLHsi6BcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLm5pY2tuYW1lID0gaW5mb19yZXN1bHRfanNvbi5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24ubW9iaWxlID0gaW5mb19yZXN1bHRfanNvbi5tb2JpbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi5zYXZlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMucmVkaXJlY3QoJy9hdXRoL3JlZ2lzdGVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTsgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG59KVxucm91dGVyLmdldCgnL2tha2FvL2luJywocmVxLHJlcykgPT4ge1xuICAgIHJlcS5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXEuc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXEuc2Vzc2lvbi5zZWNyZXQsIHRva2VuKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gICAgfWVsc2V7XG4gICAgICAgIGNvbnN0IGtha2FvQXV0aHJvaXplID0gYGh0dHBzOi8va2F1dGgua2FrYW8uY29tL29hdXRoL2F1dGhvcml6ZT9yZXNwb25zZV90eXBlPWNvZGUmY2xpZW50X2lkPSR7a2FrYW9EYXRhLmNsaWVudF9pZH0mcmVkaXJlY3RfdXJpPSR7a2FrYW9EYXRhLnJlZGlyZWN0X3VybH1gXG4gICAgICAgIHJlcy5yZWRpcmVjdChrYWthb0F1dGhyb2l6ZSk7XG4gICAgfVxufSlcblxucm91dGVyLmdldCgnL2tha2FvL2xvZ291dCcsIGFzeW5jIChyZXEscmVzKT0+e1xuICAgIHJlcS5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXEuc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXEuc2Vzc2lvbi5zZWNyZXQsIHRva2VuKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gICAgfWVsc2V7XG4gICAgICAgIHJlcS5zZXNzaW9uLmRlc3Ryb3koKTtcbiAgICAgICAgY29uc3Qga2FrYW9BdXRocm9pemUgPSAnaHR0cHM6Ly9rYXV0aC5rYWthby5jb20vb2F1dGgvbG9nb3V0P2NsaWVudF9pZD1mMjhjYTZmMjkwODJkMTk5MWI0Mjk0MWMzMTc4ZmU2MCZsb2dvdXRfcmVkaXJlY3RfdXJpPWh0dHA6Ly9sb2NhbGhvc3Q6NTQyMTMvJ1xuICAgICAgICByZXMucmVkaXJlY3Qoa2FrYW9BdXRocm9pemUpO1xuICAgIH1cbiAgfSlcbnJvdXRlci5nZXQoJy9rYWthby9sb2dpbicsIGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVxLnNlc3Npb24uc2VjcmV0ID0gdG9rZW5zLnNlY3JldFN5bmMoKTtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcS5zZXNzaW9uLnNlY3JldCk7XG4gICAgaWYgKCF0b2tlbnMudmVyaWZ5KHJlcS5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgICB9ZWxzZXtcbiAgICAgICAgdHJ5e1xuICAgICAgICAgICAgcGxhdGZvcm1fdHlwZSA9IFwia2FrYW9cIjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwbGF0Zm9ybScscGxhdGZvcm1fdHlwZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW5pbicpO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gJ2h0dHBzOi8va2F1dGgua2FrYW8uY29tL29hdXRoL3Rva2VuJ1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHFzLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgZ3JhbnRfdHlwZSA6ICdhdXRob3JpemF0aW9uX2NvZGUnLFxuICAgICAgICAgICAgICAgIGNsaWVudF9pZDoga2FrYW9EYXRhLmNsaWVudF9pZCxcbiAgICAgICAgICAgICAgICBjbGllbnRfc2VjcmV0IDoga2FrYW9EYXRhLmNsaWVudF9zZWNyZXQsXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RfdXJsIDoga2FrYW9EYXRhLnJlZGlyZWN0X3VybCxcbiAgICAgICAgICAgICAgICBjb2RlIDogcmVxLnF1ZXJ5LmNvZGVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjb25zdCBoZWFkZXIgPSB7J2NvbnRlbnQtVHlwZScgOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnfVxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KHVybCxib2R5LGhlYWRlcik7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZXNcIiwgcmVzcG9uc2UuZGF0YS5hY2NvdW50X2VtYWlsKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8va2FwaS5rYWthby5jb20vdjIvdXNlci9tZScse1xuICAgICAgICAgICAgICAgIGhlYWRlcnMgOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnIDogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOmBCZWFyZXIgJHt0b2tlbn1gXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGNvbnN0IHsgbmlja25hbWUgfSA9IHVzZXIuZGF0YS5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCB9ID0gdXNlci5kYXRhLmtha2FvX2FjY291bnQ7XG4gICAgICAgICAgICBkYi5xdWVyeShgU0VMRUNUICogRlJPTSBTdHVkZW50IFdIRVJFIEVtYWlsX0FkZHJlc3MgPSA/YCwgW2VtYWlsXSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGVycm9yLHJlc3VsdHMxKXtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0MScscmVzdWx0czEpO1xuICAgICAgICAgICAgICAgIGlmKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0czEubGVuZ3RoID4gMCkgeyAgICAgICAvLyBkYuyXkOyEnOydmCDrsJjtmZjqsJLsnbQg7J6I7Jy866m0IOuhnOq3uOyduCDshLHqs7VcbiAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24udHlwZSA9IHBsYXRmb3JtX3R5cGU7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmVtYWlsID0gZW1haWw7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmlzX2xvZ2luZWQgPSB0cnVlOyAgICAgIC8vIOyEuOyFmCDsoJXrs7Qg6rCx7IugXG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLm5pY2tuYW1lID0gbmlja25hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLnNhdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnJlZGlyZWN0KGAvYCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn7Yag7YGwIScsIHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24udHlwZSA9IHBsYXRmb3JtX3R5cGU7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmVtYWlsID0gZW1haWw7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmlzX2xvZ2luZWQgPSB0cnVlOyAgICAgIC8vIOyEuOyFmCDsoJXrs7Qg6rCx7IugXG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLm5pY2tuYW1lID0gbmlja25hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLnNhdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnJlZGlyZWN0KCcvYXV0aC9yZWdpc3RlcicpO1xuICAgICAgICAgICAgICAgICAgICB9KTsgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9Y2F0Y2h7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn7Iuk7YyoIScpO1xuICAgICAgICAgICAgcmVzLnJlZGlyZWN0KCcvJyk7XG4gICAgICAgIH1cbiAgICB9XG59KVxuLy8g7ZqM7JuQ6rCA7J6FIO2ZlOuptFxucm91dGVyLmdldCgnL3JlZ2lzdGVyJywgZnVuY3Rpb24ocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICByZXF1ZXN0LnNlc3Npb24uc2VjcmV0ID0gdG9rZW5zLnNlY3JldFN5bmMoKTtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgICBpZihyZXF1ZXN0LnNlc3Npb24udHlwZT09J25hdmVyJyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbmF2ZXJfcmVnaXN0ZXJfaW4nKVxuICAgICAgICAgICAgcmVzcG9uc2UucmVuZGVyKCdhdXRoX3JlZ2lzdGVyX25hdmVyJyx7XG4gICAgICAgICAgICAgICAgRW1haWwgOiByZXF1ZXN0LnNlc3Npb24uZW1haWwsXG4gICAgICAgICAgICAgICAgTmlja25hbWUgOiByZXF1ZXN0LnNlc3Npb24ubmlja25hbWUsXG4gICAgICAgICAgICAgICAgTW9iaWxlIDogcmVxdWVzdC5zZXNzaW9uLm1vYmlsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYocmVxdWVzdC5zZXNzaW9uLnR5cGU9PSdrYWthbycpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2tha2FvX3JlZ2lzdGVyX2luJylcbiAgICAgICAgICAgIHJlc3BvbnNlLnJlbmRlcignYXV0aF9yZWdpc3Rlcl9rYWthbycse1xuICAgICAgICAgICAgICAgIEVtYWlsIDogcmVxdWVzdC5zZXNzaW9uLmVtYWlsLFxuICAgICAgICAgICAgICAgIE5pY2tuYW1lIDogcmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgcmVzcG9uc2UucmVuZGVyKCdhdXRoX3JlZ2lzdGVyX21haW4nKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5yb3V0ZXIucG9zdCgnL2xvZ2luX3Byb2Nlc3MnLCBmdW5jdGlvbiAocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICByZXF1ZXN0LnNlc3Npb24uc2VjcmV0ID0gdG9rZW5zLnNlY3JldFN5bmMoKTtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgICB2YXIgTG9naW5fSUQgPSByZXF1ZXN0LmJvZHkuTG9naW5fSUQ7XG4gICAgICAgIHZhciBwYXNzd29yZCA9IHJlcXVlc3QuYm9keS5wd2Q7XG4gICAgICAgIHZhciBzYW5pdGl6ZUh0bWxfTG9naW5fSUQgPSBzYW5pdGl6ZUh0bWwoTG9naW5fSUQpO1xuICAgICAgICB2YXIgc2FuaXRpemVIdG1sX3Bhc3N3b3JkID0gc2FuaXRpemVIdG1sKHBhc3N3b3JkKTtcbiAgICAgICAgaWYoc2FuaXRpemVIdG1sX0xvZ2luX0lEICE9ICcnICYmIHNhbml0aXplSHRtbF9wYXNzd29yZCAhPSAnJyApe1xuICAgICAgICAgICAgaWYgKExvZ2luX0lEICYmIHBhc3N3b3JkKSB7ICAgICAgICAgICAgIC8vIGlk7JmAIHB36rCAIOyeheugpeuQmOyXiOuKlOyngCDtmZXsnbhcbiAgICAgICAgICAgICAgICBkYi5xdWVyeSgnU0VMRUNUICogRlJPTSBTdHVkZW50IFdIRVJFIExvZ2luX0lEID0gPycsIFtMb2dpbl9JRF0sIGZ1bmN0aW9uKGVycm9yLCByZXN1bHRzLCBmaWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID4gMCkgeyAgICAgICAvLyBkYuyXkOyEnOydmCDrsJjtmZjqsJLsnbQg7J6I7Jy866m0IOuhnOq3uOyduCDshLHqs7VcbiAgICAgICAgICAgICAgICAgICAgICAgIGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLHJlc3VsdHNbMF0uUGFzc3dvcmQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHRzWzBdLkVtYWlsX0FkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LnNlc3Npb24uaXNfbG9naW5lZCA9IHRydWU7ICAgICAgLy8g7IS47IWYIOygleuztCDqsLHsi6BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lID0gTG9naW5fSUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3Quc2Vzc2lvbi5lbWFpbCA9IHJlc3VsdHNbMF0uRW1haWxfQWRkcmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LnNlc3Npb24uU3R1ZGVudF9JZCA9IHJlc3VsdHNbMF0uU3R1ZGVudF9JRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5zZXNzaW9uLnNhdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5yZWRpcmVjdChgL2ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2VuZChgPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+YWxlcnQoXCLroZzqt7jsnbgg7KCV67O06rCAIOydvOy5mO2VmOyngCDslYrsirXri4jri6QuXCIpOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9hdXRoL2xvZ2luXCI7PC9zY3JpcHQ+YCk7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi66Gc6re47J24IOygleuztOqwgCDsnbzsuZjtlZjsp4Ag7JWK7Iq164uI64ukLlwiKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPVwiL2F1dGgvbG9naW5cIjs8L3NjcmlwdD5gKTsgICAgXG4gICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5zZW5kKGA8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj5hbGVydChcIuyVhOydtOuUlOyZgCDruYTrsIDrsojtmLjrpbwg7J6F66Cl7ZWY7IS47JqUIVwiKTsgXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9hdXRoL2xvZ2luXCI7PC9zY3JpcHQ+YCk7ICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi66Gc6re47J24IOygleuztOqwgCDsnbzsuZjtlZjsp4Ag7JWK7Iq164uI64ukLlwiKTsgXG4gICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPVwiL2F1dGgvbG9naW5cIjs8L3NjcmlwdD5gKTsgXG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLy8g66Gc6re47JWE7JuDXG5yb3V0ZXIuZ2V0KCcvbG9nb3V0JywgZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgICB9ZWxzZXtcbiAgICAgICAgcmVxdWVzdC5zZXNzaW9uLmRlc3Ryb3koZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgcmVzcG9uc2UucmVkaXJlY3QoJy8nKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cblxuXG5cbnJvdXRlci5nZXQoJy9uYXZlckxvZ2luJywgZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgICB9ZWxzZXtcbiAgICAgICAgcmVzcG9uc2UucmVuZGVyKCdhdXRoX2xvZ2luX25hdmVyJylcbiAgICB9XG59KTtcblxuIFxuLy8g7ZqM7JuQ6rCA7J6FIO2UhOuhnOyEuOyKpFxucm91dGVyLnBvc3QoJy9yZWdpc3Rlcl9wcm9jZXNzJywgZnVuY3Rpb24ocmVxdWVzdCwgcmVzcG9uc2UpIHsgIFxuICAgIHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICAgIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxdWVzdC5zZXNzaW9uLnNlY3JldCk7XG4gICAgaWYgKCF0b2tlbnMudmVyaWZ5KHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQsIHRva2VuKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gICAgfWVsc2V7XG4gICAgICAgIGlmKHJlcXVlc3Quc2Vzc2lvbi50eXBlPT0nbmF2ZXInKXtcbiAgICAgICAgICAgIHZhciBMb2dpbl9JRCA9IHNhbml0aXplSHRtbChyZXF1ZXN0LnNlc3Npb24uZW1haWwpO1xuICAgICAgICAgICAgdmFyIE5hbWUgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lKTtcbiAgICAgICAgICAgIHZhciBQYXNzd29yZCA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkucHdkKTsgICAgXG4gICAgICAgICAgICB2YXIgUGxhdGZvcm1fdHlwZSAgPSBzYW5pdGl6ZUh0bWwoJ25hdmVyJyk7XG4gICAgICAgICAgICB2YXIgUGFzc3dvcmQyID0gc2FuaXRpemVIdG1sKHJlcXVlc3QuYm9keS5wd2QyKTtcbiAgICAgICAgICAgIHZhciBQaG9uZV9OdW1iZXIgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5ib2R5Lm51bWJlcik7XG4gICAgICAgICAgICB2YXIgQWRkcmVzcyA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkuYWRkcmVzcyk7XG4gICAgICAgICAgICB2YXIgRW1haWxfQWRkcmVzcyA9IHNhbml0aXplSHRtbChyZXF1ZXN0LnNlc3Npb24uZW1haWwpO1xuICAgICAgICAgICAgdmFyIFJlY29tbWFuZF9JRCA9IHNhbml0aXplSHRtbCgnJyk7XG4gICAgICAgICAgICBpZihBZGRyZXNzKXtcbiAgICAgICAgICAgICAgICBkYi5xdWVyeShgaW5zZXJ0IGludG8gU3R1ZGVudChQbGF0Zm9ybV90eXBlICxOYW1lLCBQaG9uZV9OdW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICBFbWFpbF9BZGRyZXNzLCBMb2dpbl9JRCwgQWRkcmVzcywgRGF0ZSwgUmVjb21tYW5kX0lELCBQb2ludCkgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICg/LD8sPyw/LD8sPyw/LFxuICAgICAgICAgICAgICAgICAgICA/LCA/KWAsW1BsYXRmb3JtX3R5cGUsIHJlcXVlc3Quc2Vzc2lvbi5uaWNrbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3Quc2Vzc2lvbi5tb2JpbGUscmVxdWVzdC5zZXNzaW9uLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5zZXNzaW9uLmVtYWlsLEFkZHJlc3MsZGF0ZV9ub3csUmVjb21tYW5kX0lELDBdLGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpe1xuICAgICAgICAgICAgICAgICAgICBpZihlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi7ZqM7JuQ6rCA7J6F7J20IOyZhOujjOuQmOyXiOyKteuLiOuLpCFcIik7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWY9XCIvXCI7PC9zY3JpcHQ+YCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2Uuc2VuZChgPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+YWxlcnQoXCLsnoXroKXrkJjsp4Ag7JWK7J2AIOygleuztOqwgCDsnojsirXri4jri6QuXCIpOyBcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPVwiL2F1dGgvcmVnaXN0ZXJcIjs8L3NjcmlwdD5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHJlcXVlc3Quc2Vzc2lvbi50eXBlPT0na2FrYW8nKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdrYWthb19yZWdpc3Rlcl9pbicpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVxdWVzdClcbiAgICAgICAgICAgIHZhciBMb2dpbl9JRCA9IHNhbml0aXplSHRtbChyZXF1ZXN0LnNlc3Npb24uZW1haWwpO1xuICAgICAgICAgICAgdmFyIE5hbWUgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lKTtcbiAgICAgICAgICAgIHZhciBQYXNzd29yZCA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkucHdkKTsgICAgXG4gICAgICAgICAgICB2YXIgUGxhdGZvcm1fdHlwZSAgPSBzYW5pdGl6ZUh0bWwoJycpO1xuICAgICAgICAgICAgdmFyIFBhc3N3b3JkMiA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkucHdkMik7XG4gICAgICAgICAgICB2YXIgUGhvbmVfTnVtYmVyID0gc2FuaXRpemVIdG1sKHJlcXVlc3QuYm9keS5udW1iZXIpO1xuICAgICAgICAgICAgdmFyIEFkZHJlc3MgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5ib2R5LmFkZHJlc3MpO1xuICAgICAgICAgICAgdmFyIEVtYWlsX0FkZHJlc3MgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5zZXNzaW9uLmVtYWlsKTtcbiAgICAgICAgICAgIHZhciBSZWNvbW1hbmRfSUQgPSBzYW5pdGl6ZUh0bWwoJycpO1xuICAgICAgICAgICAgaWYoUGhvbmVfTnVtYmVyICYmIEFkZHJlc3Mpe1xuICAgICAgICAgICAgICAgIGRiLnF1ZXJ5KGBpbnNlcnQgaW50byBTdHVkZW50KFBsYXRmb3JtX3R5cGUgLE5hbWUsIFBob25lX051bWJlciwgXG4gICAgICAgICAgICAgICAgICAgIEVtYWlsX0FkZHJlc3MsIExvZ2luX0lELCBBZGRyZXNzLCBEYXRlLCBSZWNvbW1hbmRfSUQsIFBvaW50KSB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgKD8sPyw/LD8sPyw/LD8sXG4gICAgICAgICAgICAgICAgICAgID8sID8pYCxbcmVxdWVzdC5zZXNzaW9uLnR5cGUscmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgUGhvbmVfTnVtYmVyLHJlcXVlc3Quc2Vzc2lvbi5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3Quc2Vzc2lvbi5lbWFpbCxBZGRyZXNzLGRhdGVfbm93LFJlY29tbWFuZF9JRCwwXSxmdW5jdGlvbihlcnJvciwgcmVzdWx0KXtcbiAgICAgICAgICAgICAgICAgICAgaWYoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5zZW5kKGA8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj5hbGVydChcIu2ajOybkOqwgOyeheydtCDsmYTro4zrkJjsl4jsirXri4jri6QhXCIpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPVwiL1wiOzwvc2NyaXB0PmApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi7J6F66Cl65CY7KeAIOyViuydgCDsoJXrs7TqsIAg7J6I7Iq164uI64ukLlwiKTsgXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9hdXRoL3JlZ2lzdGVyXCI7PC9zY3JpcHQ+YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHZhciBMb2dpbl9JRCA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkuTG9naW5fSUQpO1xuICAgICAgICAgICAgdmFyIE5hbWUgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5ib2R5LnVzZXJuYW1lKTtcbiAgICAgICAgICAgIHZhciBQYXNzd29yZCA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkucHdkKTsgICAgXG4gICAgICAgICAgICB2YXIgUGxhdGZvcm1fdHlwZSAgPSBzYW5pdGl6ZUh0bWwoJycpO1xuICAgICAgICAgICAgdmFyIFBhc3N3b3JkMiA9IHNhbml0aXplSHRtbChyZXF1ZXN0LmJvZHkucHdkMik7XG4gICAgICAgICAgICB2YXIgUGhvbmVfTnVtYmVyID0gc2FuaXRpemVIdG1sKHJlcXVlc3QuYm9keS5udW1iZXIpO1xuICAgICAgICAgICAgdmFyIEFkZHJlc3MgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5ib2R5LmFkZHJlc3MpO1xuICAgICAgICAgICAgdmFyIEVtYWlsX0FkZHJlc3MgPSBzYW5pdGl6ZUh0bWwocmVxdWVzdC5ib2R5LmVtYWlsKTtcbiAgICAgICAgICAgIHZhciBSZWNvbW1hbmRfSUQgPSBzYW5pdGl6ZUh0bWwoMCk7XG4gICAgICAgICAgICB2YXIgUG9pbnQgPSBzYW5pdGl6ZUh0bWwoMCk7XG4gICAgICAgICAgICBpZiAoTG9naW5fSUQgJiZOYW1lICYmIFBhc3N3b3JkICYmIFBhc3N3b3JkMiAmJiBQaG9uZV9OdW1iZXIgJiYgQWRkcmVzcyAmJiBFbWFpbF9BZGRyZXNzICkgeyAvL+2VhOyImOygleuztFxuICAgICAgICAgICAgICAgIGRiLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIFN0dWRlbnQgV0hFUkUgTG9naW5fSUQgPSA/JywgW0xvZ2luX0lEXSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdHMsIGZpZWxkcykgeyAvLyBEQuyXkCDqsJnsnYAg7J2066aE7J2YIO2ajOybkOyVhOydtOuUlOqwgCDsnojripTsp4Ag7ZmV7J24XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPD0gMCAmJiBQYXNzd29yZCA9PSBQYXNzd29yZDIpIHsgICAgIC8vIERC7JeQIOqwmeydgCDsnbTrpoTsnZgg7ZqM7JuQ7JWE7J2065SU6rCAIOyXhuqzoCwg67mE67CA67KI7Zi46rCAIOyYrOuwlOultOqyjCDsnoXroKXrkJwg6rK97JqwXG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5xdWVyeSgnU0VMRUNUICogRlJPTSBTdHVkZW50IFdIRVJFIHJlY29tbWVuZElEID0gPycsIFtSZWNvbW1hbmRfSURdLCBmdW5jdGlvbihlcnJvciwgcmVzdWx0c19JRCwgZmllbGRzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9KSBcbiAgICAgICAgICAgICAgICAgICAgYmNyeXB0Lmhhc2goUGFzc3dvcmQsIHNhbHRSb3VuZHMsIGZ1bmN0aW9uKGVyciwgaGFzaCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihlcnIpIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLnF1ZXJ5KCdJTlNFUlQgSU5UTyBTdHVkZW50IChQbGF0Zm9ybV90eXBlICwgTmFtZSAsIFBob25lX051bWJlciAsIEVtYWlsX0FkZHJlc3MgLCBMb2dpbl9JRCAsIFBhc3N3b3JkICwgQWRkcmVzcyAsIERhdGUgLCBSZWNvbW1hbmRfSUQsIFBvaW50ICkgVkFMVUVTKD8sID8sID8sID8sID8sID8sID8sID8sID8sID8pJywgW1BsYXRmb3JtX3R5cGUsIE5hbWUsIFBob25lX051bWJlciwgRW1haWxfQWRkcmVzcywgTG9naW5fSUQsIGhhc2gsIGRhdGVfbm93LEFkZHJlc3MsIFJlY29tbWFuZF9JRCwgUG9pbnRdLCBmdW5jdGlvbiAoZXJyb3IsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi7ZqM7JuQ6rCA7J6F7J20IOyZhOujjOuQmOyXiOyKteuLiOuLpCFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9cIjs8L3NjcmlwdD5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFBhc3N3b3JkICE9IFBhc3N3b3JkMikgeyAgICAgICAgICAgICAgICAgICAgIC8vIOu5hOuwgOuyiO2YuOqwgCDsmKzrsJTrpbTqsowg7J6F66Cl65CY7KeAIOyViuydgCDqsr3smrBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi7J6F66Cl65CcIOu5hOuwgOuyiO2YuOqwgCDshJzroZwg64uk66aF64uI64ukLlwiKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPVwiL2F1dGgvcmVnaXN0ZXJcIjs8L3NjcmlwdD5gKTsgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEQuyXkCDqsJnsnYAg7J2066aE7J2YIO2ajOybkOyVhOydtOuUlOqwgCDsnojripQg6rK97JqwXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5zZW5kKGA8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj5hbGVydChcIuydtOuvuCDsobTsnqztlZjripQg7JWE7J2065SUIOyeheuLiOuLpC5cIik7IFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9hdXRoL3JlZ2lzdGVyXCI7PC9zY3JpcHQ+YCk7ICAgIFxuICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgLy8g7J6F66Cl65CY7KeAIOyViuydgCDsoJXrs7TqsIAg7J6I64qUIOqyveyasFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnNlbmQoYDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi7J6F66Cl65CY7KeAIOyViuydgCDsoJXrs7TqsIAg7J6I7Iq164uI64ukLlwiKTsgXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9hdXRoL3JlZ2lzdGVyXCI7PC9zY3JpcHQ+YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTtcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7OytDQUNBO0FBQUE7QUFBQTtBQURBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNoQyxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxFQUFFO0FBQzdCLElBQUlDLEVBQUUsR0FBR0gsT0FBTyxDQUFDLGFBQWEsQ0FBQztBQUMvQixJQUFJSSxFQUFFLEdBQUdKLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDekIsSUFBTUssS0FBSyxHQUFHTCxPQUFPLENBQUMsT0FBTyxDQUFDO0FBQzlCO0FBQ0E7QUFDQSxJQUFJTSxTQUFTLEdBQUcsc0JBQXNCO0FBQ3RDLElBQUlDLGFBQWEsR0FBRyxZQUFZO0FBQ2hDLElBQUlDLEtBQUssR0FBRyxNQUFNO0FBQ2xCLElBQUlDLFdBQVcsR0FBR0MsU0FBUyxDQUFDLHlDQUF5QyxDQUFDO0FBQ3RFLElBQUlDLE9BQU8sR0FBRyx3RUFBd0UsR0FBR0wsU0FBUyxHQUFHLGdCQUFnQixHQUFHRyxXQUFXLEdBQUcsU0FBUyxHQUFHRCxLQUFLO0FBQ3ZKLElBQU1JLE9BQU8sR0FBR1osT0FBTyxDQUFDLGlCQUFpQixDQUFDO0FBQzFDLElBQU1hLElBQUksR0FBR2IsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUNyQyxJQUFJYyxLQUFLLEdBQUdDLElBQUksQ0FBQ0MsR0FBRyxFQUFFO0FBQ3RCLElBQU1DLFFBQVEsR0FBRyxJQUFJRixJQUFJLENBQUNELEtBQUssQ0FBQztBQUNoQztBQUNBLElBQUlJLGFBQWEsR0FBRyxFQUFFO0FBQ3RCLElBQUlDLFlBQVksR0FBR25CLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDM0MsSUFBSW9CLE1BQU0sR0FBR3BCLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDOUIsSUFBSXFCLE1BQU0sR0FBR3JCLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsSUFBSXNCLE1BQU0sR0FBRyxJQUFJRCxNQUFNLEVBQUU7QUFDekIsSUFBTUUsVUFBVSxHQUFHLEVBQUU7QUFDckI7QUFDQSxJQUFNQyxTQUFTLEdBQUc7RUFDZGxCLFNBQVMsRUFBRyxrQ0FBa0M7RUFDOUNDLGFBQWEsRUFBRyxrQ0FBa0M7RUFDbERrQixZQUFZLEVBQUcseUNBQXlDO0VBQ3hEQyxtQkFBbUIsRUFBRztBQUMxQixDQUFDOztBQUVEO0FBQ0F6QixNQUFNLENBQUMwQixHQUFHLENBQUMsUUFBUSxFQUFFLFVBQVVmLE9BQU8sRUFBRWdCLFFBQVEsRUFBRTtFQUM5Q2hCLE9BQU8sQ0FBQ2lCLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHUixNQUFNLENBQUNTLFVBQVUsRUFBRTtFQUM1QyxJQUFJQyxLQUFLLEdBQUdWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDckIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDQyxNQUFNLENBQUM7RUFDakQsSUFBSSxDQUFDUixNQUFNLENBQUNZLE1BQU0sQ0FBQ3RCLE9BQU8sQ0FBQ2lCLE9BQU8sQ0FBQ0MsTUFBTSxFQUFFRSxLQUFLLENBQUMsRUFBRTtJQUNqRCxNQUFNLElBQUlHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztFQUNuQyxDQUFDLE1BQUk7SUFDRCxJQUFHdkIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDTyxJQUFJLElBQUksT0FBTyxFQUFFeEIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDUSxPQUFPLEVBQUUsQ0FBQyxLQUN6RCxJQUFHekIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDTyxJQUFJLElBQUksT0FBTyxFQUFFeEIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDUSxPQUFPLEVBQUU7SUFDbEVULFFBQVEsQ0FBQ1UsTUFBTSxDQUFDLGlCQUFpQixFQUFDO01BQzlCQyxPQUFPLEVBQUc1QjtJQUNkLENBQUMsQ0FBQztFQUNOO0FBQ0osQ0FBQyxDQUFDO0FBRUZWLE1BQU0sQ0FBQzBCLEdBQUcsQ0FBQyxjQUFjO0VBQUEsc0VBQUUsaUJBQU9hLEdBQUcsRUFBRUMsR0FBRztJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQ3RDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxVQUFVLENBQUM7VUFDdkJILEdBQUcsQ0FBQ1gsT0FBTyxDQUFDQyxNQUFNLEdBQUdSLE1BQU0sQ0FBQ1MsVUFBVSxFQUFFO1VBQ3BDQyxLQUFLLEdBQUdWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDTyxHQUFHLENBQUNYLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDO1VBQUEsSUFDeENSLE1BQU0sQ0FBQ1ksTUFBTSxDQUFDTSxHQUFHLENBQUNYLE9BQU8sQ0FBQ0MsTUFBTSxFQUFFRSxLQUFLLENBQUM7WUFBQTtZQUFBO1VBQUE7VUFBQSxNQUNyQyxJQUFJRyxLQUFLLENBQUMsZ0JBQWdCLENBQUM7UUFBQTtVQUUvQmpCLGFBQWEsR0FBRyxPQUFPO1VBQ25CO1VBQ0UwQixJQUFJLEdBQUdKLEdBQUcsQ0FBQ0ssS0FBSyxDQUFDRCxJQUFJO1VBQ3JCcEMsTUFBSyxHQUFHZ0MsR0FBRyxDQUFDSyxLQUFLLENBQUNyQyxLQUFLLEVBRXpCO1VBQ0VzQyxhQUFhLEdBQUcsK0VBQStFLEdBQUV4QyxTQUFTLEdBQUcsaUJBQWlCLEdBQUdDLGFBQWEsR0FBRyxnQkFBZ0IsR0FBR0UsV0FBVyxHQUFHLFFBQVEsR0FBR21DLElBQUksR0FBRyxTQUFTLEdBQUdwQyxNQUFLO1VBQ3JOdUMsT0FBTyxHQUFHO1lBQ1pDLEdBQUcsRUFBRUYsYUFBYTtZQUNsQkcsT0FBTyxFQUFFO2NBQ0wsbUJBQW1CLEVBQUUzQyxTQUFTO2NBQzlCLHVCQUF1QixFQUFFQztZQUM3QjtVQUNKLENBQUM7VUFBQTtVQUFBLE9BQ29CSyxPQUFPLENBQUNlLEdBQUcsQ0FBQ29CLE9BQU8sQ0FBQztRQUFBO1VBQW5DRyxNQUFNO1VBQ1I7VUFDRWxCLE1BQUssR0FBR21CLElBQUksQ0FBQ0MsS0FBSyxDQUFDRixNQUFNLENBQUMsQ0FBQ0csWUFBWSxFQUU3QztVQUNNQyxZQUFZLEdBQUc7WUFDakJOLEdBQUcsRUFBRSxxQ0FBcUM7WUFDMUNDLE9BQU8sRUFBRTtjQUFDLGVBQWUsRUFBRSxTQUFTLEdBQUdqQjtZQUFLO1VBQ2hELENBQUM7VUFBQTtVQUFBLE9BRXlCcEIsT0FBTyxDQUFDZSxHQUFHLENBQUMyQixZQUFZLENBQUM7UUFBQTtVQUE3Q0MsV0FBVztVQUNiO1VBQ0VDLGdCQUFnQixHQUFHTCxJQUFJLENBQUNDLEtBQUssQ0FBQ0csV0FBVyxDQUFDLENBQUMzQixRQUFRO1VBRXpEeEIsRUFBRSxDQUFDeUMsS0FBSyxrREFBa0QsQ0FBQ1csZ0JBQWdCLENBQUNDLEtBQUssQ0FBQyxFQUMxRSxVQUFTQyxLQUFLLEVBQUNDLFFBQVEsRUFBQztZQUNwQixJQUFHRCxLQUFLLEVBQUUsTUFBTUEsS0FBSztZQUNyQixJQUFJQyxRQUFRLENBQUNDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Y0FBUTtjQUM3QnBCLEdBQUcsQ0FBQ1gsT0FBTyxDQUFDTyxJQUFJLEdBQUdsQixhQUFhO2NBQ2hDc0IsR0FBRyxDQUFDWCxPQUFPLENBQUM0QixLQUFLLEdBQUdELGdCQUFnQixDQUFDQyxLQUFLO2NBQzFDakIsR0FBRyxDQUFDWCxPQUFPLENBQUNnQyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQU07Y0FDcENyQixHQUFHLENBQUNYLE9BQU8sQ0FBQ2lDLFFBQVEsR0FBR04sZ0JBQWdCLENBQUNPLElBQUk7Y0FDNUN2QixHQUFHLENBQUNYLE9BQU8sQ0FBQ21DLE1BQU0sR0FBR1IsZ0JBQWdCLENBQUNRLE1BQU07Y0FDNUN4QixHQUFHLENBQUNYLE9BQU8sQ0FBQ29DLElBQUksQ0FBQyxZQUFZO2dCQUN6QnhCLEdBQUcsQ0FBQ3lCLFFBQVEsS0FBSztjQUNyQixDQUFDLENBQUM7WUFDTixDQUFDLE1BQ0c7Y0FDQTFCLEdBQUcsQ0FBQ1gsT0FBTyxDQUFDTyxJQUFJLEdBQUdsQixhQUFhO2NBQ2hDc0IsR0FBRyxDQUFDWCxPQUFPLENBQUM0QixLQUFLLEdBQUdELGdCQUFnQixDQUFDQyxLQUFLO2NBQzFDakIsR0FBRyxDQUFDWCxPQUFPLENBQUNnQyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQU07Y0FDcENyQixHQUFHLENBQUNYLE9BQU8sQ0FBQ2lDLFFBQVEsR0FBR04sZ0JBQWdCLENBQUNPLElBQUk7Y0FDNUN2QixHQUFHLENBQUNYLE9BQU8sQ0FBQ21DLE1BQU0sR0FBR1IsZ0JBQWdCLENBQUNRLE1BQU07Y0FDNUN4QixHQUFHLENBQUNYLE9BQU8sQ0FBQ29DLElBQUksQ0FBQyxZQUFZO2dCQUN6QnhCLEdBQUcsQ0FBQ3lCLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQztjQUNsQyxDQUFDLENBQUM7WUFDTjtVQUNKLENBQUMsQ0FBQztRQUFBO1FBQUE7VUFBQTtNQUFBO0lBQUE7RUFBQSxDQUVqQjtFQUFBO0lBQUE7RUFBQTtBQUFBLElBQUM7QUFDRmpFLE1BQU0sQ0FBQzBCLEdBQUcsQ0FBQyxXQUFXLEVBQUMsVUFBQ2EsR0FBRyxFQUFDQyxHQUFHLEVBQUs7RUFDaENELEdBQUcsQ0FBQ1gsT0FBTyxDQUFDQyxNQUFNLEdBQUdSLE1BQU0sQ0FBQ1MsVUFBVSxFQUFFO0VBQ3hDLElBQUlDLEtBQUssR0FBR1YsTUFBTSxDQUFDVyxNQUFNLENBQUNPLEdBQUcsQ0FBQ1gsT0FBTyxDQUFDQyxNQUFNLENBQUM7RUFDN0MsSUFBSSxDQUFDUixNQUFNLENBQUNZLE1BQU0sQ0FBQ00sR0FBRyxDQUFDWCxPQUFPLENBQUNDLE1BQU0sRUFBRUUsS0FBSyxDQUFDLEVBQUU7SUFDN0MsTUFBTSxJQUFJRyxLQUFLLENBQUMsZ0JBQWdCLENBQUM7RUFDbkMsQ0FBQyxNQUFJO0lBQ0QsSUFBTWdDLGNBQWMsa0ZBQTJFM0MsU0FBUyxDQUFDbEIsU0FBUywyQkFBaUJrQixTQUFTLENBQUNDLFlBQVksQ0FBRTtJQUMzSmdCLEdBQUcsQ0FBQ3lCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDO0VBQ2hDO0FBQ0osQ0FBQyxDQUFDO0FBRUZsRSxNQUFNLENBQUMwQixHQUFHLENBQUMsZUFBZTtFQUFBLHVFQUFFLGtCQUFPYSxHQUFHLEVBQUNDLEdBQUc7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUN0Q0QsR0FBRyxDQUFDWCxPQUFPLENBQUNDLE1BQU0sR0FBR1IsTUFBTSxDQUFDUyxVQUFVLEVBQUU7VUFDcENDLEtBQUssR0FBR1YsTUFBTSxDQUFDVyxNQUFNLENBQUNPLEdBQUcsQ0FBQ1gsT0FBTyxDQUFDQyxNQUFNLENBQUM7VUFBQSxJQUN4Q1IsTUFBTSxDQUFDWSxNQUFNLENBQUNNLEdBQUcsQ0FBQ1gsT0FBTyxDQUFDQyxNQUFNLEVBQUVFLEtBQUssQ0FBQztZQUFBO1lBQUE7VUFBQTtVQUFBLE1BQ3JDLElBQUlHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztRQUFBO1VBRS9CSyxHQUFHLENBQUNYLE9BQU8sQ0FBQ1EsT0FBTyxFQUFFO1VBQ2Y4QixjQUFjLEdBQUcsNkhBQTZIO1VBQ3BKMUIsR0FBRyxDQUFDeUIsUUFBUSxDQUFDQyxjQUFjLENBQUM7UUFBQztRQUFBO1VBQUE7TUFBQTtJQUFBO0VBQUEsQ0FFbEM7RUFBQTtJQUFBO0VBQUE7QUFBQSxJQUFDO0FBQ0psRSxNQUFNLENBQUMwQixHQUFHLENBQUMsY0FBYztFQUFBLHVFQUFFLGtCQUFNYSxHQUFHLEVBQUVDLEdBQUc7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUNyQ0QsR0FBRyxDQUFDWCxPQUFPLENBQUNDLE1BQU0sR0FBR1IsTUFBTSxDQUFDUyxVQUFVLEVBQUU7VUFDcENDLEtBQUssR0FBR1YsTUFBTSxDQUFDVyxNQUFNLENBQUNPLEdBQUcsQ0FBQ1gsT0FBTyxDQUFDQyxNQUFNLENBQUM7VUFBQSxJQUN4Q1IsTUFBTSxDQUFDWSxNQUFNLENBQUNNLEdBQUcsQ0FBQ1gsT0FBTyxDQUFDQyxNQUFNLEVBQUVFLEtBQUssQ0FBQztZQUFBO1lBQUE7VUFBQTtVQUFBLE1BQ3JDLElBQUlHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztRQUFBO1VBQUE7VUFHM0JqQixhQUFhLEdBQUcsT0FBTztVQUN2QndCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFVBQVUsRUFBQ3pCLGFBQWEsQ0FBQztVQUNyQ3dCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE1BQU0sQ0FBQztVQUNiSyxHQUFHLEdBQUcscUNBQXFDO1VBQzNDb0IsSUFBSSxHQUFHakUsRUFBRSxDQUFDa0UsU0FBUyxDQUFDO1lBQ3RCQyxVQUFVLEVBQUcsb0JBQW9CO1lBQ2pDaEUsU0FBUyxFQUFFa0IsU0FBUyxDQUFDbEIsU0FBUztZQUM5QkMsYUFBYSxFQUFHaUIsU0FBUyxDQUFDakIsYUFBYTtZQUN2Q2tCLFlBQVksRUFBR0QsU0FBUyxDQUFDQyxZQUFZO1lBQ3JDbUIsSUFBSSxFQUFHSixHQUFHLENBQUNLLEtBQUssQ0FBQ0Q7VUFDckIsQ0FBQyxDQUFDO1VBQ0kyQixNQUFNLEdBQUc7WUFBQyxjQUFjLEVBQUc7VUFBaUQsQ0FBQztVQUFBO1VBQUEsT0FDNURsRSxLQUFLLENBQUNtRSxJQUFJLENBQUN4QixHQUFHLEVBQUNvQixJQUFJLEVBQUNHLE1BQU0sQ0FBQztRQUFBO1VBQTVDM0MsUUFBUTtVQUNSSSxPQUFLLEdBQUdKLFFBQVEsQ0FBQzZDLElBQUksQ0FBQ3BCLFlBQVk7VUFDeENYLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLEtBQUssRUFBRWYsUUFBUSxDQUFDNkMsSUFBSSxDQUFDQyxhQUFhLENBQUM7VUFBQztVQUFBLE9BQzdCckUsS0FBSyxDQUFDc0IsR0FBRyxDQUFDLG1DQUFtQyxFQUFDO1lBQzdEc0IsT0FBTyxFQUFHO2NBQ04sY0FBYyxFQUFHLGlEQUFpRDtjQUNsRSxlQUFlLG1CQUFXakIsT0FBSztZQUNuQztVQUNKLENBQUMsQ0FBQztRQUFBO1VBTEkyQyxJQUFJO1VBTUZiLFFBQVEsR0FBS2EsSUFBSSxDQUFDRixJQUFJLENBQUNHLFVBQVUsQ0FBakNkLFFBQVE7VUFDUkwsS0FBSyxHQUFLa0IsSUFBSSxDQUFDRixJQUFJLENBQUNJLGFBQWEsQ0FBakNwQixLQUFLO1VBQ2JyRCxFQUFFLENBQUN5QyxLQUFLLGtEQUFrRCxDQUFDWSxLQUFLLENBQUMsRUFDakUsVUFBU0MsS0FBSyxFQUFDQyxRQUFRLEVBQUM7WUFFcEJqQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxTQUFTLEVBQUNnQixRQUFRLENBQUM7WUFDL0IsSUFBR0QsS0FBSyxFQUFFLE1BQU1BLEtBQUs7WUFDckIsSUFBSUMsUUFBUSxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2NBQVE7Y0FDN0JwQixHQUFHLENBQUNYLE9BQU8sQ0FBQ08sSUFBSSxHQUFHbEIsYUFBYTtjQUNoQ3NCLEdBQUcsQ0FBQ1gsT0FBTyxDQUFDNEIsS0FBSyxHQUFHQSxLQUFLO2NBQ3pCakIsR0FBRyxDQUFDWCxPQUFPLENBQUNnQyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQU07Y0FDcENyQixHQUFHLENBQUNYLE9BQU8sQ0FBQ2lDLFFBQVEsR0FBR0EsUUFBUTtjQUMvQnRCLEdBQUcsQ0FBQ1gsT0FBTyxDQUFDb0MsSUFBSSxDQUFDLFlBQVk7Z0JBQ3pCeEIsR0FBRyxDQUFDeUIsUUFBUSxLQUFLO2NBQ3JCLENBQUMsQ0FBQztZQUNOLENBQUMsTUFDRztjQUNBeEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsS0FBSyxFQUFFWCxPQUFLLENBQUM7Y0FDekJRLEdBQUcsQ0FBQ1gsT0FBTyxDQUFDTyxJQUFJLEdBQUdsQixhQUFhO2NBQ2hDc0IsR0FBRyxDQUFDWCxPQUFPLENBQUM0QixLQUFLLEdBQUdBLEtBQUs7Y0FDekJqQixHQUFHLENBQUNYLE9BQU8sQ0FBQ2dDLFVBQVUsR0FBRyxJQUFJLENBQUMsQ0FBTTtjQUNwQ3JCLEdBQUcsQ0FBQ1gsT0FBTyxDQUFDaUMsUUFBUSxHQUFHQSxRQUFRO2NBQy9CdEIsR0FBRyxDQUFDWCxPQUFPLENBQUNvQyxJQUFJLENBQUMsWUFBWTtnQkFDekJ4QixHQUFHLENBQUN5QixRQUFRLENBQUMsZ0JBQWdCLENBQUM7Y0FDbEMsQ0FBQyxDQUFDO1lBQ047VUFDSixDQUFDLENBQUM7VUFBQTtVQUFBO1FBQUE7VUFBQTtVQUFBO1VBRUZ4QixPQUFPLENBQUNDLEdBQUcsQ0FBQyxLQUFLLENBQUM7VUFDbEJGLEdBQUcsQ0FBQ3lCLFFBQVEsQ0FBQyxHQUFHLENBQUM7UUFBQztRQUFBO1VBQUE7TUFBQTtJQUFBO0VBQUEsQ0FHN0I7RUFBQTtJQUFBO0VBQUE7QUFBQSxJQUFDO0FBQ0Y7QUFDQWpFLE1BQU0sQ0FBQzBCLEdBQUcsQ0FBQyxXQUFXLEVBQUUsVUFBU2YsT0FBTyxFQUFFZ0IsUUFBUSxFQUFFO0VBQ2hEaEIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDQyxNQUFNLEdBQUdSLE1BQU0sQ0FBQ1MsVUFBVSxFQUFFO0VBQzVDLElBQUlDLEtBQUssR0FBR1YsTUFBTSxDQUFDVyxNQUFNLENBQUNyQixPQUFPLENBQUNpQixPQUFPLENBQUNDLE1BQU0sQ0FBQztFQUNqRCxJQUFJLENBQUNSLE1BQU0sQ0FBQ1ksTUFBTSxDQUFDdEIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDQyxNQUFNLEVBQUVFLEtBQUssQ0FBQyxFQUFFO0lBQ2pELE1BQU0sSUFBSUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDO0VBQ25DLENBQUMsTUFBSTtJQUNELElBQUd2QixPQUFPLENBQUNpQixPQUFPLENBQUNPLElBQUksSUFBRSxPQUFPLEVBQUM7TUFDN0JNLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG1CQUFtQixDQUFDO01BQ2hDZixRQUFRLENBQUNVLE1BQU0sQ0FBQyxxQkFBcUIsRUFBQztRQUNsQ3dDLEtBQUssRUFBR2xFLE9BQU8sQ0FBQ2lCLE9BQU8sQ0FBQzRCLEtBQUs7UUFDN0JzQixRQUFRLEVBQUduRSxPQUFPLENBQUNpQixPQUFPLENBQUNpQyxRQUFRO1FBQ25Da0IsTUFBTSxFQUFHcEUsT0FBTyxDQUFDaUIsT0FBTyxDQUFDbUM7TUFDN0IsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxNQUNJLElBQUdwRCxPQUFPLENBQUNpQixPQUFPLENBQUNPLElBQUksSUFBRSxPQUFPLEVBQUM7TUFDbENNLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG1CQUFtQixDQUFDO01BQ2hDZixRQUFRLENBQUNVLE1BQU0sQ0FBQyxxQkFBcUIsRUFBQztRQUNsQ3dDLEtBQUssRUFBR2xFLE9BQU8sQ0FBQ2lCLE9BQU8sQ0FBQzRCLEtBQUs7UUFDN0JzQixRQUFRLEVBQUduRSxPQUFPLENBQUNpQixPQUFPLENBQUNpQztNQUMvQixDQUFDLENBQUM7SUFDTixDQUFDLE1BQ0c7TUFDQWxDLFFBQVEsQ0FBQ1UsTUFBTSxDQUFDLG9CQUFvQixDQUFDO0lBQ3pDO0VBQ0o7QUFDSixDQUFDLENBQUM7QUFFRnJDLE1BQU0sQ0FBQ3VFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxVQUFVNUQsT0FBTyxFQUFFZ0IsUUFBUSxFQUFFO0VBQ3ZEaEIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDQyxNQUFNLEdBQUdSLE1BQU0sQ0FBQ1MsVUFBVSxFQUFFO0VBQzVDLElBQUlDLEtBQUssR0FBR1YsTUFBTSxDQUFDVyxNQUFNLENBQUNyQixPQUFPLENBQUNpQixPQUFPLENBQUNDLE1BQU0sQ0FBQztFQUNqRCxJQUFJLENBQUNSLE1BQU0sQ0FBQ1ksTUFBTSxDQUFDdEIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDQyxNQUFNLEVBQUVFLEtBQUssQ0FBQyxFQUFFO0lBQ2pELE1BQU0sSUFBSUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDO0VBQ25DLENBQUMsTUFBSTtJQUNELElBQUk4QyxRQUFRLEdBQUdyRSxPQUFPLENBQUN3RCxJQUFJLENBQUNhLFFBQVE7SUFDcEMsSUFBSUMsUUFBUSxHQUFHdEUsT0FBTyxDQUFDd0QsSUFBSSxDQUFDZSxHQUFHO0lBQy9CLElBQUlDLHFCQUFxQixHQUFHakUsWUFBWSxDQUFDOEQsUUFBUSxDQUFDO0lBQ2xELElBQUlJLHFCQUFxQixHQUFHbEUsWUFBWSxDQUFDK0QsUUFBUSxDQUFDO0lBQ2xELElBQUdFLHFCQUFxQixJQUFJLEVBQUUsSUFBSUMscUJBQXFCLElBQUksRUFBRSxFQUFFO01BQzNELElBQUlKLFFBQVEsSUFBSUMsUUFBUSxFQUFFO1FBQWM7UUFDcEM5RSxFQUFFLENBQUN5QyxLQUFLLENBQUMsMENBQTBDLEVBQUUsQ0FBQ29DLFFBQVEsQ0FBQyxFQUFFLFVBQVN2QixLQUFLLEVBQUU0QixPQUFPLEVBQUVDLE1BQU0sRUFBRTtVQUM5RixJQUFJN0IsS0FBSyxFQUFFLE1BQU1BLEtBQUs7VUFDdEIsSUFBSTRCLE9BQU8sQ0FBQzFCLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFBUTtZQUM1QnhDLE1BQU0sQ0FBQ29FLE9BQU8sQ0FBQ04sUUFBUSxFQUFDSSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUNHLFFBQVEsRUFBRSxVQUFTQyxHQUFHLEVBQUV4QyxNQUFNLEVBQUM7Y0FDOUQsSUFBR0EsTUFBTSxFQUFDO2dCQUNOUixPQUFPLENBQUNDLEdBQUcsQ0FBQzJDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQ0ssYUFBYSxDQUFDO2dCQUNyQy9FLE9BQU8sQ0FBQ2lCLE9BQU8sQ0FBQ2dDLFVBQVUsR0FBRyxJQUFJLENBQUMsQ0FBTTtnQkFDeENqRCxPQUFPLENBQUNpQixPQUFPLENBQUNpQyxRQUFRLEdBQUdtQixRQUFRO2dCQUNuQ3JFLE9BQU8sQ0FBQ2lCLE9BQU8sQ0FBQzRCLEtBQUssR0FBRzZCLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQ0ssYUFBYTtnQkFDaEQvRSxPQUFPLENBQUNpQixPQUFPLENBQUMrRCxVQUFVLEdBQUdOLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQ08sVUFBVTtnQkFDbERqRixPQUFPLENBQUNpQixPQUFPLENBQUNvQyxJQUFJLENBQUMsWUFBWTtrQkFDakNyQyxRQUFRLENBQUNzQyxRQUFRLEtBQUs7Z0JBQzFCLENBQUMsQ0FBQztjQUNGLENBQUMsTUFBSTtnQkFDRHRDLFFBQVEsQ0FBQ2tFLElBQUksNE5BQ21DO2NBQ3BEO1lBQ0osQ0FBQyxDQUFDO1VBQ04sQ0FBQyxNQUFNO1lBQ0hsRSxRQUFRLENBQUNrRSxJQUFJLG9OQUNtQztVQUNwRDtRQUNKLENBQUMsQ0FDQTtNQUFBLENBQUMsTUFBTTtRQUNSbEUsUUFBUSxDQUFDa0UsSUFBSSwyTUFDbUM7TUFDcEQ7SUFDSixDQUFDLE1BQUk7TUFDRGxFLFFBQVEsQ0FBQ2tFLElBQUksd01BQ21DO0lBQ3BEO0VBQ0o7QUFDSixDQUFDLENBQUM7O0FBRUY7QUFDQTdGLE1BQU0sQ0FBQzBCLEdBQUcsQ0FBQyxTQUFTLEVBQUUsVUFBVWYsT0FBTyxFQUFFZ0IsUUFBUSxFQUFFO0VBQy9DaEIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDQyxNQUFNLEdBQUdSLE1BQU0sQ0FBQ1MsVUFBVSxFQUFFO0VBQzVDLElBQUlDLEtBQUssR0FBR1YsTUFBTSxDQUFDVyxNQUFNLENBQUNyQixPQUFPLENBQUNpQixPQUFPLENBQUNDLE1BQU0sQ0FBQztFQUNqRCxJQUFJLENBQUNSLE1BQU0sQ0FBQ1ksTUFBTSxDQUFDdEIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDQyxNQUFNLEVBQUVFLEtBQUssQ0FBQyxFQUFFO0lBQ2pELE1BQU0sSUFBSUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDO0VBQ25DLENBQUMsTUFBSTtJQUNEdkIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDUSxPQUFPLENBQUMsVUFBVXFELEdBQUcsRUFBRTtNQUNuQzlELFFBQVEsQ0FBQ3NDLFFBQVEsQ0FBQyxHQUFHLENBQUM7SUFDMUIsQ0FBQyxDQUFDO0VBQ047QUFDSixDQUFDLENBQUM7QUFLRmpFLE1BQU0sQ0FBQzBCLEdBQUcsQ0FBQyxhQUFhLEVBQUUsVUFBVWYsT0FBTyxFQUFFZ0IsUUFBUSxFQUFFO0VBQ25EaEIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDQyxNQUFNLEdBQUdSLE1BQU0sQ0FBQ1MsVUFBVSxFQUFFO0VBQzVDLElBQUlDLEtBQUssR0FBR1YsTUFBTSxDQUFDVyxNQUFNLENBQUNyQixPQUFPLENBQUNpQixPQUFPLENBQUNDLE1BQU0sQ0FBQztFQUNqRCxJQUFJLENBQUNSLE1BQU0sQ0FBQ1ksTUFBTSxDQUFDdEIsT0FBTyxDQUFDaUIsT0FBTyxDQUFDQyxNQUFNLEVBQUVFLEtBQUssQ0FBQyxFQUFFO0lBQ2pELE1BQU0sSUFBSUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDO0VBQ25DLENBQUMsTUFBSTtJQUNEUCxRQUFRLENBQUNVLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQztFQUN2QztBQUNKLENBQUMsQ0FBQzs7QUFHRjtBQUNBckMsTUFBTSxDQUFDdUUsSUFBSSxDQUFDLG1CQUFtQixFQUFFLFVBQVM1RCxPQUFPLEVBQUVnQixRQUFRLEVBQUU7RUFDekRoQixPQUFPLENBQUNpQixPQUFPLENBQUNDLE1BQU0sR0FBR1IsTUFBTSxDQUFDUyxVQUFVLEVBQUU7RUFDNUMsSUFBSUMsS0FBSyxHQUFHVixNQUFNLENBQUNXLE1BQU0sQ0FBQ3JCLE9BQU8sQ0FBQ2lCLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDO0VBQ2pELElBQUksQ0FBQ1IsTUFBTSxDQUFDWSxNQUFNLENBQUN0QixPQUFPLENBQUNpQixPQUFPLENBQUNDLE1BQU0sRUFBRUUsS0FBSyxDQUFDLEVBQUU7SUFDakQsTUFBTSxJQUFJRyxLQUFLLENBQUMsZ0JBQWdCLENBQUM7RUFDbkMsQ0FBQyxNQUFJO0lBQ0QsSUFBR3ZCLE9BQU8sQ0FBQ2lCLE9BQU8sQ0FBQ08sSUFBSSxJQUFFLE9BQU8sRUFBQztNQUM3QixJQUFJNkMsUUFBUSxHQUFHOUQsWUFBWSxDQUFDUCxPQUFPLENBQUNpQixPQUFPLENBQUM0QixLQUFLLENBQUM7TUFDbEQsSUFBSXNDLElBQUksR0FBRzVFLFlBQVksQ0FBQ1AsT0FBTyxDQUFDaUIsT0FBTyxDQUFDaUMsUUFBUSxDQUFDO01BQ2pELElBQUkyQixRQUFRLEdBQUd0RSxZQUFZLENBQUNQLE9BQU8sQ0FBQ3dELElBQUksQ0FBQ2UsR0FBRyxDQUFDO01BQzdDLElBQUlhLGFBQWEsR0FBSTdFLFlBQVksQ0FBQyxPQUFPLENBQUM7TUFDMUMsSUFBSThFLFNBQVMsR0FBRzlFLFlBQVksQ0FBQ1AsT0FBTyxDQUFDd0QsSUFBSSxDQUFDOEIsSUFBSSxDQUFDO01BQy9DLElBQUlDLFlBQVksR0FBR2hGLFlBQVksQ0FBQ1AsT0FBTyxDQUFDd0QsSUFBSSxDQUFDZ0MsTUFBTSxDQUFDO01BQ3BELElBQUlDLE9BQU8sR0FBR2xGLFlBQVksQ0FBQ1AsT0FBTyxDQUFDd0QsSUFBSSxDQUFDa0MsT0FBTyxDQUFDO01BQ2hELElBQUlYLGFBQWEsR0FBR3hFLFlBQVksQ0FBQ1AsT0FBTyxDQUFDaUIsT0FBTyxDQUFDNEIsS0FBSyxDQUFDO01BQ3ZELElBQUk4QyxZQUFZLEdBQUdwRixZQUFZLENBQUMsRUFBRSxDQUFDO01BQ25DLElBQUdrRixPQUFPLEVBQUM7UUFDUGpHLEVBQUUsQ0FBQ3lDLEtBQUsscU5BR0csQ0FBQ21ELGFBQWEsRUFBRXBGLE9BQU8sQ0FBQ2lCLE9BQU8sQ0FBQ2lDLFFBQVEsRUFDM0NsRCxPQUFPLENBQUNpQixPQUFPLENBQUNtQyxNQUFNLEVBQUNwRCxPQUFPLENBQUNpQixPQUFPLENBQUM0QixLQUFLLEVBQzVDN0MsT0FBTyxDQUFDaUIsT0FBTyxDQUFDNEIsS0FBSyxFQUFDNEMsT0FBTyxFQUFDcEYsUUFBUSxFQUFDc0YsWUFBWSxFQUFDLENBQUMsQ0FBQyxFQUFDLFVBQVM3QyxLQUFLLEVBQUVSLE1BQU0sRUFBQztVQUNsRixJQUFHUSxLQUFLLEVBQUUsTUFBTUEsS0FBSztVQUNyQjlCLFFBQVEsQ0FBQ2tFLElBQUksdUxBQ3lCO1FBQzFDLENBQUMsQ0FBQztNQUNOLENBQUMsTUFDRztRQUNBbEUsUUFBUSxDQUFDa0UsSUFBSSx5TUFDc0M7TUFDdkQ7SUFDSixDQUFDLE1BQ0ksSUFBR2xGLE9BQU8sQ0FBQ2lCLE9BQU8sQ0FBQ08sSUFBSSxJQUFFLE9BQU8sRUFBQztNQUNsQ00sT0FBTyxDQUFDQyxHQUFHLENBQUMsbUJBQW1CLENBQUM7TUFDaENELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDL0IsT0FBTyxDQUFDO01BQ3BCLElBQUlxRSxRQUFRLEdBQUc5RCxZQUFZLENBQUNQLE9BQU8sQ0FBQ2lCLE9BQU8sQ0FBQzRCLEtBQUssQ0FBQztNQUNsRCxJQUFJc0MsSUFBSSxHQUFHNUUsWUFBWSxDQUFDUCxPQUFPLENBQUNpQixPQUFPLENBQUNpQyxRQUFRLENBQUM7TUFDakQsSUFBSTJCLFFBQVEsR0FBR3RFLFlBQVksQ0FBQ1AsT0FBTyxDQUFDd0QsSUFBSSxDQUFDZSxHQUFHLENBQUM7TUFDN0MsSUFBSWEsYUFBYSxHQUFJN0UsWUFBWSxDQUFDLEVBQUUsQ0FBQztNQUNyQyxJQUFJOEUsU0FBUyxHQUFHOUUsWUFBWSxDQUFDUCxPQUFPLENBQUN3RCxJQUFJLENBQUM4QixJQUFJLENBQUM7TUFDL0MsSUFBSUMsWUFBWSxHQUFHaEYsWUFBWSxDQUFDUCxPQUFPLENBQUN3RCxJQUFJLENBQUNnQyxNQUFNLENBQUM7TUFDcEQsSUFBSUMsT0FBTyxHQUFHbEYsWUFBWSxDQUFDUCxPQUFPLENBQUN3RCxJQUFJLENBQUNrQyxPQUFPLENBQUM7TUFDaEQsSUFBSVgsYUFBYSxHQUFHeEUsWUFBWSxDQUFDUCxPQUFPLENBQUNpQixPQUFPLENBQUM0QixLQUFLLENBQUM7TUFDdkQsSUFBSThDLFlBQVksR0FBR3BGLFlBQVksQ0FBQyxFQUFFLENBQUM7TUFDbkMsSUFBR2dGLFlBQVksSUFBSUUsT0FBTyxFQUFDO1FBQ3ZCakcsRUFBRSxDQUFDeUMsS0FBSyxxTkFHRyxDQUFDakMsT0FBTyxDQUFDaUIsT0FBTyxDQUFDTyxJQUFJLEVBQUN4QixPQUFPLENBQUNpQixPQUFPLENBQUNpQyxRQUFRLEVBQ2pEcUMsWUFBWSxFQUFDdkYsT0FBTyxDQUFDaUIsT0FBTyxDQUFDNEIsS0FBSyxFQUNsQzdDLE9BQU8sQ0FBQ2lCLE9BQU8sQ0FBQzRCLEtBQUssRUFBQzRDLE9BQU8sRUFBQ3BGLFFBQVEsRUFBQ3NGLFlBQVksRUFBQyxDQUFDLENBQUMsRUFBQyxVQUFTN0MsS0FBSyxFQUFFUixNQUFNLEVBQUM7VUFDbEYsSUFBR1EsS0FBSyxFQUFFLE1BQU1BLEtBQUs7VUFDckI5QixRQUFRLENBQUNrRSxJQUFJLHVMQUN5QjtRQUMxQyxDQUFDLENBQUM7TUFDTixDQUFDLE1BQ0c7UUFDQWxFLFFBQVEsQ0FBQ2tFLElBQUkseU1BQ3NDO01BQ3ZEO0lBQ0osQ0FBQyxNQUNHO01BQ0EsSUFBSWIsUUFBUSxHQUFHOUQsWUFBWSxDQUFDUCxPQUFPLENBQUN3RCxJQUFJLENBQUNhLFFBQVEsQ0FBQztNQUNsRCxJQUFJYyxJQUFJLEdBQUc1RSxZQUFZLENBQUNQLE9BQU8sQ0FBQ3dELElBQUksQ0FBQ29DLFFBQVEsQ0FBQztNQUM5QyxJQUFJZixRQUFRLEdBQUd0RSxZQUFZLENBQUNQLE9BQU8sQ0FBQ3dELElBQUksQ0FBQ2UsR0FBRyxDQUFDO01BQzdDLElBQUlhLGFBQWEsR0FBSTdFLFlBQVksQ0FBQyxFQUFFLENBQUM7TUFDckMsSUFBSThFLFNBQVMsR0FBRzlFLFlBQVksQ0FBQ1AsT0FBTyxDQUFDd0QsSUFBSSxDQUFDOEIsSUFBSSxDQUFDO01BQy9DLElBQUlDLFlBQVksR0FBR2hGLFlBQVksQ0FBQ1AsT0FBTyxDQUFDd0QsSUFBSSxDQUFDZ0MsTUFBTSxDQUFDO01BQ3BELElBQUlDLE9BQU8sR0FBR2xGLFlBQVksQ0FBQ1AsT0FBTyxDQUFDd0QsSUFBSSxDQUFDa0MsT0FBTyxDQUFDO01BQ2hELElBQUlYLGFBQWEsR0FBR3hFLFlBQVksQ0FBQ1AsT0FBTyxDQUFDd0QsSUFBSSxDQUFDWCxLQUFLLENBQUM7TUFDcEQsSUFBSThDLFlBQVksR0FBR3BGLFlBQVksQ0FBQyxDQUFDLENBQUM7TUFDbEMsSUFBSXNGLEtBQUssR0FBR3RGLFlBQVksQ0FBQyxDQUFDLENBQUM7TUFDM0IsSUFBSThELFFBQVEsSUFBR2MsSUFBSSxJQUFJTixRQUFRLElBQUlRLFNBQVMsSUFBSUUsWUFBWSxJQUFJRSxPQUFPLElBQUlWLGFBQWEsRUFBRztRQUFFO1FBQ3pGdkYsRUFBRSxDQUFDeUMsS0FBSyxDQUFDLDBDQUEwQyxFQUFFLENBQUNvQyxRQUFRLENBQUMsRUFBRSxVQUFTdkIsS0FBSyxFQUFFNEIsT0FBTyxFQUFFQyxNQUFNLEVBQUU7VUFBRTtVQUNoRzdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDMkMsT0FBTyxDQUFDO1VBQ3BCLElBQUk1QixLQUFLLEVBQUUsTUFBTUEsS0FBSztVQUN0QixJQUFJNEIsT0FBTyxDQUFDMUIsTUFBTSxJQUFJLENBQUMsSUFBSTZCLFFBQVEsSUFBSVEsU0FBUyxFQUFFO1lBQU07WUFDcEQ3RixFQUFFLENBQUN5QyxLQUFLLENBQUMsNkNBQTZDLEVBQUUsQ0FBQzBELFlBQVksQ0FBQyxFQUFFLFVBQVM3QyxLQUFLLEVBQUVnRCxVQUFVLEVBQUVuQixNQUFNLEVBQUMsQ0FFL0csQ0FBQyxDQUFDO1lBQ0ZuRSxNQUFNLENBQUN1RixJQUFJLENBQUNsQixRQUFRLEVBQUVsRSxVQUFVLEVBQUUsVUFBU21FLEdBQUcsRUFBRWlCLElBQUksRUFBQztjQUNqRCxJQUFHakIsR0FBRyxFQUFFLE1BQU1BLEdBQUc7Y0FDakJ0RixFQUFFLENBQUN5QyxLQUFLLENBQUMsOEtBQThLLEVBQUUsQ0FBQ21ELGFBQWEsRUFBRUQsSUFBSSxFQUFFSSxZQUFZLEVBQUVSLGFBQWEsRUFBRVYsUUFBUSxFQUFFMEIsSUFBSSxFQUFFMUYsUUFBUSxFQUFDb0YsT0FBTyxFQUFFRSxZQUFZLEVBQUVFLEtBQUssQ0FBQyxFQUFFLFVBQVUvQyxLQUFLLEVBQUVlLElBQUksRUFBRTtnQkFDdlQsSUFBSWYsS0FBSyxFQUFFLE1BQU1BLEtBQUs7Z0JBQ3RCOUIsUUFBUSxDQUFDa0UsSUFBSSwrTEFDeUI7Y0FDMUMsQ0FBQyxDQUFDO1lBQ04sQ0FBQyxDQUFDO1VBQ0YsQ0FBQyxNQUFNLElBQUlMLFFBQVEsSUFBSVEsU0FBUyxFQUFFO1lBQXNCO1lBQ3BEckUsUUFBUSxDQUFDa0UsSUFBSSx1TkFDc0M7VUFDdkQsQ0FBQyxNQUNJO1lBQW1EO1lBQ3BEbEUsUUFBUSxDQUFDa0UsSUFBSSwyTUFDc0M7VUFDdkQ7UUFDSixDQUFDLENBQUM7TUFDTixDQUFDLE1BQU07UUFBUztRQUNabEUsUUFBUSxDQUFDa0UsSUFBSSx5TUFDc0M7TUFDdkQ7SUFDSjtFQUNKO0FBQ0osQ0FBQyxDQUFDO0FBQ0ZjLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHNUcsTUFBTSJ9","map":{"version":3,"names":["express","require","router","Router","qs","db","axios","client_id","client_secret","state","redirectURI","encodeURI","api_url","request","date","start","Date","now","date_now","platform_type","sanitizeHtml","bcrypt","Tokens","tokens","saltRounds","kakaoData","redirect_url","logout_redirect_url","get","response","session","secret","secretSync","token","create","verify","Error","type","destroy","render","API_URL","req","res","console","log","code","query","naver_api_url","options","url","headers","result","JSON","parse","access_token","info_options","info_result","info_result_json","email","error","results1","length","is_logined","nickname","name","mobile","save","redirect","kakaoAuthroize","body","stringify","grant_type","header","post","data","account_email","user","properties","kakao_account","Email","Nickname","Mobile","Login_ID","password","pwd","sanitizeHtml_Login_ID","sanitizeHtml_password","results","fields","compare","Password","err","Email_Address","Student_Id","Student_ID","send","Name","Platform_type","Password2","pwd2","Phone_Number","number","Address","address","Recommand_ID","username","Point","results_ID","hash","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib_login/","sources":["auth.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar qs = require('querystring');\nvar db = require('../db');\nconst axios = require('axios');\n/*네이버 로그인 관련 변수*/\n//var api_url = 'https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=' + client_id + '&redirect_uri=' + redirectURI + '&state=' + state;\nvar client_id = 'sIwGUXdmGRyOPin4mTnj';\nvar client_secret = 'bWV7qU9Ngl';\nvar state = \"1004\";\nvar redirectURI = encodeURI(\"http://localhost:54213/auth/naver/login\");\nvar api_url = 'https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=' + client_id + '&redirect_uri=' + redirectURI + '&state=' + state;\nconst request = require('request-promise');\nconst date = require('date-and-time');\nlet start = Date.now();\nconst date_now = new Date(start);\n///\nvar platform_type = '';\nvar sanitizeHtml = require('sanitize-html');\nvar bcrypt = require('bcrypt');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nconst saltRounds = 10;\n/*카카오 로그인 관련 객체*/\nconst kakaoData = {\n    client_id : 'f28ca6f29082d1991b42941c3178fe60',\n    client_secret : 'fOdmb6jteLfVhsfoWVvqm4Us5CgRc6DS',\n    redirect_url : 'http://localhost:54213/auth/kakao/login',\n    logout_redirect_url : 'http://localhost:54213/auth/kakao/logout'\n}\n\n// 로그인 화면\nrouter.get('/login', function (request, response) {\n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        if(request.session.type == 'kakao') request.session.destroy();\n        else if(request.session.type == 'naver') request.session.destroy();\n        response.render('auth_login_main',{\n            API_URL : api_url\n        })\n    }\n});\n\nrouter.get('/naver/login', async (req, res) => {\n    console.log('naver in')\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        platform_type = 'naver';\n            // 토큰을 발급받으려면 query string으로 넘겨야 할 정보들이다.\n        const code = req.query.code;\n        const state = req.query.state;\n\n            // 로그인 API를 사용해 access token을 발급받는다.\n        const naver_api_url = 'https://nid.naver.com/oauth2.0/token?grant_type=authorization_code&client_id='+ client_id + '&client_secret=' + client_secret + '&redirect_uri=' + redirectURI + '&code=' + code + '&state=' + state;\n        const options = {\n            url: naver_api_url,\n            headers: {\n                'X-Naver-Client-Id': client_id, \n                'X-Naver-Client-Secret': client_secret\n            }\n        }\n        const result = await request.get(options);\n            // string 형태로 값이 담기니 JSON 형식으로 parse를 해줘야 한다.\n        const token = JSON.parse(result).access_token;\n\n        // 발급 받은 access token을 사용해 회원 정보 조회 API를 사용한다.\n        const info_options = {\n            url: 'https://openapi.naver.com/v1/nid/me',\n            headers: {'Authorization': 'Bearer ' + token}\n        };\n\n        const info_result = await request.get(info_options);\n            // string 형태로 값이 담기니 JSON 형식으로 parse를 해줘야 한다.\n        const info_result_json = JSON.parse(info_result).response;\n        \n        db.query(`SELECT * FROM Student WHERE Email_Address = ?`, [info_result_json.email],\n                function(error,results1){\n                    if(error) throw error;\n                    if (results1.length > 0) {       // db에서의 반환값이 있으면 로그인 성공\n                        req.session.type = platform_type;\n                        req.session.email = info_result_json.email;\n                        req.session.is_logined = true;      // 세션 정보 갱신\n                        req.session.nickname = info_result_json.name;\n                        req.session.mobile = info_result_json.mobile;\n                        req.session.save(function () {\n                            res.redirect(`/`);\n                        });\n                    }\n                    else{\n                        req.session.type = platform_type;\n                        req.session.email = info_result_json.email;\n                        req.session.is_logined = true;      // 세션 정보 갱신\n                        req.session.nickname = info_result_json.name;\n                        req.session.mobile = info_result_json.mobile;\n                        req.session.save(function () {\n                            res.redirect('/auth/register');\n                        });   \n                    }\n                })\n            }\n})\nrouter.get('/kakao/in',(req,res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        const kakaoAuthroize = `https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=${kakaoData.client_id}&redirect_uri=${kakaoData.redirect_url}`\n        res.redirect(kakaoAuthroize);\n    }\n})\n\nrouter.get('/kakao/logout', async (req,res)=>{\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        req.session.destroy();\n        const kakaoAuthroize = 'https://kauth.kakao.com/oauth/logout?client_id=f28ca6f29082d1991b42941c3178fe60&logout_redirect_uri=http://localhost:54213/'\n        res.redirect(kakaoAuthroize);\n    }\n  })\nrouter.get('/kakao/login', async(req, res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        try{\n            platform_type = \"kakao\";\n            console.log('platform',platform_type);\n            console.log('inin');\n            const url = 'https://kauth.kakao.com/oauth/token'\n            const body = qs.stringify({\n                grant_type : 'authorization_code',\n                client_id: kakaoData.client_id,\n                client_secret : kakaoData.client_secret,\n                redirect_url : kakaoData.redirect_url,\n                code : req.query.code\n            })\n            const header = {'content-Type' : 'application/x-www-form-urlencoded;charset=utf-8'}\n            const response = await axios.post(url,body,header);\n            const token = response.data.access_token;\n            console.log(\"res\", response.data.account_email);\n            const user = await axios.get('https://kapi.kakao.com/v2/user/me',{\n                headers : {\n                    'Content-Type' : 'application/x-www-form-urlencoded;charset=utf-8',\n                    'Authorization':`Bearer ${token}`\n                }\n            })\n            const { nickname } = user.data.properties;\n            const { email } = user.data.kakao_account;\n            db.query(`SELECT * FROM Student WHERE Email_Address = ?`, [email],\n            function(error,results1){\n                \n                console.log('result1',results1);\n                if(error) throw error;\n                if (results1.length > 0) {       // db에서의 반환값이 있으면 로그인 성공\n                    req.session.type = platform_type;\n                    req.session.email = email;\n                    req.session.is_logined = true;      // 세션 정보 갱신\n                    req.session.nickname = nickname;\n                    req.session.save(function () {\n                        res.redirect(`/`);\n                    });\n                }\n                else{\n                    console.log('토큰!', token);\n                    req.session.type = platform_type;\n                    req.session.email = email;\n                    req.session.is_logined = true;      // 세션 정보 갱신\n                    req.session.nickname = nickname;\n                    req.session.save(function () {\n                        res.redirect('/auth/register');\n                    });   \n                }\n            })\n        }catch{\n            console.log('실패!');\n            res.redirect('/');\n        }\n    }\n})\n// 회원가입 화면\nrouter.get('/register', function(request, response) {\n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        if(request.session.type=='naver'){\n            console.log('naver_register_in')\n            response.render('auth_register_naver',{\n                Email : request.session.email,\n                Nickname : request.session.nickname,\n                Mobile : request.session.mobile,\n            });\n        }\n        else if(request.session.type=='kakao'){\n            console.log('kakao_register_in')\n            response.render('auth_register_kakao',{\n                Email : request.session.email,\n                Nickname : request.session.nickname\n            });\n        }\n        else{\n            response.render('auth_register_main');\n        }\n    }\n});\n\nrouter.post('/login_process', function (request, response) {\n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        var Login_ID = request.body.Login_ID;\n        var password = request.body.pwd;\n        var sanitizeHtml_Login_ID = sanitizeHtml(Login_ID);\n        var sanitizeHtml_password = sanitizeHtml(password);\n        if(sanitizeHtml_Login_ID != '' && sanitizeHtml_password != '' ){\n            if (Login_ID && password) {             // id와 pw가 입력되었는지 확인\n                db.query('SELECT * FROM Student WHERE Login_ID = ?', [Login_ID], function(error, results, fields) {\n                    if (error) throw error;\n                    if (results.length > 0) {       // db에서의 반환값이 있으면 로그인 성공\n                        bcrypt.compare(password,results[0].Password, function(err, result){\n                            if(result){\n                                console.log(results[0].Email_Address);\n                                request.session.is_logined = true;      // 세션 정보 갱신\n                                request.session.nickname = Login_ID;\n                                request.session.email = results[0].Email_Address\n                                request.session.Student_Id = results[0].Student_ID;\n                                request.session.save(function () {\n                                response.redirect(`/`);\n                            }); \n                            }else{\n                                response.send(`<script type=\"text/javascript\">alert(\"로그인 정보가 일치하지 않습니다.\"); \n                                document.location.href=\"/auth/login\";</script>`);    \n                            }\n                        })\n                    } else {              \n                        response.send(`<script type=\"text/javascript\">alert(\"로그인 정보가 일치하지 않습니다.\"); \n                        document.location.href=\"/auth/login\";</script>`);    \n                    }           \n                }\n                )} else {\n                response.send(`<script type=\"text/javascript\">alert(\"아이디와 비밀번호를 입력하세요!\"); \n                document.location.href=\"/auth/login\";</script>`);    \n            }\n        }else{\n            response.send(`<script type=\"text/javascript\">alert(\"로그인 정보가 일치하지 않습니다.\"); \n            document.location.href=\"/auth/login\";</script>`); \n        }\n    }\n});\n\n// 로그아웃\nrouter.get('/logout', function (request, response) {\n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        request.session.destroy(function (err) {\n            response.redirect('/');\n        });\n    }\n});\n\n\n\n\nrouter.get('/naverLogin', function (request, response) {\n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        response.render('auth_login_naver')\n    }\n});\n\n \n// 회원가입 프로세스\nrouter.post('/register_process', function(request, response) {  \n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        if(request.session.type=='naver'){\n            var Login_ID = sanitizeHtml(request.session.email);\n            var Name = sanitizeHtml(request.session.nickname);\n            var Password = sanitizeHtml(request.body.pwd);    \n            var Platform_type  = sanitizeHtml('naver');\n            var Password2 = sanitizeHtml(request.body.pwd2);\n            var Phone_Number = sanitizeHtml(request.body.number);\n            var Address = sanitizeHtml(request.body.address);\n            var Email_Address = sanitizeHtml(request.session.email);\n            var Recommand_ID = sanitizeHtml('');\n            if(Address){\n                db.query(`insert into Student(Platform_type ,Name, Phone_Number, \n                    Email_Address, Login_ID, Address, Date, Recommand_ID, Point) values\n                    (?,?,?,?,?,?,?,\n                    ?, ?)`,[Platform_type, request.session.nickname,\n                        request.session.mobile,request.session.email,\n                        request.session.email,Address,date_now,Recommand_ID,0],function(error, result){\n                    if(error) throw error;\n                    response.send(`<script type=\"text/javascript\">alert(\"회원가입이 완료되었습니다!\");\n                    document.location.href=\"/\";</script>`);\n                })\n            }\n            else{\n                response.send(`<script type=\"text/javascript\">alert(\"입력되지 않은 정보가 있습니다.\"); \n                document.location.href=\"/auth/register\";</script>`);\n            }\n        }\n        else if(request.session.type=='kakao'){\n            console.log('kakao_register_in');\n            console.log(request)\n            var Login_ID = sanitizeHtml(request.session.email);\n            var Name = sanitizeHtml(request.session.nickname);\n            var Password = sanitizeHtml(request.body.pwd);    \n            var Platform_type  = sanitizeHtml('');\n            var Password2 = sanitizeHtml(request.body.pwd2);\n            var Phone_Number = sanitizeHtml(request.body.number);\n            var Address = sanitizeHtml(request.body.address);\n            var Email_Address = sanitizeHtml(request.session.email);\n            var Recommand_ID = sanitizeHtml('');\n            if(Phone_Number && Address){\n                db.query(`insert into Student(Platform_type ,Name, Phone_Number, \n                    Email_Address, Login_ID, Address, Date, Recommand_ID, Point) values\n                    (?,?,?,?,?,?,?,\n                    ?, ?)`,[request.session.type,request.session.nickname,\n                        Phone_Number,request.session.email,\n                        request.session.email,Address,date_now,Recommand_ID,0],function(error, result){\n                    if(error) throw error;\n                    response.send(`<script type=\"text/javascript\">alert(\"회원가입이 완료되었습니다!\");\n                    document.location.href=\"/\";</script>`);\n                })\n            }\n            else{\n                response.send(`<script type=\"text/javascript\">alert(\"입력되지 않은 정보가 있습니다.\"); \n                document.location.href=\"/auth/register\";</script>`);\n            }\n        }\n        else{\n            var Login_ID = sanitizeHtml(request.body.Login_ID);\n            var Name = sanitizeHtml(request.body.username);\n            var Password = sanitizeHtml(request.body.pwd);    \n            var Platform_type  = sanitizeHtml('');\n            var Password2 = sanitizeHtml(request.body.pwd2);\n            var Phone_Number = sanitizeHtml(request.body.number);\n            var Address = sanitizeHtml(request.body.address);\n            var Email_Address = sanitizeHtml(request.body.email);\n            var Recommand_ID = sanitizeHtml(0);\n            var Point = sanitizeHtml(0);\n            if (Login_ID &&Name && Password && Password2 && Phone_Number && Address && Email_Address ) { //필수정보\n                db.query('SELECT * FROM Student WHERE Login_ID = ?', [Login_ID], function(error, results, fields) { // DB에 같은 이름의 회원아이디가 있는지 확인\n                    console.log(results);\n                    if (error) throw error;\n                    if (results.length <= 0 && Password == Password2) {     // DB에 같은 이름의 회원아이디가 없고, 비밀번호가 올바르게 입력된 경우\n                        db.query('SELECT * FROM Student WHERE recommendID = ?', [Recommand_ID], function(error, results_ID, fields){\n                        \n                    }) \n                    bcrypt.hash(Password, saltRounds, function(err, hash){\n                        if(err) throw err;\n                        db.query('INSERT INTO Student (Platform_type , Name , Phone_Number , Email_Address , Login_ID , Password , Address , Date , Recommand_ID, Point ) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', [Platform_type, Name, Phone_Number, Email_Address, Login_ID, hash, date_now,Address, Recommand_ID, Point], function (error, data) {\n                            if (error) throw error;\n                            response.send(`<script type=\"text/javascript\">alert(\"회원가입이 완료되었습니다!\");\n                            document.location.href=\"/\";</script>`);\n                        });\n                    })\n                    } else if (Password != Password2) {                     // 비밀번호가 올바르게 입력되지 않은 경우\n                        response.send(`<script type=\"text/javascript\">alert(\"입력된 비밀번호가 서로 다릅니다.\"); \n                        document.location.href=\"/auth/register\";</script>`);    \n                    }\n                    else {                                                  // DB에 같은 이름의 회원아이디가 있는 경우\n                        response.send(`<script type=\"text/javascript\">alert(\"이미 존재하는 아이디 입니다.\"); \n                        document.location.href=\"/auth/register\";</script>`);    \n                    }            \n                });\n            } else {        // 입력되지 않은 정보가 있는 경우\n                response.send(`<script type=\"text/javascript\">alert(\"입력되지 않은 정보가 있습니다.\"); \n                document.location.href=\"/auth/register\";</script>`);\n            }\n        }\n    }\n});\nmodule.exports = router;"],"mappings":"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"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar mysql = require('mysql2');\nvar db = mysql.createConnection({\n  host: 'localhost',\n  user: 'root',\n  password: 'wkddudwo1!',\n  database: 'codingnara',\n  multipleStatements: true\n});\ndb.connect();\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJteXNxbCIsInJlcXVpcmUiLCJkYiIsImNyZWF0ZUNvbm5lY3Rpb24iLCJob3N0IiwidXNlciIsInBhc3N3b3JkIiwiZGF0YWJhc2UiLCJtdWx0aXBsZVN0YXRlbWVudHMiLCJjb25uZWN0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS13ZWJzb2NrZXQvIiwic291cmNlcyI6WyJkYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbXlzcWwgPSByZXF1aXJlKCdteXNxbDInKTtcbnZhciBkYiA9IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xuICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxuICAgIHVzZXI6ICdyb290JyxcbiAgICBwYXNzd29yZDogJ3drZGR1ZHdvMSEnLFxuICAgIGRhdGFiYXNlOiAnY29kaW5nbmFyYScsXG4gICAgbXVsdGlwbGVTdGF0ZW1lbnRzOiB0cnVlXG59KTtcbmRiLmNvbm5lY3QoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBkYjsiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsS0FBSyxHQUFHQyxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQzdCLElBQUlDLEVBQUUsR0FBR0YsS0FBSyxDQUFDRyxnQkFBZ0IsQ0FBQztFQUM1QkMsSUFBSSxFQUFFLFdBQVc7RUFDakJDLElBQUksRUFBRSxNQUFNO0VBQ1pDLFFBQVEsRUFBRSxZQUFZO0VBQ3RCQyxRQUFRLEVBQUUsWUFBWTtFQUN0QkMsa0JBQWtCLEVBQUU7QUFDeEIsQ0FBQyxDQUFDO0FBQ0ZOLEVBQUUsQ0FBQ08sT0FBTyxFQUFFO0FBRVpDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHVCxFQUFFIn0=","map":{"version":3,"names":["mysql","require","db","createConnection","host","user","password","database","multipleStatements","connect","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-websocket/","sources":["db.js"],"sourcesContent":["var mysql = require('mysql2');\nvar db = mysql.createConnection({\n    host: 'localhost',\n    user: 'root',\n    password: 'wkddudwo1!',\n    database: 'codingnara',\n    multipleStatements: true\n});\ndb.connect();\n\nmodule.exports = db;"],"mappings":";;AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAC7B,IAAIC,EAAE,GAAGF,KAAK,CAACG,gBAAgB,CAAC;EAC5BC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE,YAAY;EACtBC,QAAQ,EAAE,YAAY;EACtBC,kBAAkB,EAAE;AACxB,CAAC,CAAC;AACFN,EAAE,CAACO,OAAO,EAAE;AAEZC,MAAM,CAACC,OAAO,GAAGT,EAAE"}},"mtime":1674744787152},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/main_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nvar fs = require('fs');\nrouter.get('/', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    res.render('main_page', {\n      authCheck: authCheck.statusUI(req, res)\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImF1dGhDaGVjayIsInNhbml0aXplSHRtbCIsIlRva2VucyIsInRva2VucyIsImZzIiwiZ2V0IiwicmVxIiwicmVzIiwic2Vzc2lvbiIsInNlY3JldCIsInNlY3JldFN5bmMiLCJ0b2tlbiIsImNyZWF0ZSIsInZlcmlmeSIsIkVycm9yIiwicmVuZGVyIiwic3RhdHVzVUkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFuZy15ZW9uZ2phZS9EZXNrdG9wL2NvZGluZy1uYXJhLXdlYnNvY2tldC9saWIvIiwic291cmNlcyI6WyJtYWluX3BhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnZhciBhdXRoQ2hlY2sgPSByZXF1aXJlKCcuLi9saWJfbG9naW4vYXV0aENoZWNrLmpzJyk7XG52YXIgc2FuaXRpemVIdG1sID0gcmVxdWlyZSgnc2FuaXRpemUtaHRtbCcpO1xudmFyIFRva2VucyA9IHJlcXVpcmUoXCJjc3JmXCIpO1xudmFyIHRva2VucyA9IG5ldyBUb2tlbnMoKTtcbnZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbnJvdXRlci5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcbiAgICByZXEuc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICAgIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxLnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxLnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgICByZXMucmVuZGVyKCdtYWluX3BhZ2UnLFxuICAgICAgICB7XG4gICAgICAgICAgYXV0aENoZWNrIDogYXV0aENoZWNrLnN0YXR1c1VJKHJlcSwgcmVzKVxuICAgICAgICB9KTtcbiAgICB9XG59KVxuXG4gIG1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDaEMsSUFBSUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sRUFBRTtBQUM3QixJQUFJQyxTQUFTLEdBQUdILE9BQU8sQ0FBQywyQkFBMkIsQ0FBQztBQUNwRCxJQUFJSSxZQUFZLEdBQUdKLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDM0MsSUFBSUssTUFBTSxHQUFHTCxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLElBQUlNLE1BQU0sR0FBRyxJQUFJRCxNQUFNLEVBQUU7QUFDekIsSUFBSUUsRUFBRSxHQUFHUCxPQUFPLENBQUMsSUFBSSxDQUFDO0FBRXRCQyxNQUFNLENBQUNPLEdBQUcsQ0FBQyxHQUFHLEVBQUUsVUFBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUs7RUFDMUJELEdBQUcsQ0FBQ0UsT0FBTyxDQUFDQyxNQUFNLEdBQUdOLE1BQU0sQ0FBQ08sVUFBVSxFQUFFO0VBQ3hDLElBQUlDLEtBQUssR0FBR1IsTUFBTSxDQUFDUyxNQUFNLENBQUNOLEdBQUcsQ0FBQ0UsT0FBTyxDQUFDQyxNQUFNLENBQUM7RUFDN0MsSUFBSSxDQUFDTixNQUFNLENBQUNVLE1BQU0sQ0FBQ1AsR0FBRyxDQUFDRSxPQUFPLENBQUNDLE1BQU0sRUFBRUUsS0FBSyxDQUFDLEVBQUU7SUFDN0MsTUFBTSxJQUFJRyxLQUFLLENBQUMsZ0JBQWdCLENBQUM7RUFDbkMsQ0FBQyxNQUFJO0lBQ0RQLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLFdBQVcsRUFDdEI7TUFDRWYsU0FBUyxFQUFHQSxTQUFTLENBQUNnQixRQUFRLENBQUNWLEdBQUcsRUFBRUMsR0FBRztJQUN6QyxDQUFDLENBQUM7RUFDTjtBQUNKLENBQUMsQ0FBQztBQUVBVSxNQUFNLENBQUNDLE9BQU8sR0FBR3BCLE1BQU0ifQ==","map":{"version":3,"names":["express","require","router","Router","authCheck","sanitizeHtml","Tokens","tokens","fs","get","req","res","session","secret","secretSync","token","create","verify","Error","render","statusUI","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/","sources":["main_page.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nvar fs = require('fs');\n\nrouter.get('/', (req, res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        res.render('main_page',\n        {\n          authCheck : authCheck.statusUI(req, res)\n        });\n    }\n})\n\n  module.exports = router;"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAChC,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC7B,IAAIC,SAAS,GAAGH,OAAO,CAAC,2BAA2B,CAAC;AACpD,IAAII,YAAY,GAAGJ,OAAO,CAAC,eAAe,CAAC;AAC3C,IAAIK,MAAM,GAAGL,OAAO,CAAC,MAAM,CAAC;AAC5B,IAAIM,MAAM,GAAG,IAAID,MAAM,EAAE;AACzB,IAAIE,EAAE,GAAGP,OAAO,CAAC,IAAI,CAAC;AAEtBC,MAAM,CAACO,GAAG,CAAC,GAAG,EAAE,UAACC,GAAG,EAAEC,GAAG,EAAK;EAC1BD,GAAG,CAACE,OAAO,CAACC,MAAM,GAAGN,MAAM,CAACO,UAAU,EAAE;EACxC,IAAIC,KAAK,GAAGR,MAAM,CAACS,MAAM,CAACN,GAAG,CAACE,OAAO,CAACC,MAAM,CAAC;EAC7C,IAAI,CAACN,MAAM,CAACU,MAAM,CAACP,GAAG,CAACE,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IAC7C,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACDP,GAAG,CAACQ,MAAM,CAAC,WAAW,EACtB;MACEf,SAAS,EAAGA,SAAS,CAACgB,QAAQ,CAACV,GAAG,EAAEC,GAAG;IACzC,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEAU,MAAM,CAACC,OAAO,GAAGpB,MAAM"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib_login/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib_login/authCheck.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nmodule.exports = {\n  isOwner: function isOwner(request, response) {\n    if (request.session.is_logined) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n  statusUI: function statusUI(request, response) {\n    var authStatusUI = '<div align=\"right\"><a href=\"/auth/login\">로그인</a></div>';\n    if (this.isOwner(request, response)) {\n      authStatusUI = \"<div align=\\\"right\\\">\".concat(request.session.nickname, \"\\uB2D8 \\uD658\\uC601\\uD569\\uB2C8\\uB2E4 \\n        <a href=\\\"/auth/logout\\\"\\n        >\\uB85C\\uADF8\\uC544\\uC6C3</a>\\n        <a href=\\\"/myinfo\\\"\\n        >\\uB9C8\\uC774\\uD398\\uC774\\uC9C0</a>\\n        </div>\\n        \");\n    }\n    return authStatusUI;\n  },\n  kakao_statusUI: function kakao_statusUI(request, response) {\n    var authStatusUI = \"<div align=\\\"right\\\"><a href=\\\"/auth/login\\\"\\n      >\\uB85C\\uADF8\\uC778</a></div>\";\n    if (this.isOwner(request, response)) {\n      authStatusUI = \"\\n        <div align=\\\"right\\\">\".concat(request.session.nickname, \"\\uB2D8 \\uD658\\uC601\\uD569\\uB2C8\\uB2E4 \\n        <a id=\\\"kakao-logout-btn\\\" href=\\\"/auth/kakao/logout\\\">\\n        \\uB85C\\uADF8\\uC544\\uC6C3\\n        </a>\\n        <a href=\\\"/myinfo\\\"\\n        >\\uB9C8\\uC774\\uD398\\uC774\\uC9C0</a>\\n        </div>\\n        \");\n    }\n    return authStatusUI;\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiaXNPd25lciIsInJlcXVlc3QiLCJyZXNwb25zZSIsInNlc3Npb24iLCJpc19sb2dpbmVkIiwic3RhdHVzVUkiLCJhdXRoU3RhdHVzVUkiLCJuaWNrbmFtZSIsImtha2FvX3N0YXR1c1VJIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFuZy15ZW9uZ2phZS9EZXNrdG9wL2NvZGluZy1uYXJhLXdlYnNvY2tldC9saWJfbG9naW4vIiwic291cmNlcyI6WyJhdXRoQ2hlY2suanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaXNPd25lcjogZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVxdWVzdC5zZXNzaW9uLmlzX2xvZ2luZWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBzdGF0dXNVSTogZnVuY3Rpb24gKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgICB2YXIgYXV0aFN0YXR1c1VJID0gJzxkaXYgYWxpZ249XCJyaWdodFwiPjxhIGhyZWY9XCIvYXV0aC9sb2dpblwiPuuhnOq3uOyduDwvYT48L2Rpdj4nO1xuICAgICAgaWYgKHRoaXMuaXNPd25lcihyZXF1ZXN0LCByZXNwb25zZSkpIHtcbiAgICAgICAgYXV0aFN0YXR1c1VJID0gYDxkaXYgYWxpZ249XCJyaWdodFwiPiR7cmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lfeuLmCDtmZjsmIHtlanri4jri6QgXG4gICAgICAgIDxhIGhyZWY9XCIvYXV0aC9sb2dvdXRcIlxuICAgICAgICA+66Gc6re47JWE7JuDPC9hPlxuICAgICAgICA8YSBocmVmPVwiL215aW5mb1wiXG4gICAgICAgID7rp4jsnbTtjpjsnbTsp4A8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF1dGhTdGF0dXNVSTtcbiAgICB9LFxuICAgIGtha2FvX3N0YXR1c1VJOiBmdW5jdGlvbiAocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICAgIHZhciBhdXRoU3RhdHVzVUkgPSBgPGRpdiBhbGlnbj1cInJpZ2h0XCI+PGEgaHJlZj1cIi9hdXRoL2xvZ2luXCJcbiAgICAgID7roZzqt7jsnbg8L2E+PC9kaXY+YDtcbiAgICAgIGlmICh0aGlzLmlzT3duZXIocmVxdWVzdCwgcmVzcG9uc2UpKSB7XG4gICAgICAgIGF1dGhTdGF0dXNVSSA9IGBcbiAgICAgICAgPGRpdiBhbGlnbj1cInJpZ2h0XCI+JHtyZXF1ZXN0LnNlc3Npb24ubmlja25hbWV964uYIO2ZmOyYge2VqeuLiOuLpCBcbiAgICAgICAgPGEgaWQ9XCJrYWthby1sb2dvdXQtYnRuXCIgaHJlZj1cIi9hdXRoL2tha2FvL2xvZ291dFwiPlxuICAgICAgICDroZzqt7jslYTsm4NcbiAgICAgICAgPC9hPlxuICAgICAgICA8YSBocmVmPVwiL215aW5mb1wiXG4gICAgICAgID7rp4jsnbTtjpjsnbTsp4A8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF1dGhTdGF0dXNVSTtcbiAgICB9XG4gIH0iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2JDLE9BQU8sRUFBRSxpQkFBVUMsT0FBTyxFQUFFQyxRQUFRLEVBQUU7SUFDcEMsSUFBSUQsT0FBTyxDQUFDRSxPQUFPLENBQUNDLFVBQVUsRUFBRTtNQUM5QixPQUFPLElBQUk7SUFDYixDQUFDLE1BQU07TUFDTCxPQUFPLEtBQUs7SUFDZDtFQUNGLENBQUM7RUFDREMsUUFBUSxFQUFFLGtCQUFVSixPQUFPLEVBQUVDLFFBQVEsRUFBRTtJQUNyQyxJQUFJSSxZQUFZLEdBQUcsd0RBQXdEO0lBQzNFLElBQUksSUFBSSxDQUFDTixPQUFPLENBQUNDLE9BQU8sRUFBRUMsUUFBUSxDQUFDLEVBQUU7TUFDbkNJLFlBQVksa0NBQXlCTCxPQUFPLENBQUNFLE9BQU8sQ0FBQ0ksUUFBUSx3TkFNNUQ7SUFDSDtJQUNBLE9BQU9ELFlBQVk7RUFDckIsQ0FBQztFQUNERSxjQUFjLEVBQUUsd0JBQVVQLE9BQU8sRUFBRUMsUUFBUSxFQUFFO0lBQzNDLElBQUlJLFlBQVksc0ZBQ0Q7SUFDZixJQUFJLElBQUksQ0FBQ04sT0FBTyxDQUFDQyxPQUFPLEVBQUVDLFFBQVEsQ0FBQyxFQUFFO01BQ25DSSxZQUFZLDRDQUNTTCxPQUFPLENBQUNFLE9BQU8sQ0FBQ0ksUUFBUSxnUUFPNUM7SUFDSDtJQUNBLE9BQU9ELFlBQVk7RUFDckI7QUFDRixDQUFDIn0=","map":{"version":3,"names":["module","exports","isOwner","request","response","session","is_logined","statusUI","authStatusUI","nickname","kakao_statusUI"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib_login/","sources":["authCheck.js"],"sourcesContent":["module.exports = {\n    isOwner: function (request, response) {\n      if (request.session.is_logined) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    statusUI: function (request, response) {\n      var authStatusUI = '<div align=\"right\"><a href=\"/auth/login\">로그인</a></div>';\n      if (this.isOwner(request, response)) {\n        authStatusUI = `<div align=\"right\">${request.session.nickname}님 환영합니다 \n        <a href=\"/auth/logout\"\n        >로그아웃</a>\n        <a href=\"/myinfo\"\n        >마이페이지</a>\n        </div>\n        `;\n      }\n      return authStatusUI;\n    },\n    kakao_statusUI: function (request, response) {\n      var authStatusUI = `<div align=\"right\"><a href=\"/auth/login\"\n      >로그인</a></div>`;\n      if (this.isOwner(request, response)) {\n        authStatusUI = `\n        <div align=\"right\">${request.session.nickname}님 환영합니다 \n        <a id=\"kakao-logout-btn\" href=\"/auth/kakao/logout\">\n        로그아웃\n        </a>\n        <a href=\"/myinfo\"\n        >마이페이지</a>\n        </div>\n        `;\n      }\n      return authStatusUI;\n    }\n  }"],"mappings":";;AAAAA,MAAM,CAACC,OAAO,GAAG;EACbC,OAAO,EAAE,iBAAUC,OAAO,EAAEC,QAAQ,EAAE;IACpC,IAAID,OAAO,CAACE,OAAO,CAACC,UAAU,EAAE;MAC9B,OAAO,IAAI;IACb,CAAC,MAAM;MACL,OAAO,KAAK;IACd;EACF,CAAC;EACDC,QAAQ,EAAE,kBAAUJ,OAAO,EAAEC,QAAQ,EAAE;IACrC,IAAII,YAAY,GAAG,wDAAwD;IAC3E,IAAI,IAAI,CAACN,OAAO,CAACC,OAAO,EAAEC,QAAQ,CAAC,EAAE;MACnCI,YAAY,kCAAyBL,OAAO,CAACE,OAAO,CAACI,QAAQ,wNAM5D;IACH;IACA,OAAOD,YAAY;EACrB,CAAC;EACDE,cAAc,EAAE,wBAAUP,OAAO,EAAEC,QAAQ,EAAE;IAC3C,IAAII,YAAY,sFACD;IACf,IAAI,IAAI,CAACN,OAAO,CAACC,OAAO,EAAEC,QAAQ,CAAC,EAAE;MACnCI,YAAY,4CACSL,OAAO,CAACE,OAAO,CAACI,QAAQ,gQAO5C;IACH;IACA,OAAOD,YAAY;EACrB;AACF,CAAC"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/curi_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nrouter.get('/', function (req, res) {\n  res.render('curri_page', {\n    authCheck: authCheck.statusUI(req, res)\n  });\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImF1dGhDaGVjayIsImdldCIsInJlcSIsInJlcyIsInJlbmRlciIsInN0YXR1c1VJIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS13ZWJzb2NrZXQvbGliLyIsInNvdXJjZXMiOlsiY3VyaV9wYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG52YXIgYXV0aENoZWNrID0gcmVxdWlyZSgnLi4vbGliX2xvZ2luL2F1dGhDaGVjay5qcycpO1xuXG5yb3V0ZXIuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnJlbmRlcignY3VycmlfcGFnZScsXG4gICAgICAgIHtcbiAgICAgICAgICBhdXRoQ2hlY2sgOiBhdXRoQ2hlY2suc3RhdHVzVUkocmVxLCByZXMpXG4gICAgICAgIH0pO1xuICB9KVxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7ICAiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2hDLElBQUlDLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLEVBQUU7QUFDN0IsSUFBSUMsU0FBUyxHQUFHSCxPQUFPLENBQUMsMkJBQTJCLENBQUM7QUFFcERDLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLEdBQUcsRUFBRSxVQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBSztFQUMxQkEsR0FBRyxDQUFDQyxNQUFNLENBQUMsWUFBWSxFQUNuQjtJQUNFSixTQUFTLEVBQUdBLFNBQVMsQ0FBQ0ssUUFBUSxDQUFDSCxHQUFHLEVBQUVDLEdBQUc7RUFDekMsQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxDQUFDO0FBQ0pHLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHVCxNQUFNIn0=","map":{"version":3,"names":["express","require","router","Router","authCheck","get","req","res","render","statusUI","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/","sources":["curi_page.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\n\nrouter.get('/', (req, res) => {\n    res.render('curri_page',\n        {\n          authCheck : authCheck.statusUI(req, res)\n        });\n  })\nmodule.exports = router;  "],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAChC,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC7B,IAAIC,SAAS,GAAGH,OAAO,CAAC,2BAA2B,CAAC;AAEpDC,MAAM,CAACG,GAAG,CAAC,GAAG,EAAE,UAACC,GAAG,EAAEC,GAAG,EAAK;EAC1BA,GAAG,CAACC,MAAM,CAAC,YAAY,EACnB;IACEJ,SAAS,EAAGA,SAAS,CAACK,QAAQ,CAACH,GAAG,EAAEC,GAAG;EACzC,CAAC,CAAC;AACR,CAAC,CAAC;AACJG,MAAM,CAACC,OAAO,GAAGT,MAAM"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/ask_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nrouter.get('/', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    res.render('ask_page', {\n      authCheck: authCheck.statusUI(req, res)\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImF1dGhDaGVjayIsIlRva2VucyIsInRva2VucyIsImdldCIsInJlcSIsInJlcyIsInNlc3Npb24iLCJzZWNyZXQiLCJzZWNyZXRTeW5jIiwidG9rZW4iLCJjcmVhdGUiLCJ2ZXJpZnkiLCJFcnJvciIsInJlbmRlciIsInN0YXR1c1VJIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS13ZWJzb2NrZXQvbGliLyIsInNvdXJjZXMiOlsiYXNrX3BhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnZhciBhdXRoQ2hlY2sgPSByZXF1aXJlKCcuLi9saWJfbG9naW4vYXV0aENoZWNrLmpzJyk7XG52YXIgVG9rZW5zID0gcmVxdWlyZShcImNzcmZcIik7XG52YXIgdG9rZW5zID0gbmV3IFRva2VucygpO1xuXG5yb3V0ZXIuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcS5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxLnNlc3Npb24uc2VjcmV0KTtcbiAgaWYgKCF0b2tlbnMudmVyaWZ5KHJlcS5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gIH1lbHNle1xuICAgIHJlcy5yZW5kZXIoJ2Fza19wYWdlJyxcbiAgICAgICAge1xuICAgICAgICAgIGF1dGhDaGVjayA6IGF1dGhDaGVjay5zdGF0dXNVSShyZXEsIHJlcylcbiAgICAgICAgfSk7XG4gICAgICB9XG59KVxuXG4gIG1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDaEMsSUFBSUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sRUFBRTtBQUM3QixJQUFJQyxTQUFTLEdBQUdILE9BQU8sQ0FBQywyQkFBMkIsQ0FBQztBQUNwRCxJQUFJSSxNQUFNLEdBQUdKLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsSUFBSUssTUFBTSxHQUFHLElBQUlELE1BQU0sRUFBRTtBQUV6QkgsTUFBTSxDQUFDSyxHQUFHLENBQUMsR0FBRyxFQUFFLFVBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFLO0VBQzVCRCxHQUFHLENBQUNFLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHTCxNQUFNLENBQUNNLFVBQVUsRUFBRTtFQUN4QyxJQUFJQyxLQUFLLEdBQUdQLE1BQU0sQ0FBQ1EsTUFBTSxDQUFDTixHQUFHLENBQUNFLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDO0VBQzdDLElBQUksQ0FBQ0wsTUFBTSxDQUFDUyxNQUFNLENBQUNQLEdBQUcsQ0FBQ0UsT0FBTyxDQUFDQyxNQUFNLEVBQUVFLEtBQUssQ0FBQyxFQUFFO0lBQzdDLE1BQU0sSUFBSUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDO0VBQ25DLENBQUMsTUFBSTtJQUNIUCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxVQUFVLEVBQ2pCO01BQ0ViLFNBQVMsRUFBR0EsU0FBUyxDQUFDYyxRQUFRLENBQUNWLEdBQUcsRUFBRUMsR0FBRztJQUN6QyxDQUFDLENBQUM7RUFDSjtBQUNOLENBQUMsQ0FBQztBQUVBVSxNQUFNLENBQUNDLE9BQU8sR0FBR2xCLE1BQU0ifQ==","map":{"version":3,"names":["express","require","router","Router","authCheck","Tokens","tokens","get","req","res","session","secret","secretSync","token","create","verify","Error","render","statusUI","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/","sources":["ask_page.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\n\nrouter.get('/', (req, res) => {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    res.render('ask_page',\n        {\n          authCheck : authCheck.statusUI(req, res)\n        });\n      }\n})\n\n  module.exports = router;"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAChC,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC7B,IAAIC,SAAS,GAAGH,OAAO,CAAC,2BAA2B,CAAC;AACpD,IAAII,MAAM,GAAGJ,OAAO,CAAC,MAAM,CAAC;AAC5B,IAAIK,MAAM,GAAG,IAAID,MAAM,EAAE;AAEzBH,MAAM,CAACK,GAAG,CAAC,GAAG,EAAE,UAACC,GAAG,EAAEC,GAAG,EAAK;EAC5BD,GAAG,CAACE,OAAO,CAACC,MAAM,GAAGL,MAAM,CAACM,UAAU,EAAE;EACxC,IAAIC,KAAK,GAAGP,MAAM,CAACQ,MAAM,CAACN,GAAG,CAACE,OAAO,CAACC,MAAM,CAAC;EAC7C,IAAI,CAACL,MAAM,CAACS,MAAM,CAACP,GAAG,CAACE,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IAC7C,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACHP,GAAG,CAACQ,MAAM,CAAC,UAAU,EACjB;MACEb,SAAS,EAAGA,SAAS,CAACc,QAAQ,CAACV,GAAG,EAAEC,GAAG;IACzC,CAAC,CAAC;EACJ;AACN,CAAC,CAAC;AAEAU,MAAM,CAACC,OAAO,GAAGlB,MAAM"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/my_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar db = require('../db');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nrouter.get('/', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    db.query(\"SELECT * FROM Student\", function (error, Reviews) {\n      var email = request.session.email;\n      console.log(email);\n      db.query('SELECT * FROM Student WHERE Email_Address = ? ', [email], function (error2, authors) {\n        response.render('my_page_root', {\n          authCheck: authCheck.statusUI(request, response),\n          Name: authors[0].Name,\n          Password: authors[0].Password,\n          Phone_Number: authors[0].Phone_Number,\n          Address: authors[0].Address,\n          Email_Address: authors[0].Email_Address,\n          Point: authors[0].Point\n        });\n      });\n    });\n  }\n});\nrouter.get('/update', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    db.query(\"SELECT * FROM Student\", function (error, Reviews) {\n      if (error) {\n        throw error;\n      }\n      var email = request.session.email;\n      db.query('SELECT * FROM Student WHERE Email_Address = ? ', [email], function (error2, authors) {\n        if (error2) {\n          throw error2;\n        }\n        console.log(authors);\n        response.render('my_page_update', {\n          authCheck: authCheck.statusUI(request, response),\n          Name: authors[0].Name,\n          Password: authors[0].Password,\n          Phone_Number: authors[0].Phone_Number,\n          Address: authors[0].Address,\n          Email_Address: authors[0].Email_Address\n        });\n      });\n    });\n  }\n});\nrouter.post('/update_mypage', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    var post = request.body;\n    console.log(post);\n    db.query('UPDATE Student SET Name=?, Phone_Number=? , Password=? ,Address=?, Email_Address=?  WHERE Student_ID=?', [post.Name, post.Phone_Number, post.Password, post.Address, post.Email_Address, post.id], function (error, result) {\n      if (error) {\n        throw error;\n      }\n      response.writeHead(302, {\n        Location: \"/myinfo\"\n      });\n      response.end();\n    });\n  }\n});\nrouter.get(\"/class\", function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    res.render(\"home\");\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImF1dGhDaGVjayIsImRiIiwic2FuaXRpemVIdG1sIiwiVG9rZW5zIiwidG9rZW5zIiwiZ2V0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2Vzc2lvbiIsInNlY3JldCIsInNlY3JldFN5bmMiLCJ0b2tlbiIsImNyZWF0ZSIsInZlcmlmeSIsIkVycm9yIiwicXVlcnkiLCJlcnJvciIsIlJldmlld3MiLCJlbWFpbCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvcjIiLCJhdXRob3JzIiwicmVuZGVyIiwic3RhdHVzVUkiLCJOYW1lIiwiUGFzc3dvcmQiLCJQaG9uZV9OdW1iZXIiLCJBZGRyZXNzIiwiRW1haWxfQWRkcmVzcyIsIlBvaW50IiwicG9zdCIsImJvZHkiLCJpZCIsInJlc3VsdCIsIndyaXRlSGVhZCIsIkxvY2F0aW9uIiwiZW5kIiwicmVxIiwicmVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS13ZWJzb2NrZXQvbGliLyIsInNvdXJjZXMiOlsibXlfcGFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xudmFyIGF1dGhDaGVjayA9IHJlcXVpcmUoJy4uL2xpYl9sb2dpbi9hdXRoQ2hlY2suanMnKTtcbnZhciBkYiA9IHJlcXVpcmUoJy4uL2RiJyk7XG52YXIgc2FuaXRpemVIdG1sID0gcmVxdWlyZSgnc2FuaXRpemUtaHRtbCcpO1xudmFyIFRva2VucyA9IHJlcXVpcmUoXCJjc3JmXCIpO1xudmFyIHRva2VucyA9IG5ldyBUb2tlbnMoKTtcblxuXG5yb3V0ZXIuZ2V0KCcvJywgZnVuY3Rpb24ocmVxdWVzdCxyZXNwb25zZSl7XG4gIHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gIH1lbHNle1xuICAgIGRiLnF1ZXJ5KGBTRUxFQ1QgKiBGUk9NIFN0dWRlbnRgLCBmdW5jdGlvbihlcnJvcixSZXZpZXdzKXtcbiAgICAgIHZhciBlbWFpbCA9IHJlcXVlc3Quc2Vzc2lvbi5lbWFpbDtcbiAgICAgIGNvbnNvbGUubG9nKGVtYWlsKTtcbiAgICAgIGRiLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIFN0dWRlbnQgV0hFUkUgRW1haWxfQWRkcmVzcyA9ID8gJyxbZW1haWxdLCBmdW5jdGlvbihlcnJvcjIsIGF1dGhvcnMpe1xuICAgICAgICByZXNwb25zZS5yZW5kZXIoJ215X3BhZ2Vfcm9vdCcsXG4gICAgICAgIHtcbiAgICAgICAgICBhdXRoQ2hlY2sgOiBhdXRoQ2hlY2suc3RhdHVzVUkocmVxdWVzdCwgcmVzcG9uc2UpLFxuICAgICAgICAgIE5hbWUgOiBhdXRob3JzWzBdLk5hbWUsXG4gICAgICAgICAgUGFzc3dvcmQgOiBhdXRob3JzWzBdLlBhc3N3b3JkLFxuICAgICAgICAgIFBob25lX051bWJlciA6IGF1dGhvcnNbMF0uUGhvbmVfTnVtYmVyLFxuICAgICAgICAgIEFkZHJlc3MgOiBhdXRob3JzWzBdLkFkZHJlc3MsXG4gICAgICAgICAgRW1haWxfQWRkcmVzcyA6IGF1dGhvcnNbMF0uRW1haWxfQWRkcmVzcyxcbiAgICAgICAgICBQb2ludCA6IGF1dGhvcnNbMF0uUG9pbnRcbiAgICAgICAgfSk7XG4gICAgICB9KSBcbiAgICB9KVxuICB9XG59KVxucm91dGVyLmdldCgnL3VwZGF0ZScsIGZ1bmN0aW9uIChyZXF1ZXN0LHJlc3BvbnNlKXtcbiAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxdWVzdC5zZXNzaW9uLnNlY3JldCk7XG4gIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgfWVsc2V7XG4gIGRiLnF1ZXJ5KGBTRUxFQ1QgKiBGUk9NIFN0dWRlbnRgLCBmdW5jdGlvbihlcnJvcixSZXZpZXdzKXtcbiAgaWYoZXJyb3Ipe1xuICB0aHJvdyBlcnJvcjtcbiAgfVxuICAgIHZhciBlbWFpbCA9IHJlcXVlc3Quc2Vzc2lvbi5lbWFpbDtcbiAgICBkYi5xdWVyeSgnU0VMRUNUICogRlJPTSBTdHVkZW50IFdIRVJFIEVtYWlsX0FkZHJlc3MgPSA/ICcsW2VtYWlsXSwgZnVuY3Rpb24oZXJyb3IyLCBhdXRob3JzKXtcbiAgICAgIGlmKGVycm9yMil7XG4gICAgICB0aHJvdyBlcnJvcjI7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGF1dGhvcnMpXG4gICAgcmVzcG9uc2UucmVuZGVyKCdteV9wYWdlX3VwZGF0ZScsXG4gICAge1xuICAgICAgYXV0aENoZWNrIDogYXV0aENoZWNrLnN0YXR1c1VJKHJlcXVlc3QsIHJlc3BvbnNlKSxcbiAgICAgIE5hbWUgOiBhdXRob3JzWzBdLk5hbWUsXG4gICAgICBQYXNzd29yZCA6IGF1dGhvcnNbMF0uUGFzc3dvcmQsXG4gICAgICBQaG9uZV9OdW1iZXIgOiBhdXRob3JzWzBdLlBob25lX051bWJlcixcbiAgICAgIEFkZHJlc3MgOiBhdXRob3JzWzBdLkFkZHJlc3MsXG4gICAgICBFbWFpbF9BZGRyZXNzIDogYXV0aG9yc1swXS5FbWFpbF9BZGRyZXNzLFxuICAgIH0pO1xuICAgIH0pO1xuICB9KX1cbn0pXG5cbnJvdXRlci5wb3N0KCcvdXBkYXRlX215cGFnZScsIGZ1bmN0aW9uKHJlcXVlc3QscmVzcG9uc2Upe1xuICByZXF1ZXN0LnNlc3Npb24uc2VjcmV0ID0gdG9rZW5zLnNlY3JldFN5bmMoKTtcbiAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0KTtcbiAgaWYgKCF0b2tlbnMudmVyaWZ5KHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQsIHRva2VuKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICB9ZWxzZXtcbiAgICB2YXIgcG9zdCA9IHJlcXVlc3QuYm9keTtcbiAgICBjb25zb2xlLmxvZyhwb3N0KTtcbiAgICBkYi5xdWVyeSgnVVBEQVRFIFN0dWRlbnQgU0VUIE5hbWU9PywgUGhvbmVfTnVtYmVyPT8gLCBQYXNzd29yZD0/ICxBZGRyZXNzPT8sIEVtYWlsX0FkZHJlc3M9PyAgV0hFUkUgU3R1ZGVudF9JRD0/JywgW3Bvc3QuTmFtZSwgcG9zdC5QaG9uZV9OdW1iZXIsIHBvc3QuUGFzc3dvcmQsIHBvc3QuQWRkcmVzcywgcG9zdC5FbWFpbF9BZGRyZXNzLCBwb3N0LmlkXSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCl7XG4gICAgICBpZihlcnJvcil7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSAgXG4gICAgICByZXNwb25zZS53cml0ZUhlYWQoMzAyLCB7TG9jYXRpb246IGAvbXlpbmZvYH0pO1xuICAgICAgcmVzcG9uc2UuZW5kKCk7XG4gICAgfSlcbiAgfVxufSk7XG5cbnJvdXRlci5nZXQoXCIvY2xhc3NcIiwgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcS5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxLnNlc3Npb24uc2VjcmV0KTtcbiAgaWYgKCF0b2tlbnMudmVyaWZ5KHJlcS5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gIH1lbHNle1xuICAgIHJlcy5yZW5kZXIoXCJob21lXCIpO1xu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","map":{"version":3,"names":["express","require","router","Router","authCheck","db","sanitizeHtml","Tokens","tokens","get","request","response","session","secret","secretSync","token","create","verify","Error","query","error","Reviews","email","console","log","error2","authors","render","statusUI","Name","Password","Phone_Number","Address","Email_Address","Point","post","body","id","result","writeHead","Location","end","req","res","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/","sources":["my_page.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar db = require('../db');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\n\n\nrouter.get('/', function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    db.query(`SELECT * FROM Student`, function(error,Reviews){\n      var email = request.session.email;\n      console.log(email);\n      db.query('SELECT * FROM Student WHERE Email_Address = ? ',[email], function(error2, authors){\n        response.render('my_page_root',\n        {\n          authCheck : authCheck.statusUI(request, response),\n          Name : authors[0].Name,\n          Password : authors[0].Password,\n          Phone_Number : authors[0].Phone_Number,\n          Address : authors[0].Address,\n          Email_Address : authors[0].Email_Address,\n          Point : authors[0].Point\n        });\n      }) \n    })\n  }\n})\nrouter.get('/update', function (request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n  db.query(`SELECT * FROM Student`, function(error,Reviews){\n  if(error){\n  throw error;\n  }\n    var email = request.session.email;\n    db.query('SELECT * FROM Student WHERE Email_Address = ? ',[email], function(error2, authors){\n      if(error2){\n      throw error2;\n    }\n    console.log(authors)\n    response.render('my_page_update',\n    {\n      authCheck : authCheck.statusUI(request, response),\n      Name : authors[0].Name,\n      Password : authors[0].Password,\n      Phone_Number : authors[0].Phone_Number,\n      Address : authors[0].Address,\n      Email_Address : authors[0].Email_Address,\n    });\n    });\n  })}\n})\n\nrouter.post('/update_mypage', function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    var post = request.body;\n    console.log(post);\n    db.query('UPDATE Student SET Name=?, Phone_Number=? , Password=? ,Address=?, Email_Address=?  WHERE Student_ID=?', [post.Name, post.Phone_Number, post.Password, post.Address, post.Email_Address, post.id], function(error, result){\n      if(error){\n        throw error;\n      }  \n      response.writeHead(302, {Location: `/myinfo`});\n      response.end();\n    })\n  }\n});\n\nrouter.get(\"/class\", (req, res) => {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    res.render(\"home\");\n  }\n});\n\n\nmodule.exports = router;\n"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAChC,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAM,EAAE;AAC7B,IAAIC,SAAS,GAAGH,OAAO,CAAC,2BAA2B,CAAC;AACpD,IAAII,EAAE,GAAGJ,OAAO,CAAC,OAAO,CAAC;AACzB,IAAIK,YAAY,GAAGL,OAAO,CAAC,eAAe,CAAC;AAC3C,IAAIM,MAAM,GAAGN,OAAO,CAAC,MAAM,CAAC;AAC5B,IAAIO,MAAM,GAAG,IAAID,MAAM,EAAE;AAGzBL,MAAM,CAACO,GAAG,CAAC,GAAG,EAAE,UAASC,OAAO,EAACC,QAAQ,EAAC;EACxCD,OAAO,CAACE,OAAO,CAACC,MAAM,GAAGL,MAAM,CAACM,UAAU,EAAE;EAC5C,IAAIC,KAAK,GAAGP,MAAM,CAACQ,MAAM,CAACN,OAAO,CAACE,OAAO,CAACC,MAAM,CAAC;EACjD,IAAI,CAACL,MAAM,CAACS,MAAM,CAACP,OAAO,CAACE,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IACjD,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACHb,EAAE,CAACc,KAAK,0BAA0B,UAASC,KAAK,EAACC,OAAO,EAAC;MACvD,IAAIC,KAAK,GAAGZ,OAAO,CAACE,OAAO,CAACU,KAAK;MACjCC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBjB,EAAE,CAACc,KAAK,CAAC,gDAAgD,EAAC,CAACG,KAAK,CAAC,EAAE,UAASG,MAAM,EAAEC,OAAO,EAAC;QAC1Ff,QAAQ,CAACgB,MAAM,CAAC,cAAc,EAC9B;UACEvB,SAAS,EAAGA,SAAS,CAACwB,QAAQ,CAAClB,OAAO,EAAEC,QAAQ,CAAC;UACjDkB,IAAI,EAAGH,OAAO,CAAC,CAAC,CAAC,CAACG,IAAI;UACtBC,QAAQ,EAAGJ,OAAO,CAAC,CAAC,CAAC,CAACI,QAAQ;UAC9BC,YAAY,EAAGL,OAAO,CAAC,CAAC,CAAC,CAACK,YAAY;UACtCC,OAAO,EAAGN,OAAO,CAAC,CAAC,CAAC,CAACM,OAAO;UAC5BC,aAAa,EAAGP,OAAO,CAAC,CAAC,CAAC,CAACO,aAAa;UACxCC,KAAK,EAAGR,OAAO,CAAC,CAAC,CAAC,CAACQ;QACrB,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AACFhC,MAAM,CAACO,GAAG,CAAC,SAAS,EAAE,UAAUC,OAAO,EAACC,QAAQ,EAAC;EAC/CD,OAAO,CAACE,OAAO,CAACC,MAAM,GAAGL,MAAM,CAACM,UAAU,EAAE;EAC5C,IAAIC,KAAK,GAAGP,MAAM,CAACQ,MAAM,CAACN,OAAO,CAACE,OAAO,CAACC,MAAM,CAAC;EACjD,IAAI,CAACL,MAAM,CAACS,MAAM,CAACP,OAAO,CAACE,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IACjD,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACLb,EAAE,CAACc,KAAK,0BAA0B,UAASC,KAAK,EAACC,OAAO,EAAC;MACzD,IAAGD,KAAK,EAAC;QACT,MAAMA,KAAK;MACX;MACE,IAAIE,KAAK,GAAGZ,OAAO,CAACE,OAAO,CAACU,KAAK;MACjCjB,EAAE,CAACc,KAAK,CAAC,gDAAgD,EAAC,CAACG,KAAK,CAAC,EAAE,UAASG,MAAM,EAAEC,OAAO,EAAC;QAC1F,IAAGD,MAAM,EAAC;UACV,MAAMA,MAAM;QACd;QACAF,OAAO,CAACC,GAAG,CAACE,OAAO,CAAC;QACpBf,QAAQ,CAACgB,MAAM,CAAC,gBAAgB,EAChC;UACEvB,SAAS,EAAGA,SAAS,CAACwB,QAAQ,CAAClB,OAAO,EAAEC,QAAQ,CAAC;UACjDkB,IAAI,EAAGH,OAAO,CAAC,CAAC,CAAC,CAACG,IAAI;UACtBC,QAAQ,EAAGJ,OAAO,CAAC,CAAC,CAAC,CAACI,QAAQ;UAC9BC,YAAY,EAAGL,OAAO,CAAC,CAAC,CAAC,CAACK,YAAY;UACtCC,OAAO,EAAGN,OAAO,CAAC,CAAC,CAAC,CAACM,OAAO;UAC5BC,aAAa,EAAGP,OAAO,CAAC,CAAC,CAAC,CAACO;QAC7B,CAAC,CAAC;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EAAA;AACJ,CAAC,CAAC;AAEF/B,MAAM,CAACiC,IAAI,CAAC,gBAAgB,EAAE,UAASzB,OAAO,EAACC,QAAQ,EAAC;EACtDD,OAAO,CAACE,OAAO,CAACC,MAAM,GAAGL,MAAM,CAACM,UAAU,EAAE;EAC5C,IAAIC,KAAK,GAAGP,MAAM,CAACQ,MAAM,CAACN,OAAO,CAACE,OAAO,CAACC,MAAM,CAAC;EACjD,IAAI,CAACL,MAAM,CAACS,MAAM,CAACP,OAAO,CAACE,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IACjD,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACH,IAAIiB,IAAI,GAAGzB,OAAO,CAAC0B,IAAI;IACvBb,OAAO,CAACC,GAAG,CAACW,IAAI,CAAC;IACjB9B,EAAE,CAACc,KAAK,CAAC,wGAAwG,EAAE,CAACgB,IAAI,CAACN,IAAI,EAAEM,IAAI,CAACJ,YAAY,EAAEI,IAAI,CAACL,QAAQ,EAAEK,IAAI,CAACH,OAAO,EAAEG,IAAI,CAACF,aAAa,EAAEE,IAAI,CAACE,EAAE,CAAC,EAAE,UAASjB,KAAK,EAAEkB,MAAM,EAAC;MAClO,IAAGlB,KAAK,EAAC;QACP,MAAMA,KAAK;MACb;MACAT,QAAQ,CAAC4B,SAAS,CAAC,GAAG,EAAE;QAACC,QAAQ;MAAW,CAAC,CAAC;MAC9C7B,QAAQ,CAAC8B,GAAG,EAAE;IAChB,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AAEFvC,MAAM,CAACO,GAAG,CAAC,QAAQ,EAAE,UAACiC,GAAG,EAAEC,GAAG,EAAK;EACjCD,GAAG,CAAC9B,OAAO,CAACC,MAAM,GAAGL,MAAM,CAACM,UAAU,EAAE;EACxC,IAAIC,KAAK,GAAGP,MAAM,CAACQ,MAAM,CAAC0B,GAAG,CAAC9B,OAAO,CAACC,MAAM,CAAC;EAC7C,IAAI,CAACL,MAAM,CAACS,MAAM,CAACyB,GAAG,CAAC9B,OAAO,CAACC,MAAM,EAAEE,KAAK,CAAC,EAAE;IAC7C,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;EACnC,CAAC,MAAI;IACHyB,GAAG,CAAChB,MAAM,CAAC,MAAM,CAAC;EACpB;AACF,CAAC,CAAC;AAGFiB,MAAM,CAACC,OAAO,GAAG3C,MAAM"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/enroll_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar express = require('express');\nvar router = express.Router();\nvar template = require('./template');\nvar app = express();\nvar db = require('../db');\nvar authCheck = require('../lib_login/authCheck.js');\nvar url = require('url');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nrouter.get('/sub', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    res.render('enroll_page_before_search', {\n      authCheck: authCheck.statusUI(req, res)\n    });\n  }\n});\nrouter.get('/sub_result', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (!authCheck.isOwner(req, res)) {\n      // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    } else {\n      var dataList = [];\n      for (var a = 0; a < req.query.Course_type.length; a++) {\n        for (var b = 0; b < req.query.Course_day.length; b++) {\n          for (var c = 0; c < req.query.Course_time.length; c++) {\n            db.query(\"select * from Instructor left join (select * from Instructor_Time_Date where Course_Active = 0) AS Temp  on Instructor.Teacher_ID = Temp.Teacher_ID left join Instructor_DATE AS ID on ID.Date_ID = Temp.Date_ID left join Instructor_TIME AS IT on IT.TIME_ID = Temp.TIME_ID  left join Course AS C on Temp.Course_ID = C.Course_ID \\n                        Where Temp.Course_ID = ? and Temp.TIME_ID = ? and Temp.Date_ID = ?;\", [Number(req.query.Course_type[a]), Number(req.query.Course_day[b]), Number(req.query.Course_time[c])], function (error2, Instructor) {\n              if (error2) throw error2;\n              if (!authCheck.isOwner(req, res)) {\n                // 로그인 안되어있으면 로그인 페이지로 이동시킴\n                res.redirect('/auth/login');\n                return false;\n              } else {\n                var _iterator = _createForOfIteratorHelper(Instructor),\n                  _step;\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    var data = _step.value;\n                    dataList.push(data);\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n              }\n            });\n          }\n        }\n      }\n    }\n    setTimeout(function () {\n      var enroll_list = template.Enroll_list(dataList);\n      res.render('enroll_page_after_search', {\n        authCheck: authCheck.statusUI(req, res),\n        Enroll_list: enroll_list\n      });\n    }, 200);\n  }\n});\nrouter.get('/:TeacherId/:CourseId/:DateId/:TIMEId', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    var post = req.body;\n    console.log('post', post);\n    var Student = sanitizeHtml(req.session.email);\n    var Course_Id = sanitizeHtml(req.params.CourseId);\n    var Date_Id = sanitizeHtml(req.params.DateId);\n    var Time_Id = sanitizeHtml(req.params.TIMEId);\n    var Teacher_Id = sanitizeHtml(req.params.TeacherId);\n    db.query(\"\\n            select C.Subject, price from Course AS C left join Course_Price AS CP on C.subject = CP.subject where C.Course_ID = ?; \\n            select * from Student where Email_Address = ?; \\n            select * from Instructor_Time_Date where Teacher_ID = ? and Course_ID = ? and DATE_ID = ? and TIME_ID;\\n            \", [Course_Id, Student, Teacher_Id, Course_Id, Date_Id, Time_Id], function (error, result) {\n      if (error) throw error;\n      console.log('result', result);\n      res.render('enroll_page_payment', {\n        authCheck: authCheck.statusUI(req, res),\n        Price: result[0][0].price,\n        Point: result[1][0].Point,\n        Course_Active: result[2][0].Course_Active,\n        Course_ID: Course_Id,\n        Date_ID: Date_Id,\n        Time_ID: Time_Id,\n        Teacher_ID: Teacher_Id,\n        Subject: result[0][0].Subject,\n        Name: result[1][0].Name,\n        Email_Address: result[1][0].Email_Address,\n        Phone_Number: result[1][0].Phone_Number,\n        Address: result[1][0].Address,\n        Recommand_ID: result[1][0].Recommand_ID\n      });\n    });\n  }\n});\nrouter.get('/payment/complete/', function (req, res) {\n  req.session.secret = tokens.secretSync();\n  var token = tokens.create(req.session.secret);\n  if (!tokens.verify(req.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    var queryData = url.parse(req.url, true).query;\n    console.log('queryData', queryData);\n    db.query(\"update Student set Point = Point - ? where Email_Address = ?;\\n            update Instructor_Time_Date set Course_Active = 1 where Teacher_ID = ? and TIME_ID = ? and Date_ID = ? and Course_ID = ? ;\\n            insert into Section(Student_ID, Teacher_ID, Course_ID, DATE_ID, TIME_ID, Increase_Count, Decrease_Count, Max_Count) values(?,?,?,?,?,0,?,?);\\n            insert into Payment(Order_ID, Student_ID, Teacher_ID, DATE_ID, TIME_ID, Course_ID, Original_price, Discount_price, Final_price) value(?,?,?,?,?,?,?,?,?);\\n            \", [queryData.point, req.session.email, queryData.teacher_id, queryData.time_id, queryData.date_id, queryData.course_id, req.session.Student_Id, queryData.teacher_id, queryData.course_id, queryData.date_id, queryData.time_id, queryData.count, queryData.count, queryData.merchant_uid, req.session.Student_Id, queryData.teacher_id, queryData.date_id, queryData.time_id, queryData.course_id, queryData.original_price, queryData.point, queryData.final_price], function (error, result) {\n      if (error) throw error;\n      console.log('payment', result);\n      res.redirect('/');\n    });\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInRlbXBsYXRlIiwiYXBwIiwiZGIiLCJhdXRoQ2hlY2siLCJ1cmwiLCJzYW5pdGl6ZUh0bWwiLCJUb2tlbnMiLCJ0b2tlbnMiLCJnZXQiLCJyZXEiLCJyZXMiLCJzZXNzaW9uIiwic2VjcmV0Iiwic2VjcmV0U3luYyIsInRva2VuIiwiY3JlYXRlIiwidmVyaWZ5IiwiRXJyb3IiLCJyZW5kZXIiLCJzdGF0dXNVSSIsImlzT3duZXIiLCJyZWRpcmVjdCIsImRhdGFMaXN0IiwiYSIsInF1ZXJ5IiwiQ291cnNlX3R5cGUiLCJsZW5ndGgiLCJiIiwiQ291cnNlX2RheSIsImMiLCJDb3Vyc2VfdGltZSIsIk51bWJlciIsImVycm9yMiIsIkluc3RydWN0b3IiLCJkYXRhIiwicHVzaCIsInNldFRpbWVvdXQiLCJlbnJvbGxfbGlzdCIsIkVucm9sbF9saXN0IiwicG9zdCIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwiU3R1ZGVudCIsImVtYWlsIiwiQ291cnNlX0lkIiwicGFyYW1zIiwiQ291cnNlSWQiLCJEYXRlX0lkIiwiRGF0ZUlkIiwiVGltZV9JZCIsIlRJTUVJZCIsIlRlYWNoZXJfSWQiLCJUZWFjaGVySWQiLCJlcnJvciIsInJlc3VsdCIsIlByaWNlIiwicHJpY2UiLCJQb2ludCIsIkNvdXJzZV9BY3RpdmUiLCJDb3Vyc2VfSUQiLCJEYXRlX0lEIiwiVGltZV9JRCIsIlRlYWNoZXJfSUQiLCJTdWJqZWN0IiwiTmFtZSIsIkVtYWlsX0FkZHJlc3MiLCJQaG9uZV9OdW1iZXIiLCJBZGRyZXNzIiwiUmVjb21tYW5kX0lEIiwicXVlcnlEYXRhIiwicGFyc2UiLCJwb2ludCIsInRlYWNoZXJfaWQiLCJ0aW1lX2lkIiwiZGF0ZV9pZCIsImNvdXJzZV9pZCIsIlN0dWRlbnRfSWQiLCJjb3VudCIsIm1lcmNoYW50X3VpZCIsIm9yaWdpbmFsX3ByaWNlIiwiZmluYWxfcHJpY2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvamFuZy15ZW9uZ2phZS9EZXNrdG9wL2NvZGluZy1uYXJhLXdlYnNvY2tldC9saWIvIiwic291cmNlcyI6WyJlbnJvbGxfcGFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xudmFyIHRlbXBsYXRlID0gcmVxdWlyZSgnLi90ZW1wbGF0ZScpO1xuY29uc3QgYXBwID0gZXhwcmVzcygpXG52YXIgZGIgPSByZXF1aXJlKCcuLi9kYicpO1xudmFyIGF1dGhDaGVjayA9IHJlcXVpcmUoJy4uL2xpYl9sb2dpbi9hdXRoQ2hlY2suanMnKTtcbnZhciB1cmwgPSByZXF1aXJlKCd1cmwnKTtcbnZhciBzYW5pdGl6ZUh0bWwgPSByZXF1aXJlKCdzYW5pdGl6ZS1odG1sJyk7XG52YXIgVG9rZW5zID0gcmVxdWlyZShcImNzcmZcIik7XG52YXIgdG9rZW5zID0gbmV3IFRva2VucygpO1xuXG5cbnJvdXRlci5nZXQoJy9zdWInLCAocmVxLCByZXMpID0+IHtcbiAgICByZXEuc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICAgIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxLnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxLnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgICByZXMucmVuZGVyKCdlbnJvbGxfcGFnZV9iZWZvcmVfc2VhcmNoJyxcbiAgICAgICAge1xuICAgICAgICAgICAgYXV0aENoZWNrIDogYXV0aENoZWNrLnN0YXR1c1VJKHJlcSwgcmVzKVxuICAgICAgICB9KTtcbiAgICB9XG59KVxuXG5yb3V0ZXIuZ2V0KCcvc3ViX3Jlc3VsdCcsIChyZXEsIHJlcykgPT4ge1xuICAgIHJlcS5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXEuc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXEuc2Vzc2lvbi5zZWNyZXQsIHRva2VuKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gICAgfWVsc2V7XG4gICAgICAgIGlmICghYXV0aENoZWNrLmlzT3duZXIocmVxLCByZXMpKSB7ICAvLyDroZzqt7jsnbgg7JWI65CY7Ja07J6I7Jy866m0IOuhnOq3uOyduCDtjpjsnbTsp4DroZwg7J2064+Z7Iuc7YK0XG4gICAgICAgICAgICByZXMucmVkaXJlY3QoJy9hdXRoL2xvZ2luJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHZhciBkYXRhTGlzdD1bXTtcbiAgICAgICAgICAgIGZvcihsZXQgYT0wOyBhPHJlcS5xdWVyeS5Db3Vyc2VfdHlwZS5sZW5ndGg7IGErKyl7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBiPTA7IGI8cmVxLnF1ZXJ5LkNvdXJzZV9kYXkubGVuZ3RoOyBiKyspe1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGM9MDsgYzxyZXEucXVlcnkuQ291cnNlX3RpbWUubGVuZ3RoOyBjKyspe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGIucXVlcnkoYHNlbGVjdCAqIGZyb20gSW5zdHJ1Y3RvciBsZWZ0IGpvaW4gKHNlbGVjdCAqIGZyb20gSW5zdHJ1Y3Rvcl9UaW1lX0RhdGUgd2hlcmUgQ291cnNlX0FjdGl2ZSA9IDApIEFTIFRlbXAgIG9uIEluc3RydWN0b3IuVGVhY2hlcl9JRCA9IFRlbXAuVGVhY2hlcl9JRCBsZWZ0IGpvaW4gSW5zdHJ1Y3Rvcl9EQVRFIEFTIElEIG9uIElELkRhdGVfSUQgPSBUZW1wLkRhdGVfSUQgbGVmdCBqb2luIEluc3RydWN0b3JfVElNRSBBUyBJVCBvbiBJVC5USU1FX0lEID0gVGVtcC5USU1FX0lEICBsZWZ0IGpvaW4gQ291cnNlIEFTIEMgb24gVGVtcC5Db3Vyc2VfSUQgPSBDLkNvdXJzZV9JRCBcbiAgICAgICAgICAgICAgICAgICAgICAgIFdoZXJlIFRlbXAuQ291cnNlX0lEID0gPyBhbmQgVGVtcC5USU1FX0lEID0gPyBhbmQgVGVtcC5EYXRlX0lEID0gPztgLFtOdW1iZXIocmVxLnF1ZXJ5LkNvdXJzZV90eXBlW2FdKSwgTnVtYmVyKHJlcS5xdWVyeS5Db3Vyc2VfZGF5W2JdKSxOdW1iZXIocmVxLnF1ZXJ5LkNvdXJzZV90aW1lW2NdKV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihlcnJvcjIsIEluc3RydWN0b3Ipe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVycm9yMikgdGhyb3cgZXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXV0aENoZWNrLmlzT3duZXIocmVxLCByZXMpKSB7ICAvLyDroZzqt7jsnbgg7JWI65CY7Ja07J6I7Jy866m0IOuhnOq3uOyduCDtjpjsnbTsp4DroZwg7J2064+Z7Iuc7YK0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5yZWRpcmVjdCgnL2F1dGgvbG9naW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBkYXRhIG9mIEluc3RydWN0b3IpIGRhdGFMaXN0LnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cdFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGVucm9sbF9saXN0ID0gdGVtcGxhdGUuRW5yb2xsX2xpc3QoZGF0YUxpc3QpO1xuICAgICAgICByZXMucmVuZGVyKCdlbnJvbGxfcGFnZV9hZnRlcl9zZWFyY2gnLFxuICAgICAgICB7XG4gICAgICAgICAgICBhdXRoQ2hlY2sgOiBhdXRoQ2hlY2suc3RhdHVzVUkocmVxLCByZXMpLFxuICAgICAgICAgICAgRW5yb2xsX2xpc3QgOiBlbnJvbGxfbGlzdFxuICAgICAgICB9KTtcbiAgICAgICAgfSwyMDApXG4gICAgfVxufSlcblxuIHJvdXRlci5nZXQoJy86VGVhY2hlcklkLzpDb3Vyc2VJZC86RGF0ZUlkLzpUSU1FSWQnLCAocmVxLHJlcykgPT4ge1xuICAgIHJlcS5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zLmNyZWF0ZShyZXEuc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXEuc2Vzc2lvbi5zZWNyZXQsIHRva2VuKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gICAgfWVsc2V7XG4gICAgICAgIHZhciBwb3N0ID0gcmVxLmJvZHk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwb3N0Jyxwb3N0KTtcbiAgICAgICAgdmFyIFN0dWRlbnQgPSBzYW5pdGl6ZUh0bWwocmVxLnNlc3Npb24uZW1haWwpO1xuICAgICAgICB2YXIgQ291cnNlX0lkID0gc2FuaXRpemVIdG1sKHJlcS5wYXJhbXMuQ291cnNlSWQpO1xuICAgICAgICB2YXIgRGF0ZV9JZCA9IHNhbml0aXplSHRtbChyZXEucGFyYW1zLkRhdGVJZCk7XG4gICAgICAgIHZhciBUaW1lX0lkID0gc2FuaXRpemVIdG1sKHJlcS5wYXJhbXMuVElNRUlkKTtcbiAgICAgICAgdmFyIFRlYWNoZXJfSWQgPSBzYW5pdGl6ZUh0bWwocmVxLnBhcmFtcy5UZWFjaGVySWQpO1xuICAgICAgICBkYi5xdWVyeShcbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgIHNlbGVjdCBDLlN1YmplY3QsIHByaWNlIGZyb20gQ291cnNlIEFTIEMgbGVmdCBqb2luIENvdXJzZV9QcmljZSBBUyBDUCBvbiBDLnN1YmplY3QgPSBDUC5zdWJqZWN0IHdoZXJlIEMuQ291cnNlX0lEID0gPzsgXG4gICAgICAgICAgICBzZWxlY3QgKiBmcm9tIFN0dWRlbnQgd2hlcmUgRW1haWxfQWRkcmVzcyA9ID87IFxuICAgICAgICAgICAgc2VsZWN0ICogZnJvbSBJbnN0cnVjdG9yX1RpbWVfRGF0ZSB3aGVyZSBUZWFjaGVyX0lEID0gPyBhbmQgQ291cnNlX0lEID0gPyBhbmQgREFURV9JRCA9ID8gYW5kIFRJTUVfSUQ7XG4gICAgICAgICAgICBgLFtDb3Vyc2VfSWQsIFN0dWRlbnQsIFRlYWNoZXJfSWQsIENvdXJzZV9JZCwgRGF0ZV9JZCwgVGltZV9JZF0sXG4gICAgICAgICAgICAoZXJyb3IsIHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQnLHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmVzLnJlbmRlcignZW5yb2xsX3BhZ2VfcGF5bWVudCcsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhdXRoQ2hlY2sgOiBhdXRoQ2hlY2suc3RhdHVzVUkocmVxLCByZXMpLFxuICAgICAgICAgICAgICAgICAgICBQcmljZSA6IHJlc3VsdFswXVswXS5wcmljZSxcbiAgICAgICAgICAgICAgICAgICAgUG9pbnQgOiByZXN1bHRbMV1bMF0uUG9pbnQsXG4gICAgICAgICAgICAgICAgICAgIENvdXJzZV9BY3RpdmUgOiByZXN1bHRbMl1bMF0uQ291cnNlX0FjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgQ291cnNlX0lEIDogQ291cnNlX0lkLFxuICAgICAgICAgICAgICAgICAgICBEYXRlX0lEIDogRGF0ZV9JZCxcbiAgICAgICAgICAgICAgICAgICAgVGltZV9JRCA6IFRpbWVfSWQsXG4gICAgICAgICAgICAgICAgICAgIFRlYWNoZXJfSUQgOiBUZWFjaGVyX0lkLFxuICAgICAgICAgICAgICAgICAgICBTdWJqZWN0IDogcmVzdWx0WzBdWzBdLlN1YmplY3QsXG4gICAgICAgICAgICAgICAgICAgIE5hbWUgOiByZXN1bHRbMV1bMF0uTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgRW1haWxfQWRkcmVzcyA6IHJlc3VsdFsxXVswXS5FbWFpbF9BZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBQaG9uZV9OdW1iZXIgOiByZXN1bHRbMV1bMF0uUGhvbmVfTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICBBZGRyZXNzIDogcmVzdWx0WzFdWzBdLkFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIFJlY29tbWFuZF9JRCA6IHJlc3VsdFsxXVswXS5SZWNvbW1hbmRfSUQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgfVxufSlcblxuIHJvdXRlci5nZXQoJy9wYXltZW50L2NvbXBsZXRlLycsKHJlcSxyZXMpID0+IHtcbiAgICByZXEuc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICAgIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxLnNlc3Npb24uc2VjcmV0KTtcbiAgICBpZiAoIXRva2Vucy52ZXJpZnkocmVxLnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgICB2YXIgcXVlcnlEYXRhID0gdXJsLnBhcnNlKHJlcS51cmwsIHRydWUpLnF1ZXJ5O1xuICAgICAgICBjb25zb2xlLmxvZygncXVlcnlEYXRhJywgcXVlcnlEYXRhKTtcbiAgICAgICAgZGIucXVlcnkoXG4gICAgICAgICAgICBgdXBkYXRlIFN0dWRlbnQgc2V0IFBvaW50ID0gUG9pbnQgLSA/IHdoZXJlIEVtYWlsX0FkZHJlc3MgPSA/O1xuICAgICAgICAgICAgdXBkYXRlIEluc3RydWN0b3JfVGltZV9EYXRlIHNldCBDb3Vyc2VfQWN0aXZlID0gMSB3aGVyZSBUZWFjaGVyX0lEID0gPyBhbmQgVElNRV9JRCA9ID8gYW5kIERhdGVfSUQgPSA/IGFuZCBDb3Vyc2VfSUQgPSA/IDtcbiAgICAgICAgICAgIGluc2VydCBpbnRvIFNlY3Rpb24oU3R1ZGVudF9JRCwgVGVhY2hlcl9JRCwgQ291cnNlX0lELCBEQVRFX0lELCBUSU1FX0lELCBJbmNyZWFzZV9Db3VudCwgRGVjcmVhc2VfQ291bnQsIE1heF9Db3VudCkgdmFsdWVzKD8sPyw/LD8sPywwLD8sPyk7XG4gICAgICAgICAgICBpbnNlcnQgaW50byBQYXltZW50KE9yZGVyX0lELCBTdHVkZW50X0lELCBUZWFjaGVyX0lELCBEQVRFX0lELCBUSU1FX0lELCBDb3Vyc2VfSUQsIE9yaWdpbmFsX3ByaWNlLCBEaXNjb3VudF9wcmljZSwgRmluYWxfcHJpY2UpIHZhbHVlKD8sPyw/LD8sPyw/LD8sPyw/KTtcbiAgICAgICAgICAgIGAsW3F1ZXJ5RGF0YS5wb2ludCxyZXEuc2Vzc2lvbi5lbWFpbFxuICAgICAgICAgICAgLCBxdWVyeURhdGEudGVhY2hlcl9pZCwgcXVlcnlEYXRhLnRpbWVfaWQsIHF1ZXJ5RGF0YS5kYXRlX2lkLCBxdWVyeURhdGEuY291cnNlX2lkXG4gICAgICAgICAgICAsIHJlcS5zZXNzaW9uLlN0dWRlbnRfSWQsIHF1ZXJ5RGF0YS50ZWFjaGVyX2lkICwgcXVlcnlEYXRhLmNvdXJzZV9pZCwgcXVlcnlEYXRhLmRhdGVfaWQsIHF1ZXJ5RGF0YS50aW1lX2lkLCBxdWVyeURhdGEuY291bnQsIHF1ZXJ5RGF0YS5jb3VudFxuICAgICAgICAgICAgLCBxdWVyeURhdGEubWVyY2hhbnRfdWlkLCByZXEuc2Vzc2lvbi5TdHVkZW50X0lkLCBxdWVyeURhdGEudGVhY2hlcl9pZCwgcXVlcnlEYXRhLmRhdGVfaWQsIHF1ZXJ5RGF0YS50aW1lX2lkLCBxdWVyeURhdGEuY291cnNlX2lkLCBxdWVyeURhdGEub3JpZ2luYWxfcHJpY2UsIHF1ZXJ5RGF0YS5wb2ludCwgcXVlcnlEYXRhLmZpbmFsX3ByaWNlXG4gICAgICAgIF0sXG4gICAgICAgIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpe1xuICAgICAgICBpZihlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwYXltZW50JyxyZXN1bHQpO1xuICAgICAgICByZXMucmVkaXJlY3QoJy8nKTtcbiAgICAgICAgfSk7XG4gICAgfVxuIH0pXG4gbW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNoQyxJQUFJQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxFQUFFO0FBQzdCLElBQUlDLFFBQVEsR0FBR0gsT0FBTyxDQUFDLFlBQVksQ0FBQztBQUNwQyxJQUFNSSxHQUFHLEdBQUdMLE9BQU8sRUFBRTtBQUNyQixJQUFJTSxFQUFFLEdBQUdMLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDekIsSUFBSU0sU0FBUyxHQUFHTixPQUFPLENBQUMsMkJBQTJCLENBQUM7QUFDcEQsSUFBSU8sR0FBRyxHQUFHUCxPQUFPLENBQUMsS0FBSyxDQUFDO0FBQ3hCLElBQUlRLFlBQVksR0FBR1IsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUMzQyxJQUFJUyxNQUFNLEdBQUdULE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUIsSUFBSVUsTUFBTSxHQUFHLElBQUlELE1BQU0sRUFBRTtBQUd6QlIsTUFBTSxDQUFDVSxHQUFHLENBQUMsTUFBTSxFQUFFLFVBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFLO0VBQzdCRCxHQUFHLENBQUNFLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHTCxN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","map":{"version":3,"names":["express","require","router","Router","template","app","db","authCheck","url","sanitizeHtml","Tokens","tokens","get","req","res","session","secret","secretSync","token","create","verify","Error","render","statusUI","isOwner","redirect","dataList","a","query","Course_type","length","b","Course_day","c","Course_time","Number","error2","Instructor","data","push","setTimeout","enroll_list","Enroll_list","post","body","console","log","Student","email","Course_Id","params","CourseId","Date_Id","DateId","Time_Id","TIMEId","Teacher_Id","TeacherId","error","result","Price","price","Point","Course_Active","Course_ID","Date_ID","Time_ID","Teacher_ID","Subject","Name","Email_Address","Phone_Number","Address","Recommand_ID","queryData","parse","point","teacher_id","time_id","date_id","course_id","Student_Id","count","merchant_uid","original_price","final_price","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/","sources":["enroll_page.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar template = require('./template');\nconst app = express()\nvar db = require('../db');\nvar authCheck = require('../lib_login/authCheck.js');\nvar url = require('url');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\n\n\nrouter.get('/sub', (req, res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        res.render('enroll_page_before_search',\n        {\n            authCheck : authCheck.statusUI(req, res)\n        });\n    }\n})\n\nrouter.get('/sub_result', (req, res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        if (!authCheck.isOwner(req, res)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n            res.redirect('/auth/login');\n            return false;\n        }\n        else{\n            var dataList=[];\n            for(let a=0; a<req.query.Course_type.length; a++){\n                for(let b=0; b<req.query.Course_day.length; b++){\n                    for(let c=0; c<req.query.Course_time.length; c++){\n                        db.query(`select * from Instructor left join (select * from Instructor_Time_Date where Course_Active = 0) AS Temp  on Instructor.Teacher_ID = Temp.Teacher_ID left join Instructor_DATE AS ID on ID.Date_ID = Temp.Date_ID left join Instructor_TIME AS IT on IT.TIME_ID = Temp.TIME_ID  left join Course AS C on Temp.Course_ID = C.Course_ID \n                        Where Temp.Course_ID = ? and Temp.TIME_ID = ? and Temp.Date_ID = ?;`,[Number(req.query.Course_type[a]), Number(req.query.Course_day[b]),Number(req.query.Course_time[c])],\n                        function(error2, Instructor){\n                            if(error2) throw error2;\n                            if (!authCheck.isOwner(req, res)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n                                res.redirect('/auth/login');\n                                return false;\n                            }else {\n                                for(var data of Instructor) dataList.push(data);\n                            }\n                            }\t\n                        )\n                    }\n                }\n            }\n        }\n        setTimeout(function(){\n        var enroll_list = template.Enroll_list(dataList);\n        res.render('enroll_page_after_search',\n        {\n            authCheck : authCheck.statusUI(req, res),\n            Enroll_list : enroll_list\n        });\n        },200)\n    }\n})\n\n router.get('/:TeacherId/:CourseId/:DateId/:TIMEId', (req,res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        var post = req.body;\n        console.log('post',post);\n        var Student = sanitizeHtml(req.session.email);\n        var Course_Id = sanitizeHtml(req.params.CourseId);\n        var Date_Id = sanitizeHtml(req.params.DateId);\n        var Time_Id = sanitizeHtml(req.params.TIMEId);\n        var Teacher_Id = sanitizeHtml(req.params.TeacherId);\n        db.query(\n            `\n            select C.Subject, price from Course AS C left join Course_Price AS CP on C.subject = CP.subject where C.Course_ID = ?; \n            select * from Student where Email_Address = ?; \n            select * from Instructor_Time_Date where Teacher_ID = ? and Course_ID = ? and DATE_ID = ? and TIME_ID;\n            `,[Course_Id, Student, Teacher_Id, Course_Id, Date_Id, Time_Id],\n            (error, result) => {\n            if(error) throw error;\n                console.log('result',result);\n                res.render('enroll_page_payment',\n                {\n                    authCheck : authCheck.statusUI(req, res),\n                    Price : result[0][0].price,\n                    Point : result[1][0].Point,\n                    Course_Active : result[2][0].Course_Active,\n                    Course_ID : Course_Id,\n                    Date_ID : Date_Id,\n                    Time_ID : Time_Id,\n                    Teacher_ID : Teacher_Id,\n                    Subject : result[0][0].Subject,\n                    Name : result[1][0].Name,\n                    Email_Address : result[1][0].Email_Address,\n                    Phone_Number : result[1][0].Phone_Number,\n                    Address : result[1][0].Address,\n                    Recommand_ID : result[1][0].Recommand_ID,\n                });\n        })\n    }\n})\n\n router.get('/payment/complete/',(req,res) => {\n    req.session.secret = tokens.secretSync();\n    var token = tokens.create(req.session.secret);\n    if (!tokens.verify(req.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n        var queryData = url.parse(req.url, true).query;\n        console.log('queryData', queryData);\n        db.query(\n            `update Student set Point = Point - ? where Email_Address = ?;\n            update Instructor_Time_Date set Course_Active = 1 where Teacher_ID = ? and TIME_ID = ? and Date_ID = ? and Course_ID = ? ;\n            insert into Section(Student_ID, Teacher_ID, Course_ID, DATE_ID, TIME_ID, Increase_Count, Decrease_Count, Max_Count) values(?,?,?,?,?,0,?,?);\n            insert into Payment(Order_ID, Student_ID, Teacher_ID, DATE_ID, TIME_ID, Course_ID, Original_price, Discount_price, Final_price) value(?,?,?,?,?,?,?,?,?);\n            `,[queryData.point,req.session.email\n            , queryData.teacher_id, queryData.time_id, queryData.date_id, queryData.course_id\n            , req.session.Student_Id, queryData.teacher_id , queryData.course_id, queryData.date_id, queryData.time_id, queryData.count, queryData.count\n            , queryData.merchant_uid, req.session.Student_Id, queryData.teacher_id, queryData.date_id, queryData.time_id, queryData.course_id, queryData.original_price, queryData.point, queryData.final_price\n        ],\n        function(error, result){\n        if(error) throw error;\n        console.log('payment',result);\n        res.redirect('/');\n        });\n    }\n })\n module.exports = router;"],"mappings":"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"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/template.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar sanitizeHtml = require('sanitize-html');\nmodule.exports = {\n  list: function list(topics) {\n    var list = '';\n    var i = 0;\n    console.log(topics);\n    while (i < topics.length) {\n      list = list + \"<tr>\\n                    <td><a href=\\\"/review/page/\".concat(topics[i].Review_ID, \"\\\">\").concat(i + 1, \"</a></td>\\n                    <th>\\n                    <a href=\\\"/review/page/\").concat(topics[i].Review_ID, \"\\\">\\n                    \").concat(topics[i].Title, \"\\n                    </a>\\n                    </th>\\n                    <td>\").concat(topics[i].Create_at, \"</a></td>\\n                    </tr>\");\n      i = i + 1;\n    }\n    list = list + '';\n    return list;\n  },\n  authorSelect: function authorSelect(authors, author_id, nickname) {\n    var tag = '';\n    var i = 0;\n    while (i < authors.length) {\n      var selected = '';\n      if (authors[i].Student_ID === author_id) {\n        selected = ' selected';\n      }\n      if (authors[i].Login_ID === nickname) {\n        tag += \"<option value=\\\"\".concat(authors[i].Student_ID, \"\\\"\").concat(sanitizeHtml(selected), \">\").concat(authors[i].Login_ID, \"</option>\");\n      }\n      i++;\n    }\n    return \"\\n      <select name=\\\"author_id\\\">\\n        \".concat(tag, \"\\n      </select>\\n    \");\n  },\n  Enroll_list: function Enroll_list(topics) {\n    var list = '<ol class=\"mylist\">';\n    var i = 0;\n    console.log('topics', topics);\n    while (i < topics.length) {\n      list = list + \"\\n      <li>\\n        <a href=\\\"/enroll/\".concat(sanitizeHtml(topics[i].Teacher_ID), \"/\").concat(sanitizeHtml(topics[i].Course_ID), \"/\").concat(sanitizeHtml(topics[i].DATE_ID), \"/\").concat(sanitizeHtml(topics[i].TIME_ID), \"\\\"> \\n            <div>\\n            <p>Name :  \").concat(sanitizeHtml(topics[i].Name), \" </p>\\n            </div>\\n            <div align=\\\"center\\\"> Course_ID : \").concat(sanitizeHtml(topics[i].Subject), \"</div>\\n            <div align=\\\"right\\\"><p>Time_ID : \").concat(sanitizeHtml(topics[i].Available_Start_Time), \" Date_ID : \").concat(sanitizeHtml(topics[i].Available_DATE), \" </p></div>\\n          </a>\\n       </li>\\n       \");\n      i = i + 1;\n    }\n    list = list + '</ol>';\n    return list;\n  },\n  create_auth: function create_auth(authors, author_id, nickname) {\n    var i = author_id;\n    if (authors[i - 1].Login_ID === nickname) {\n      return \"\";\n    }\n    return \"\\n    <script type=\\\"text/javascript\\\">alert(\\\"\\uAD8C\\uD55C\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\\\");\\n    document.location.href=\\\"/review\\\";\\n    </script>\\n    \";\n  },\n  authorSelect_create: function authorSelect_create(authors, nickname) {\n    var tag = '';\n    var i = 0;\n    while (i < authors.length) {\n      var selected = '';\n      if (authors[i].Login_ID === nickname) {\n        selected = ' selected';\n      }\n      if (authors[i].Login_ID === nickname) {\n        tag += \"<option value=\\\"\".concat(authors[i].Student_ID, \"\\\"\").concat(selected, \">\").concat(authors[i].Login_ID, \"</option>\");\n      }\n      i++;\n    }\n    return \"\\n      <select  name=\\\"author_id\\\">\\n        \".concat(tag, \"\\n      </select>\\n    \");\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzYW5pdGl6ZUh0bWwiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImxpc3QiLCJ0b3BpY3MiLCJpIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsIlJldmlld19JRCIsIlRpdGxlIiwiQ3JlYXRlX2F0IiwiYXV0aG9yU2VsZWN0IiwiYXV0aG9ycyIsImF1dGhvcl9pZCIsIm5pY2tuYW1lIiwidGFnIiwic2VsZWN0ZWQiLCJTdHVkZW50X0lEIiwiTG9naW5fSUQiLCJFbnJvbGxfbGlzdCIsIlRlYWNoZXJfSUQiLCJDb3Vyc2VfSUQiLCJEQVRFX0lEIiwiVElNRV9JRCIsIk5hbWUiLCJTdWJqZWN0IiwiQXZhaWxhYmxlX1N0YXJ0X1RpbWUiLCJBdmFpbGFibGVfREFURSIsImNyZWF0ZV9hdXRoIiwiYXV0aG9yU2VsZWN0X2NyZWF0ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS13ZWJzb2NrZXQvbGliLyIsInNvdXJjZXMiOlsidGVtcGxhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHNhbml0aXplSHRtbCA9IHJlcXVpcmUoJ3Nhbml0aXplLWh0bWwnKTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBsaXN0OmZ1bmN0aW9uKHRvcGljcyl7XG4gICAgdmFyIGxpc3QgPSAnJztcbiAgICB2YXIgaSA9IDA7XG4gICAgY29uc29sZS5sb2codG9waWNzKVxuICAgIHdoaWxlKGkgPCB0b3BpY3MubGVuZ3RoKXtcbiAgICAgIGxpc3QgPSBsaXN0ICsgYDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRkPjxhIGhyZWY9XCIvcmV2aWV3L3BhZ2UvJHt0b3BpY3NbaV0uUmV2aWV3X0lEfVwiPiR7aSsxfTwvYT48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIvcmV2aWV3L3BhZ2UvJHt0b3BpY3NbaV0uUmV2aWV3X0lEfVwiPlxuICAgICAgICAgICAgICAgICAgICAke3RvcGljc1tpXS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHt0b3BpY3NbaV0uQ3JlYXRlX2F0fTwvYT48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8L3RyPmA7XG4gICAgICBpID0gaSArIDE7XG4gICAgfVxuICAgIGxpc3QgPSBsaXN0KycnO1xuICAgIHJldHVybiBsaXN0O1xuICB9LGF1dGhvclNlbGVjdDpmdW5jdGlvbihhdXRob3JzLCBhdXRob3JfaWQsIG5pY2tuYW1lKXtcbiAgICB2YXIgdGFnID0gJyc7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlKGkgPCBhdXRob3JzLmxlbmd0aCl7XG4gICAgICB2YXIgc2VsZWN0ZWQgPSAnJztcbiAgICAgIGlmKGF1dGhvcnNbaV0uU3R1ZGVudF9JRCA9PT0gYXV0aG9yX2lkKSB7XG4gICAgICAgIHNlbGVjdGVkID0gJyBzZWxlY3RlZCc7XG4gICAgICB9XG4gICAgICBpZihhdXRob3JzW2ldLkxvZ2luX0lEID09PSBuaWNrbmFtZSl7XG4gICAgICB0YWcgKz0gYDxvcHRpb24gdmFsdWU9XCIke2F1dGhvcnNbaV0uU3R1ZGVudF9JRH1cIiR7c2FuaXRpemVIdG1sKHNlbGVjdGVkKX0+JHthdXRob3JzW2ldLkxvZ2luX0lEfTwvb3B0aW9uPmA7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBgXG4gICAgICA8c2VsZWN0IG5hbWU9XCJhdXRob3JfaWRcIj5cbiAgICAgICAgJHt0YWd9XG4gICAgICA8L3NlbGVjdD5cbiAgICBgXG4gIH0sRW5yb2xsX2xpc3QgOiBmdW5jdGlvbih0b3BpY3Mpe1xuICAgIHZhciBsaXN0ID0gJzxvbCBjbGFzcz1cIm15bGlzdFwiPic7XG4gICAgdmFyIGkgPSAwO1xuICAgIGNvbnNvbGUubG9nKCd0b3BpY3MnLCB0b3BpY3MpO1xuICAgIHdoaWxlKGkgPCB0b3BpY3MubGVuZ3RoKXtcbiAgICAgIGxpc3QgPSBsaXN0ICsgYFxuICAgICAgPGxpPlxuICAgICAgICA8YSBocmVmPVwiL2Vucm9sbC8ke3Nhbml0aXplSHRtbCh0b3BpY3NbaV0uVGVhY2hlcl9JRCl9LyR7c2FuaXRpemVIdG1sKHRvcGljc1tpXS5Db3Vyc2VfSUQpfS8ke3Nhbml0aXplSHRtbCh0b3BpY3NbaV0uREFURV9JRCl9LyR7c2FuaXRpemVIdG1sKHRvcGljc1tpXS5USU1FX0lEKX1cIj4gXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPHA+TmFtZSA6ICAke3Nhbml0aXplSHRtbCh0b3BpY3NbaV0uTmFtZSl9IDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBhbGlnbj1cImNlbnRlclwiPiBDb3Vyc2VfSUQgOiAke3Nhbml0aXplSHRtbCh0b3BpY3NbaV0uU3ViamVjdCl9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGFsaWduPVwicmlnaHRcIj48cD5UaW1lX0lEIDogJHtzYW5pdGl6ZUh0bWwodG9waWNzW2ldLkF2YWlsYWJsZV9TdGFydF9UaW1lKX0gRGF0ZV9JRCA6ICR7c2FuaXRpemVIdG1sKHRvcGljc1tpXS5BdmFpbGFibGVfREFURSl9IDwvcD48L2Rpdj5cbiAgICAgICAgICA8L2E+XG4gICAgICAgPC9saT5cbiAgICAgICBgO1xuICAgICAgaSA9IGkgKyAxO1xuICAgIH1cbiAgICBsaXN0ID0gbGlzdCsnPC9vbD4nO1xuICAgIHJldHVybiBsaXN0O1xuICB9XG4gICxjcmVhdGVfYXV0aDpmdW5jdGlvbihhdXRob3JzLCBhdXRob3JfaWQsIG5pY2tuYW1lKXtcbiAgICAgIHZhciBpID0gYXV0aG9yX2lkO1xuICAgICAgaWYoYXV0aG9yc1tpLTFdLkxvZ2luX0lEID09PSBuaWNrbmFtZSApIHtcbiAgICAgICAgcmV0dXJuYGBcbiAgICAgIH1cbiAgICByZXR1cm4gYFxuICAgIDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPmFsZXJ0KFwi6raM7ZWc7J20IOyXhuyKteuLiOuLpC5cIik7XG4gICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZj1cIi9yZXZpZXdcIjtcbiAgICA8L3NjcmlwdD5cbiAgICBgXG4gIH0sYXV0aG9yU2VsZWN0X2NyZWF0ZTpmdW5jdGlvbihhdXRob3JzLCBuaWNrbmFtZSl7XG4gICAgdmFyIHRhZyA9ICcnO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZShpIDwgYXV0aG9ycy5sZW5ndGgpe1xuICAgICAgdmFyIHNlbGVjdGVkID0gJyc7XG4gICAgICBpZihhdXRob3JzW2ldLkxvZ2luX0lEID09PSBuaWNrbmFtZSkge1xuICAgICAgICBzZWxlY3RlZCA9ICcgc2VsZWN0ZWQnO1xuICAgICAgfVxuICAgICAgaWYoYXV0aG9yc1tpXS5Mb2dpbl9JRCA9PT0gbmlja25hbWUpe1xuICAgICAgdGFnICs9IGA8b3B0aW9uIHZhbHVlPVwiJHthdXRob3JzW2ldLlN0dWRlbnRfSUR9XCIke3NlbGVjdGVkfT4ke2F1dGhvcnNbaV0uTG9naW5fSUR9PC9vcHRpb24+YDtcbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGBcbiAgICAgIDxzZWxlY3QgIG5hbWU9XCJhdXRob3JfaWRcIj5cbiAgICAgICAgJHt0YWd9XG4gICAgICA8L3NlbGVjdD5cbiAgICBgXG4gIH1cblxufSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxZQUFZLEdBQUdDLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDM0NDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2ZDLElBQUksRUFBQyxjQUFTQyxNQUFNLEVBQUM7SUFDbkIsSUFBSUQsSUFBSSxHQUFHLEVBQUU7SUFDYixJQUFJRSxDQUFDLEdBQUcsQ0FBQztJQUNUQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0gsTUFBTSxDQUFDO0lBQ25CLE9BQU1DLENBQUMsR0FBR0QsTUFBTSxDQUFDSSxNQUFNLEVBQUM7TUFDdEJMLElBQUksR0FBR0EsSUFBSSxrRUFDK0JDLE1B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","map":{"version":3,"names":["sanitizeHtml","require","module","exports","list","topics","i","console","log","length","Review_ID","Title","Create_at","authorSelect","authors","author_id","nickname","tag","selected","Student_ID","Login_ID","Enroll_list","Teacher_ID","Course_ID","DATE_ID","TIME_ID","Name","Subject","Available_Start_Time","Available_DATE","create_auth","authorSelect_create"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/","sources":["template.js"],"sourcesContent":["var sanitizeHtml = require('sanitize-html');\nmodule.exports = {\n  list:function(topics){\n    var list = '';\n    var i = 0;\n    console.log(topics)\n    while(i < topics.length){\n      list = list + `<tr>\n                    <td><a href=\"/review/page/${topics[i].Review_ID}\">${i+1}</a></td>\n                    <th>\n                    <a href=\"/review/page/${topics[i].Review_ID}\">\n                    ${topics[i].Title}\n                    </a>\n                    </th>\n                    <td>${topics[i].Create_at}</a></td>\n                    </tr>`;\n      i = i + 1;\n    }\n    list = list+'';\n    return list;\n  },authorSelect:function(authors, author_id, nickname){\n    var tag = '';\n    var i = 0;\n    while(i < authors.length){\n      var selected = '';\n      if(authors[i].Student_ID === author_id) {\n        selected = ' selected';\n      }\n      if(authors[i].Login_ID === nickname){\n      tag += `<option value=\"${authors[i].Student_ID}\"${sanitizeHtml(selected)}>${authors[i].Login_ID}</option>`;\n      }\n      i++;\n    }\n    return `\n      <select name=\"author_id\">\n        ${tag}\n      </select>\n    `\n  },Enroll_list : function(topics){\n    var list = '<ol class=\"mylist\">';\n    var i = 0;\n    console.log('topics', topics);\n    while(i < topics.length){\n      list = list + `\n      <li>\n        <a href=\"/enroll/${sanitizeHtml(topics[i].Teacher_ID)}/${sanitizeHtml(topics[i].Course_ID)}/${sanitizeHtml(topics[i].DATE_ID)}/${sanitizeHtml(topics[i].TIME_ID)}\"> \n            <div>\n            <p>Name :  ${sanitizeHtml(topics[i].Name)} </p>\n            </div>\n            <div align=\"center\"> Course_ID : ${sanitizeHtml(topics[i].Subject)}</div>\n            <div align=\"right\"><p>Time_ID : ${sanitizeHtml(topics[i].Available_Start_Time)} Date_ID : ${sanitizeHtml(topics[i].Available_DATE)} </p></div>\n          </a>\n       </li>\n       `;\n      i = i + 1;\n    }\n    list = list+'</ol>';\n    return list;\n  }\n  ,create_auth:function(authors, author_id, nickname){\n      var i = author_id;\n      if(authors[i-1].Login_ID === nickname ) {\n        return``\n      }\n    return `\n    <script type=\"text/javascript\">alert(\"권한이 없습니다.\");\n    document.location.href=\"/review\";\n    </script>\n    `\n  },authorSelect_create:function(authors, nickname){\n    var tag = '';\n    var i = 0;\n    while(i < authors.length){\n      var selected = '';\n      if(authors[i].Login_ID === nickname) {\n        selected = ' selected';\n      }\n      if(authors[i].Login_ID === nickname){\n      tag += `<option value=\"${authors[i].Student_ID}\"${selected}>${authors[i].Login_ID}</option>`;\n      }\n      i++;\n    }\n    return `\n      <select  name=\"author_id\">\n        ${tag}\n      </select>\n    `\n  }\n\n}"],"mappings":"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"}},"mtime":1674688546000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"filename\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/review_page.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jang-yeongjae/Desktop/coding-nara-websocket\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.12:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar template = require('./template');\nvar db = require('../db');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\nrouter.get('/', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    db.query(\"SELECT * FROM Review\", function (error, Reviews) {\n      var title = '';\n      var Description = '리뷰입니다';\n      var list = template.list(Reviews);\n      response.render('review_page_root', {\n        authCheck: authCheck.statusUI(request, response),\n        List: list,\n        Title: title\n      });\n    });\n  }\n});\nrouter.get('/page/:pageId', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    db.query(\"SELECT * FROM Review\", function (error, Reviews) {\n      console.log('req', request);\n      if (error) {\n        throw error;\n      }\n      db.query(\"SELECT * FROM Review LEFT JOIN Student ON Review.Student_ID=Student.Student_ID WHERE Review.Review_ID=?\", [request.params.pageId], function (error2, Review) {\n        if (error2) {\n          throw error2;\n        }\n        console.log(Review);\n        var title = Review[0].Title;\n        var description = Review[0].Description;\n        var login_ID = Review[0].Login_ID;\n        var list = template.list(Reviews);\n        var pageID = request.params.pageId;\n        response.render('review_page_enter', {\n          authCheck: authCheck.statusUI(request, response),\n          List: list,\n          Title: title,\n          Description: description,\n          Login_ID: login_ID,\n          Page_ID: pageID\n        });\n      });\n    });\n  }\n});\nrouter.get('/create', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (!authCheck.isOwner(request, response)) {\n      // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      response.redirect('/auth/login');\n      return false;\n    } else {\n      db.query(\"SELECT * FROM Review\", function (error, Reviews) {\n        db.query('SELECT * FROM Student', function (error2, authors) {\n          var nickname = request.session.nickname;\n          var Title = 'Create';\n          var list = template.list(Reviews);\n          console.log(list);\n          response.render('review_page_create', {\n            authCheck: authCheck.statusUI(request, response),\n            List: list,\n            Nickname: nickname\n          });\n        });\n      });\n    }\n  }\n});\nrouter.post('/create_process', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (!authCheck.isOwner(request, response)) {\n      // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    } else {\n      var post = request.body;\n      var sanitize_title = sanitizeHtml(post.Title);\n      var sanitize_description = sanitizeHtml(post.Description);\n      console.log('sani', sanitize_title, sanitize_description);\n      if (sanitize_title != '' && sanitize_description != '') {\n        db.query(\"\\n          INSERT INTO Review (Student_ID, Title, Description, Create_at, Login_ID, Order_subject) \\n            VALUES(?, ?,?,now(), ?, ?)\", [request.session.Student_Id, sanitize_title, sanitize_description, post.author, 1], function (error, result) {\n          if (error) {\n            throw error;\n          }\n          response.writeHead(302, {\n            Location: \"/review/create\"\n          });\n          response.end();\n        });\n      } else {\n        response.send(\"<script type=\\\"text/javascript\\\">alert(\\\"\\uC798\\uBABB\\uB41C \\uC815\\uBCF4\\uB97C \\uC785\\uB825\\uD588\\uC2B5\\uB2C8\\uB2E4.\\\"); \\n        document.location.href=\\\"/review/create\\\";</script>\");\n      }\n    }\n  }\n});\nrouter.get('/update/:pageId', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (!authCheck.isOwner(request, response)) {\n      // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    } else {\n      db.query('SELECT * FROM Review', function (error, Reviews) {\n        if (error) {\n          throw error;\n        }\n        db.query(\"SELECT * FROM Review WHERE Review_ID=?\", [request.params.pageId], function (error2, Review) {\n          if (error2) {\n            throw error2;\n          }\n          db.query('SELECT * FROM Student', function (error2, authors) {\n            var nickname = request.session.nickname;\n            var list = template.list(Reviews);\n            var title = Review[0].Title;\n            var description = Review[0].Description;\n            var login_ID = Review[0].Login_ID;\n            var list = template.list(Reviews);\n            var review_ID = Review[0].id;\n            response.render('review_page_update', {\n              authCheck: authCheck.statusUI(request, response),\n              List: list,\n              Title: title,\n              Description: description,\n              Login_ID: login_ID,\n              Nickname: nickname,\n              Review_ID: review_ID\n            });\n          });\n        });\n      });\n    }\n  }\n});\nrouter.post('/update_process', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (!authCheck.isOwner(req, res)) {\n      // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    } else {\n      var post = request.body;\n      console.log(post);\n      var sanitize_title = sanitizeHtml(post.Title);\n      var sanitize_description = sanitizeHtml(post.Description);\n      console.log('sani', sanitize_title, sanitize_description);\n      if (sanitize_title != '' && sanitize_description != '') {\n        db.query('UPDATE Review SET Title=?, Description=?, Student_ID=? WHERE Review_ID=?', [post.Title, post.Description, post.author_id, post.id], function (error, result) {\n          response.redirect(\"/review/page/\".concat(post.id));\n        });\n      } else {\n        response.redirect(\"/review/page/\".concat(post.id));\n      }\n    }\n  }\n});\nrouter.post('/delete_process', function (request, response) {\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!');\n  } else {\n    if (!authCheck.isOwner(request, response)) {\n      // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    } else {\n      var post = request.body;\n      db.query('DELETE FROM Review WHERE Review_ID = ?', [post.id], function (error, result) {\n        if (error) {\n          throw error;\n        }\n        response.writeHead(302, {\n          Location: \"/review\"\n        });\n        response.end();\n      });\n    }\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsImF1dGhDaGVjayIsInRlbXBsYXRlIiwiZGIiLCJzYW5pdGl6ZUh0bWwiLCJUb2tlbnMiLCJ0b2tlbnMiLCJnZXQiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJzZXNzaW9uIiwic2VjcmV0Iiwic2VjcmV0U3luYyIsInRva2VuIiwiY3JlYXRlIiwidmVyaWZ5IiwiRXJyb3IiLCJxdWVyeSIsImVycm9yIiwiUmV2aWV3cyIsInRpdGxlIiwiRGVzY3JpcHRpb24iLCJsaXN0IiwicmVuZGVyIiwic3RhdHVzVUkiLCJMaXN0IiwiVGl0bGUiLCJjb25zb2xlIiwibG9nIiwicGFyYW1zIiwicGFnZUlkIiwiZXJyb3IyIiwiUmV2aWV3IiwiZGVzY3JpcHRpb24iLCJsb2dpbl9JRCIsIkxvZ2luX0lEIiwicGFnZUlEIiwiUGFnZV9JRCIsImlzT3duZXIiLCJyZWRpcmVjdCIsImF1dGhvcnMiLCJuaWNrbmFtZSIsIk5pY2tuYW1lIiwicG9zdCIsInJlcyIsImJvZHkiLCJzYW5pdGl6ZV90aXRsZSIsInNhbml0aXplX2Rlc2NyaXB0aW9uIiwiU3R1ZGVudF9JZCIsImF1dGhvciIsInJlc3VsdCIsIndyaXRlSGVhZCIsIkxvY2F0aW9uIiwiZW5kIiwic2VuZCIsInJldmlld19JRCIsImlkIiwiUmV2aWV3X0lEIiwicmVxIiwiYXV0aG9yX2lkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2phbmcteWVvbmdqYWUvRGVza3RvcC9jb2RpbmctbmFyYS13ZWJzb2NrZXQvbGliLyIsInNvdXJjZXMiOlsicmV2aWV3X3BhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnZhciBhdXRoQ2hlY2sgPSByZXF1aXJlKCcuLi9saWJfbG9naW4vYXV0aENoZWNrLmpzJyk7XG52YXIgdGVtcGxhdGUgPSByZXF1aXJlKCcuL3RlbXBsYXRlJyk7XG52YXIgZGIgPSByZXF1aXJlKCcuLi9kYicpO1xudmFyIHNhbml0aXplSHRtbCA9IHJlcXVpcmUoJ3Nhbml0aXplLWh0bWwnKTtcbnZhciBUb2tlbnMgPSByZXF1aXJlKFwiY3NyZlwiKTtcbnZhciB0b2tlbnMgPSBuZXcgVG9rZW5zKCk7XG5cbnJvdXRlci5nZXQoJy8nLCBmdW5jdGlvbihyZXF1ZXN0LHJlc3BvbnNlKXtcbiAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxdWVzdC5zZXNzaW9uLnNlY3JldCk7XG4gIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgfWVsc2V7XG4gICAgZGIucXVlcnkoYFNFTEVDVCAqIEZST00gUmV2aWV3YCwgZnVuY3Rpb24oZXJyb3IsUmV2aWV3cyl7XG4gICAgICB2YXIgdGl0bGUgPSAnJztcbiAgICAgIHZhciBEZXNjcmlwdGlvbiA9ICfrpqzrt7DsnoXri4jri6QnO1xuICAgICAgdmFyIGxpc3QgPSB0ZW1wbGF0ZS5saXN0KFJldmlld3MpO1xuICAgICAgcmVzcG9uc2UucmVuZGVyKCdyZXZpZXdfcGFnZV9yb290JyxcbiAgICAgIHtcbiAgICAgICAgYXV0aENoZWNrIDogYXV0aENoZWNrLnN0YXR1c1VJKHJlcXVlc3QsIHJlc3BvbnNlKSxcbiAgICAgICAgTGlzdCA6IGxpc3QsXG4gICAgICAgIFRpdGxlIDogdGl0bGVcbiAgICAgIH0pO1xuICB9KVxuICB9XG59KVxuXG5yb3V0ZXIuZ2V0KCcvcGFnZS86cGFnZUlkJywgZnVuY3Rpb24ocmVxdWVzdCxyZXNwb25zZSl7XG4gIHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gIH1lbHNle1xuICBkYi5xdWVyeShgU0VMRUNUICogRlJPTSBSZXZpZXdgLCBmdW5jdGlvbihlcnJvcixSZXZpZXdzKXtcbiAgICBjb25zb2xlLmxvZygncmVxJyxyZXF1ZXN0KTtcbiAgICAgIGlmKGVycm9yKXtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICBkYi5xdWVyeShgU0VMRUNUICogRlJPTSBSZXZpZXcgTEVGVCBKT0lOIFN0dWRlbnQgT04gUmV2aWV3LlN0dWRlbnRfSUQ9U3R1ZGVudC5TdHVkZW50X0lEIFdIRVJFIFJldmlldy5SZXZpZXdfSUQ9P2AsW3JlcXVlc3QucGFyYW1zLnBhZ2VJZF0sIGZ1bmN0aW9uKGVycm9yMiwgUmV2aWV3KXtcbiAgICAgICAgaWYoZXJyb3IyKXtcbiAgICAgICAgICB0aHJvdyBlcnJvcjI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coUmV2aWV3KTtcbiAgICAgICAgdmFyIHRpdGxlID0gUmV2aWV3WzBdLlRpdGxlO1xuICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSBSZXZpZXdbMF0uRGVzY3JpcHRpb247XG4gICAgICAgIHZhciBsb2dpbl9JRCA9UmV2aWV3WzBdLkxvZ2luX0lEXG4gICAgICAgIHZhciBsaXN0ID0gdGVtcGxhdGUubGlzdChSZXZpZXdzKTtcbiAgICAgICAgdmFyIHBhZ2VJRCA9IHJlcXVlc3QucGFyYW1zLnBhZ2VJZFxuICAgICAgICByZXNwb25zZS5yZW5kZXIoJ3Jldmlld19wYWdlX2VudGVyJyxcbiAgICAgICAge1xuICAgICAgICBhdXRoQ2hlY2sgOiBhdXRoQ2hlY2suc3RhdHVzVUkocmVxdWVzdCwgcmVzcG9uc2UpLFxuICAgICAgICBMaXN0IDogbGlzdCxcbiAgICAgICAgVGl0bGUgOiB0aXRsZSxcbiAgICAgICAgRGVzY3JpcHRpb24gOiBkZXNjcmlwdGlvbixcbiAgICAgICAgTG9naW5fSUQgOiBsb2dpbl9JRCxcbiAgICAgICAgUGFnZV9JRCA6IHBhZ2VJRFxuICAgICAgICB9KTtcbiAgICAgfSlcbiAgfSlcbn1cbn0pXG5cbnJvdXRlci5nZXQoJy9jcmVhdGUnLCBmdW5jdGlvbihyZXF1ZXN0LHJlc3BvbnNlKXtcbiAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxdWVzdC5zZXNzaW9uLnNlY3JldCk7XG4gIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgfWVsc2V7XG4gICAgaWYgKCFhdXRoQ2hlY2suaXNPd25lcihyZXF1ZXN0LCByZXNwb25zZSkpIHsgIC8vIOuhnOq3uOyduCDslYjrkJjslrTsnojsnLzrqbQg66Gc6re47J24IO2OmOydtOyngOuhnCDsnbTrj5nsi5ztgrRcbiAgICAgIHJlc3BvbnNlLnJlZGlyZWN0KCcvYXV0aC9sb2dpbicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1lbHNlIHtcbiAgICAgICBkYi5xdWVyeShgU0VMRUNUICogRlJPTSBSZXZpZXdgLCBmdW5jdGlvbihlcnJvcixSZXZpZXdzKXtcbiAgICAgICAgZGIucXVlcnkoJ1NFTEVDVCAqIEZST00gU3R1ZGVudCcsIGZ1bmN0aW9uKGVycm9yMiwgYXV0aG9ycyl7XG4gICAgICAgICAgdmFyIG5pY2tuYW1lID0gcmVxdWVzdC5zZXNzaW9uLm5pY2tuYW1lO1xuICAgICAgICAgIHZhciBUaXRsZSA9ICdDcmVhdGUnO1xuICAgICAgICAgIHZhciBsaXN0ID0gdGVtcGxhdGUubGlzdChSZXZpZXdzKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhsaXN0KTtcbiAgICAgICAgICByZXNwb25zZS5yZW5kZXIoJ3Jldmlld19wYWdlX2NyZWF0ZScsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYXV0aENoZWNrIDogYXV0aENoZWNrLnN0YXR1c1VJKHJlcXVlc3QsIHJlc3BvbnNlKSxcbiAgICAgICAgICAgIExpc3QgOiBsaXN0LFxuICAgICAgICAgICAgTmlja25hbWUgOiBuaWNrbmFtZVxuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSlcbiAgfVxufVxufSlcblxuXG5yb3V0ZXIucG9zdCgnL2NyZWF0ZV9wcm9jZXNzJyxmdW5jdGlvbihyZXF1ZXN0LHJlc3BvbnNlKXtcbiAgcmVxdWVzdC5zZXNzaW9uLnNlY3JldCA9IHRva2Vucy5zZWNyZXRTeW5jKCk7XG4gIHZhciB0b2tlbiA9IHRva2Vucy5jcmVhdGUocmVxdWVzdC5zZXNzaW9uLnNlY3JldCk7XG4gIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdG9rZW4hJylcbiAgfWVsc2V7XG4gICAgaWYgKCFhdXRoQ2hlY2suaXNPd25lcihyZXF1ZXN0LCByZXNwb25zZSkpIHsgIC8vIOuhnOq3uOyduCDslYjrkJjslrTsnojsnLzrqbQg66Gc6re47J24IO2OmOydtOyngOuhnCDsnbTrj5nsi5ztgrRcbiAgICAgIHJlcy5yZWRpcmVjdCgnL2F1dGgvbG9naW4nKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9ZWxzZSB7XG4gICAgICB2YXIgcG9zdCA9IHJlcXVlc3QuYm9keTtcbiAgICAgIHZhciBzYW5pdGl6ZV90aXRsZSA9IHNhbml0aXplSHRtbChwb3N0LlRpdGxlKTtcbiAgICAgIHZhciBzYW5pdGl6ZV9kZXNjcmlwdGlvbiA9IHNhbml0aXplSHRtbChwb3N0LkRlc2NyaXB0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCdzYW5pJyxzYW5pdGl6ZV90aXRsZSwgc2FuaXRpemVfZGVzY3JpcHRpb24pO1xuICAgICAgaWYoc2FuaXRpemVfdGl0bGUgIT0gJycgJiYgc2FuaXRpemVfZGVzY3JpcHRpb24gIT0gJycpe1xuICAgICAgICBkYi5xdWVyeShgXG4gICAgICAgICAgSU5TRVJUIElOVE8gUmV2aWV3IChTdHVkZW50X0lELCBUaXRsZSwgRGVzY3JpcHRpb24sIENyZWF0ZV9hdCwgTG9naW5fSUQsIE9yZGVyX3N1YmplY3QpIFxuICAgICAgICAgICAgVkFMVUVTKD8sID8sPyxub3coKSwgPywgPylgLFxuICAgICAgICAgIFtyZXF1ZXN0LnNlc3Npb24uU3R1ZGVudF9JZCwgc2FuaXRpemVfdGl0bGUsIHNhbml0aXplX2Rlc2NyaXB0aW9uLCAgcG9zdC5hdXRob3IsMV0sIFxuICAgICAgICAgIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpe1xuICAgICAgICAgICAgaWYoZXJyb3Ipe1xuICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3BvbnNlLndyaXRlSGVhZCgzMDIsIHtMb2NhdGlvbjogYC9yZXZpZXcvY3JlYXRlYH0pO1xuICAgICAgICAgICAgcmVzcG9uc2UuZW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmVzcG9uc2Uuc2VuZChgPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+YWxlcnQoXCLsnpjrqrvrkJwg7KCV67O066W8IOyeheugpe2WiOyKteuLiOuLpC5cIik7IFxuICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPVwiL3Jldmlldy9jcmVhdGVcIjs8L3NjcmlwdD5gKTsgXG4gICAgICB9XG4gICAgfVxuICB9XG59KVxuXG5cbiAgcm91dGVyLmdldCgnL3VwZGF0ZS86cGFnZUlkJyxmdW5jdGlvbihyZXF1ZXN0LHJlc3BvbnNlKXtcbiAgICByZXF1ZXN0LnNlc3Npb24uc2VjcmV0ID0gdG9rZW5zLnNlY3JldFN5bmMoKTtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICAgIGlmICghdG9rZW5zLnZlcmlmeShyZXF1ZXN0LnNlc3Npb24uc2VjcmV0LCB0b2tlbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0b2tlbiEnKVxuICAgIH1lbHNle1xuICAgICAgaWYgKCFhdXRoQ2hlY2suaXNPd25lcihyZXF1ZXN0LCByZXNwb25zZSkpIHsgIC8vIOuhnOq3uOyduCDslYjrkJjslrTsnojsnLzrqbQg66Gc6re47J24IO2OmOydtOyngOuhnCDsnbTrj5nsi5ztgrRcbiAgICAgICAgcmVzLnJlZGlyZWN0KCcvYXV0aC9sb2dpbicpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZSB7ICAgICAgXG4gICAgICAgIGRiLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIFJldmlldycsIGZ1bmN0aW9uKGVycm9yLCBSZXZpZXdzKXtcbiAgICAgICAgICAgIGlmKGVycm9yKXtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYi5xdWVyeShgU0VMRUNUICogRlJPTSBSZXZpZXcgV0hFUkUgUmV2aWV3X0lEPT9gLFtyZXF1ZXN0LnBhcmFtcy5wYWdlSWRdLCBmdW5jdGlvbihlcnJvcjIsIFJldmlldyl7XG4gICAgICAgICAgICAgIGlmKGVycm9yMil7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3IyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRiLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIFN0dWRlbnQnLCBmdW5jdGlvbihlcnJvcjIsIGF1dGhvcnMpe1xuICAgICAgICAgICAgICAgIHZhciBuaWNrbmFtZSA9IHJlcXVlc3Quc2Vzc2lvbi5uaWNrbmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHRlbXBsYXRlLmxpc3QoUmV2aWV3cyk7XG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gUmV2aWV3WzBdLlRpdGxlO1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IFJldmlld1swXS5EZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB2YXIgbG9naW5fSUQgPVJldmlld1swXS5Mb2dpbl9JRFxuICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gdGVtcGxhdGUubGlzdChSZXZpZXdzKTtcbiAgICAgICAgICAgICAgICB2YXIgcmV2aWV3X0lEID0gUmV2aWV3WzBdLmlkO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlbmRlcigncmV2aWV3X3BhZ2VfdXBkYXRlJyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXV0aENoZWNrIDogYXV0aENoZWNrLnN0YXR1c1VJKHJlcXVlc3QsIHJlc3BvbnNlKSxcbiAgICAgICAgICAgICAgICBMaXN0IDogbGlzdCxcbiAgICAgICAgICAgICAgICBUaXRsZSA6IHRpdGxlLFxuICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uIDogZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgTG9naW5fSUQgOiBsb2dpbl9JRCxcbiAgICAgICAgICAgICAgICBOaWNrbmFtZSA6IG5pY2tuYW1lLFxuICAgICAgICAgICAgICAgIFJldmlld19JRCA6IHJldmlld19JRCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxufSlcblxuXG5yb3V0ZXIucG9zdCgnL3VwZGF0ZV9wcm9jZXNzJywgZnVuY3Rpb24ocmVxdWVzdCxyZXNwb25zZSl7XG4gIHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gIH1lbHNle1xuICAgIGlmICghYXV0aENoZWNrLmlzT3duZXIocmVxLCByZXMpKSB7ICAvLyDroZzqt7jsnbgg7JWI65CY7Ja07J6I7Jy866m0IOuhnOq3uOyduCDtjpjsnbTsp4DroZwg7J2064+Z7Iuc7YK0XG4gICAgICByZXMucmVkaXJlY3QoJy9hdXRoL2xvZ2luJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfWVsc2Uge1xuICAgICAgdmFyIHBvc3QgPSByZXF1ZXN0LmJvZHk7XG4gICAgICBjb25zb2xlLmxvZyhwb3N0KTtcbiAgICAgIHZhciBzYW5pdGl6ZV90aXRsZSA9IHNhbml0aXplSHRtbChwb3N0LlRpdGxlKTtcbiAgICAgIHZhciBzYW5pdGl6ZV9kZXNjcmlwdGlvbiA9IHNhbml0aXplSHRtbChwb3N0LkRlc2NyaXB0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCdzYW5pJyxzYW5pdGl6ZV90aXRsZSwgc2FuaXRpemVfZGVzY3JpcHRpb24pO1xuICAgICAgaWYoc2FuaXRpemVfdGl0bGUgIT0gJycgJiYgc2FuaXRpemVfZGVzY3JpcHRpb24gIT0gJycpe1xuICAgICAgICBkYi5xdWVyeSgnVVBEQVRFIFJldmlldyBTRVQgVGl0bGU9PywgRGVzY3JpcHRpb249PywgU3R1ZGVudF9JRD0/IFdIRVJFIFJldmlld19JRD0/JywgW3Bvc3QuVGl0bGUsIHBvc3QuRGVzY3JpcHRpb24sIHBvc3QuYXV0aG9yX2lkLCBwb3N0LmlkXSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCl7XG4gICAgICAgICAgcmVzcG9uc2UucmVkaXJlY3QoYC9yZXZpZXcvcGFnZS8ke3Bvc3QuaWR9YClcbiAgICAgICAgfSlcbiAgICAgIH1lbHNle1xuICAgICAgICByZXNwb25zZS5yZWRpcmVjdChgL3Jldmlldy9wYWdlLyR7cG9zdC5pZH1gKVxuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cbnJvdXRlci5wb3N0KCcvZGVsZXRlX3Byb2Nlc3MnLCBmdW5jdGlvbihyZXF1ZXN0LCByZXNwb25zZSl7XG4gIHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQgPSB0b2tlbnMuc2VjcmV0U3luYygpO1xuICB2YXIgdG9rZW4gPSB0b2tlbnMuY3JlYXRlKHJlcXVlc3Quc2Vzc2lvbi5zZWNyZXQpO1xuICBpZiAoIXRva2Vucy52ZXJpZnkocmVxdWVzdC5zZXNzaW9uLnNlY3JldCwgdG9rZW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHRva2VuIScpXG4gIH1lbHNle1xuICAgIGlmICghYXV0aENoZWNrLmlzT3duZXIocmVxdWVzdCwgcmVzcG9uc2UpKSB7ICAvLyDroZzqt7jsnbgg7JWI65CY7Ja07J6I7Jy866m0IOuhnOq3uOyduCDtjpjsnbTsp4DroZwg7J2064+Z7Iuc7YK0XG4gICAgICByZXMucmVkaXJlY3QoJy9hdXRoL2xvZ2luJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfWVsc2Uge1xuICAgICAgdmFyIHBvc3QgPSByZXF1ZXN0LmJvZHk7XG4gICAgICBkYi5xdWVyeSgnREVMRVRFIEZST00gUmV2aWV3IFdIRVJFIFJldmlld19JRCA9ID8nLCBbcG9zdC5pZF0sIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpe1xuICAgICAgICBpZihlcnJvcil7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmVzcG9uc2Uud3JpdGVIZWFkKDMwMiwge0xvY2F0aW9uOiBgL3Jldmlld2B9KTtcbiAgICAgICAgcmVzcG9uc2UuZW5kKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pO1xubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2hDLElBQUlDLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLEVBQUU7QUFDN0IsSUFBSUMsU0FBUyxHQUFHSCxPQUFPLENBQUMsMkJBQTJCLENB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","map":{"version":3,"names":["express","require","router","Router","authCheck","template","db","sanitizeHtml","Tokens","tokens","get","request","response","session","secret","secretSync","token","create","verify","Error","query","error","Reviews","title","Description","list","render","statusUI","List","Title","console","log","params","pageId","error2","Review","description","login_ID","Login_ID","pageID","Page_ID","isOwner","redirect","authors","nickname","Nickname","post","res","body","sanitize_title","sanitize_description","Student_Id","author","result","writeHead","Location","end","send","review_ID","id","Review_ID","req","author_id","module","exports"],"sourceRoot":"/Users/jang-yeongjae/Desktop/coding-nara-websocket/lib/","sources":["review_page.js"],"sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar authCheck = require('../lib_login/authCheck.js');\nvar template = require('./template');\nvar db = require('../db');\nvar sanitizeHtml = require('sanitize-html');\nvar Tokens = require(\"csrf\");\nvar tokens = new Tokens();\n\nrouter.get('/', function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    db.query(`SELECT * FROM Review`, function(error,Reviews){\n      var title = '';\n      var Description = '리뷰입니다';\n      var list = template.list(Reviews);\n      response.render('review_page_root',\n      {\n        authCheck : authCheck.statusUI(request, response),\n        List : list,\n        Title : title\n      });\n  })\n  }\n})\n\nrouter.get('/page/:pageId', function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n  db.query(`SELECT * FROM Review`, function(error,Reviews){\n    console.log('req',request);\n      if(error){\n        throw error;\n      }\n      db.query(`SELECT * FROM Review LEFT JOIN Student ON Review.Student_ID=Student.Student_ID WHERE Review.Review_ID=?`,[request.params.pageId], function(error2, Review){\n        if(error2){\n          throw error2;\n        }\n        console.log(Review);\n        var title = Review[0].Title;\n        var description = Review[0].Description;\n        var login_ID =Review[0].Login_ID\n        var list = template.list(Reviews);\n        var pageID = request.params.pageId\n        response.render('review_page_enter',\n        {\n        authCheck : authCheck.statusUI(request, response),\n        List : list,\n        Title : title,\n        Description : description,\n        Login_ID : login_ID,\n        Page_ID : pageID\n        });\n     })\n  })\n}\n})\n\nrouter.get('/create', function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    if (!authCheck.isOwner(request, response)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      response.redirect('/auth/login');\n      return false;\n    }else {\n       db.query(`SELECT * FROM Review`, function(error,Reviews){\n        db.query('SELECT * FROM Student', function(error2, authors){\n          var nickname = request.session.nickname;\n          var Title = 'Create';\n          var list = template.list(Reviews);\n          console.log(list);\n          response.render('review_page_create',\n          {\n            authCheck : authCheck.statusUI(request, response),\n            List : list,\n            Nickname : nickname\n          });\n      });\n    })\n  }\n}\n})\n\n\nrouter.post('/create_process',function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    if (!authCheck.isOwner(request, response)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    }else {\n      var post = request.body;\n      var sanitize_title = sanitizeHtml(post.Title);\n      var sanitize_description = sanitizeHtml(post.Description);\n      console.log('sani',sanitize_title, sanitize_description);\n      if(sanitize_title != '' && sanitize_description != ''){\n        db.query(`\n          INSERT INTO Review (Student_ID, Title, Description, Create_at, Login_ID, Order_subject) \n            VALUES(?, ?,?,now(), ?, ?)`,\n          [request.session.Student_Id, sanitize_title, sanitize_description,  post.author,1], \n          function(error, result){\n            if(error){\n              throw error;\n            }\n            response.writeHead(302, {Location: `/review/create`});\n            response.end();\n          }\n        )\n      }else{\n        response.send(`<script type=\"text/javascript\">alert(\"잘못된 정보를 입력했습니다.\"); \n        document.location.href=\"/review/create\";</script>`); \n      }\n    }\n  }\n})\n\n\n  router.get('/update/:pageId',function(request,response){\n    request.session.secret = tokens.secretSync();\n    var token = tokens.create(request.session.secret);\n    if (!tokens.verify(request.session.secret, token)) {\n      throw new Error('invalid token!')\n    }else{\n      if (!authCheck.isOwner(request, response)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n        res.redirect('/auth/login');\n        return false;\n      }else {      \n        db.query('SELECT * FROM Review', function(error, Reviews){\n            if(error){\n              throw error;\n            }\n            db.query(`SELECT * FROM Review WHERE Review_ID=?`,[request.params.pageId], function(error2, Review){\n              if(error2){\n                throw error2;\n              }\n              db.query('SELECT * FROM Student', function(error2, authors){\n                var nickname = request.session.nickname;\n                var list = template.list(Reviews);\n                var title = Review[0].Title;\n                var description = Review[0].Description;\n                var login_ID =Review[0].Login_ID\n                var list = template.list(Reviews);\n                var review_ID = Review[0].id;\n                response.render('review_page_update',\n                {\n                authCheck : authCheck.statusUI(request, response),\n                List : list,\n                Title : title,\n                Description : description,\n                Login_ID : login_ID,\n                Nickname : nickname,\n                Review_ID : review_ID,\n                });\n              });\n            });\n        });\n      }\n    }\n})\n\n\nrouter.post('/update_process', function(request,response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    if (!authCheck.isOwner(req, res)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    }else {\n      var post = request.body;\n      console.log(post);\n      var sanitize_title = sanitizeHtml(post.Title);\n      var sanitize_description = sanitizeHtml(post.Description);\n      console.log('sani',sanitize_title, sanitize_description);\n      if(sanitize_title != '' && sanitize_description != ''){\n        db.query('UPDATE Review SET Title=?, Description=?, Student_ID=? WHERE Review_ID=?', [post.Title, post.Description, post.author_id, post.id], function(error, result){\n          response.redirect(`/review/page/${post.id}`)\n        })\n      }else{\n        response.redirect(`/review/page/${post.id}`)\n      }\n    }\n  }\n});\n\nrouter.post('/delete_process', function(request, response){\n  request.session.secret = tokens.secretSync();\n  var token = tokens.create(request.session.secret);\n  if (!tokens.verify(request.session.secret, token)) {\n    throw new Error('invalid token!')\n  }else{\n    if (!authCheck.isOwner(request, response)) {  // 로그인 안되어있으면 로그인 페이지로 이동시킴\n      res.redirect('/auth/login');\n      return false;\n    }else {\n      var post = request.body;\n      db.query('DELETE FROM Review WHERE Review_ID = ?', [post.id], function(error, result){\n        if(error){\n          throw error;\n        }\n        response.writeHead(302, {Location: `/review`});\n        response.end();\n      });\n    }\n  }\n});\nmodule.exports = router;\n"],"mappings":"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"}},"mtime":1674885110542}}